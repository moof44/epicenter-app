var xk=Object.defineProperty,Nk=Object.defineProperties;var kk=Object.getOwnPropertyDescriptors;var Uu=Object.getOwnPropertySymbols,Mk=Object.getPrototypeOf,UI=Object.prototype.hasOwnProperty,$I=Object.prototype.propertyIsEnumerable,Pk=Reflect.get;var jI=(t,e,n)=>e in t?xk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z=(t,e)=>{for(var n in e||={})UI.call(e,n)&&jI(t,n,e[n]);if(Uu)for(var n of Uu(e))$I.call(e,n)&&jI(t,n,e[n]);return t},De=(t,e)=>Nk(t,kk(e));var c4=(t,e)=>{var n={};for(var r in t)UI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Uu)for(var r of Uu(t))e.indexOf(r)<0&&$I.call(t,r)&&(n[r]=t[r]);return n};var Sr=(t,e,n)=>Pk(Mk(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var gp;function $u(){return gp}function yn(t){let e=gp;return gp=t,e}var HI=Symbol("NotFound");function Lo(t){return t===HI||t?.name==="\u0275NotFound"}var lt=null,Hu=!1,yp=1,Ok=null,dt=Symbol("SIGNAL");function G(t){let e=lt;return lt=t,e}function Gu(){return lt}var Ei={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vo(t){if(Hu)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=lt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:lt.producers,n!==void 0&&n.producer===t)){lt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===lt&&(!r||Lk(i,lt)))return;let o=Uo(lt),s={producer:t,consumer:lt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};lt.producersTail=s,e!==void 0?e.nextProducer=s:lt.producers=s,o&&GI(t,s)}function zI(){yp++}function Ku(t){if(!(Uo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yp)){if(!t.producerMustRecompute(t)&&!jo(t)){Wu(t);return}t.producerRecomputeValue(t),Wu(t)}}function _p(t){if(t.consumers===void 0)return;let e=Hu;Hu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Fk(r)}}finally{Hu=e}}function vp(){return lt?.consumerAllowSignalWrites!==!1}function Fk(t){t.dirty=!0,_p(t),t.consumerMarkedDirty?.(t)}function Wu(t){t.dirty=!1,t.lastCleanEpoch=yp}function Ii(t){return t&&qI(t),G(t)}function qI(t){t.producersTail=void 0,t.recomputing=!0}function Bo(t,e){G(e),t&&WI(t)}function WI(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Uo(t))do n=bp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function jo(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Ku(n),r!==n.version))return!0}return!1}function wi(t){if(Uo(t)){let e=t.producers;for(;e!==void 0;)e=bp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function GI(t,e){let n=t.consumersTail,r=Uo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)GI(i.producer,i)}function bp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Uo(e)){let o=e.producers;for(;o!==void 0;)o=bp(o)}return n}function Uo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Yu(t){Ok?.(t)}function Lk(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Qu(t,e){return Object.is(t,e)}function Zu(t,e){let n=Object.create(Vk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Ku(n),Vo(n),n.value===Sa)throw n.error;return n.value};return r[dt]=n,Yu(n),r}var zu=Symbol("UNSET"),qu=Symbol("COMPUTING"),Sa=Symbol("ERRORED"),Vk=De(z({},Ei),{value:zu,dirty:!0,error:null,equal:Qu,kind:"computed",producerMustRecompute(t){return t.value===zu||t.value===qu},producerRecomputeValue(t){if(t.value===qu)throw new Error("");let e=t.value;t.value=qu;let n=Ii(t),r,i=!1;try{r=t.computation(),G(null),i=e!==zu&&e!==Sa&&r!==Sa&&t.equal(e,r)}catch(o){r=Sa,t.error=o}finally{Bo(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Bk(){throw new Error}var KI=Bk;function YI(t){KI(t)}function Ep(t){KI=t}var jk=null;function Ip(t,e){let n=Object.create(Xu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>QI(n);return r[dt]=n,Yu(n),[r,s=>$o(n,s),s=>wp(n,s)]}function QI(t){return Vo(t),t.value}function $o(t,e){vp()||YI(t),t.equal(t.value,e)||(t.value=e,Uk(t))}function wp(t,e){vp()||YI(t),$o(t,e(t.value))}var Xu=De(z({},Ei),{equal:Qu,value:void 0,kind:"signal"});function Uk(t){t.version++,zI(),_p(t),jk?.(t)}function ee(t){return typeof t=="function"}function Ho(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ju=Ho(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ZI(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ZI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Di(n,e)}remove(e){let{_finalizers:n}=this;n&&Di(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Dp=Ee.EMPTY;function el(t){return t instanceof Ee||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function ZI(t){ee(t)?t():t.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zo={setTimeout(t,e,...n){let{delegate:r}=zo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=zo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function tl(t){zo.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(t);else throw t})}function Ti(){}var XI=Tp("C",void 0,void 0);function JI(t){return Tp("E",void 0,t)}function ew(t){return Tp("N",t,void 0)}function Tp(t,e,n){return{kind:t,value:e,error:n}}var Ci=null;function qo(t){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ci;if(Ci=null,n)throw r}}else t()}function tw(t){Xt.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}var Si=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,el(e)&&e.add(this)):this.destination=zk}static create(e,n,r){return new qn(e,n,r)}next(e){this.isStopped?Sp(ew(e),this):this._next(e)}error(e){this.isStopped?Sp(JI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sp(XI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$k=Function.prototype.bind;function Cp(t,e){return $k.call(t,e)}var Ap=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nl(r)}else nl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nl(n)}}},qn=class extends Si{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cp(e.next,o),error:e.error&&Cp(e.error,o),complete:e.complete&&Cp(e.complete,o)}):i=e}this.destination=new Ap(i)}};function nl(t){Xt.useDeprecatedSynchronousErrorHandling?tw(t):tl(t)}function Hk(t){throw t}function Sp(t,e){let{onStoppedNotification:n}=Xt;n&&zo.setTimeout(()=>n(t,e))}var zk={closed:!0,next:Ti,error:Hk,complete:Ti};var Wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(t){return t}function nw(...t){return Rp(t)}function Rp(t){return t.length===0?bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Wk(n)?n:new qn(n,r,i);return qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rw(r),new r((i,o)=>{let s=new qn({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wo](){return this}pipe(...n){return Rp(n)(this)}toPromise(n){return n=rw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function rw(t){var e;return(e=t??Xt.Promise)!==null&&e!==void 0?e:Promise}function qk(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function Wk(t){return t&&t instanceof Si||qk(t)&&el(t)}function xp(t){return ee(t?.lift)}function re(t){return e=>{if(xp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,e,n,r,i){return new Np(t,e,n,r,i)}var Np=class extends Si{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function kp(){return re((t,e)=>{let n=null;t._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Mp=class extends q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return kp()(this)}};var iw=Ho(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new rl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iw}next(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Dp:(this.currentObservers=null,o.push(n),new Ee(()=>{this.currentObservers=null,Di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new rl(e,n),t})(),rl=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Dp}};var Ai=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pp={now(){return(Pp.delegate||Date).now()},delegate:void 0};var il=class extends Ee{constructor(e,n){super()}schedule(e,n=0){return this}};var Aa={setInterval(t,e,...n){let{delegate:r}=Aa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Aa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Go=class extends il{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Aa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ko=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ko.now=Pp.now;var Yo=class extends Ko{constructor(e,n=Ko.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ar=new Yo(Go),Op=Ar;var ol=class extends Go{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var sl=class extends Yo{};var Fp=new sl(ol);var Ri=new q(t=>t.complete());function al(t){return t&&ee(t.schedule)}function Lp(t){return t[t.length-1]}function cl(t){return ee(Lp(t))?t.pop():void 0}function _n(t){return al(Lp(t))?t.pop():void 0}function ow(t,e){return typeof Lp(t)=="number"?t.pop():e}function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function sw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function cw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function a(y,I){r[y]&&(i[y]=function(R){return new Promise(function(N,P){o.push([y,R,N,P])>1||u(y,R)})},I&&(i[y]=I(i[y])))}function u(y,I){try{l(r[y](I))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof xi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,I){y(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function uw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sw=="function"?sw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ul=t=>t&&typeof t.length=="number"&&typeof t!="function";function ll(t){return ee(t?.then)}function dl(t){return ee(t[Wo])}function hl(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function fl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Gk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pl=Gk();function ml(t){return ee(t?.[pl])}function gl(t){return cw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xi(n.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{n.releaseLock()}})}function yl(t){return ee(t?.getReader)}function be(t){if(t instanceof q)return t;if(t!=null){if(dl(t))return Kk(t);if(ul(t))return Yk(t);if(ll(t))return Qk(t);if(hl(t))return lw(t);if(ml(t))return Zk(t);if(yl(t))return Xk(t)}throw fl(t)}function Kk(t){return new q(e=>{let n=t[Wo]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yk(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Qk(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,tl)})}function Zk(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lw(t){return new q(e=>{Jk(t,e).catch(n=>e.error(n))})}function Xk(t){return lw(gl(t))}function Jk(t,e){var n,r,i,o;return aw(this,void 0,void 0,function*(){try{for(n=uw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Rt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Rr(t,e=0){return re((n,r)=>{n.subscribe(te(r,i=>Rt(r,t,()=>r.next(i),e),()=>Rt(r,t,()=>r.complete(),e),i=>Rt(r,t,()=>r.error(i),e)))})}function xr(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dw(t,e){return be(t).pipe(xr(e),Rr(e))}function hw(t,e){return be(t).pipe(xr(e),Rr(e))}function fw(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pw(t,e){return new q(n=>{let r;return Rt(n,e,()=>{r=t[pl](),Rt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function _l(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{Rt(n,e,()=>{let r=t[Symbol.asyncIterator]();Rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mw(t,e){return _l(gl(t),e)}function gw(t,e){if(t!=null){if(dl(t))return dw(t,e);if(ul(t))return fw(t,e);if(ll(t))return hw(t,e);if(hl(t))return _l(t,e);if(ml(t))return pw(t,e);if(yl(t))return mw(t,e)}throw fl(t)}function Jt(t,e){return e?gw(t,e):be(t)}function Ni(...t){let e=_n(t);return Jt(t,e)}function eM(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}function yw(t){return!!t&&(t instanceof q||ee(t.lift)&&ee(t.subscribe))}var ki=Ho(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _w(t){return t instanceof Date&&!isNaN(t)}function ht(t,e){return re((n,r)=>{let i=0;n.subscribe(te(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:tM}=Array;function nM(t,e){return tM(e)?t(...e):t(e)}function vl(t){return ht(e=>nM(t,e))}var{isArray:rM}=Array,{getPrototypeOf:iM,prototype:oM,keys:sM}=Object;function bl(t){if(t.length===1){let e=t[0];if(rM(e))return{args:e,keys:null};if(aM(e)){let n=sM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aM(t){return t&&typeof t=="object"&&iM(t)===oM}function El(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bp(...t){let e=_n(t),n=cl(t),{args:r,keys:i}=bl(t);if(r.length===0)return Jt([],e);let o=new q(cM(r,e,i?s=>El(i,s):bt));return n?o.pipe(vl(n)):o}function cM(t,e,n=bt){return r=>{vw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)vw(e,()=>{let l=Jt(t[u],e),h=!1;l.subscribe(te(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vw(t,e,n){t?Rt(n,t,e):e()}function bw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?I(R):u.push(R),I=R=>{o&&e.next(R),l++;let N=!1;be(n(R,h++)).subscribe(te(e,P=>{i?.(P),o?y(P):e.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let P=u.shift();s?Rt(e,s,()=>I(P)):I(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(te(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Mi(t,e,n=1/0){return ee(e)?Mi((r,i)=>ht((o,s)=>e(r,o,i,s))(be(t(r,i))),n):(typeof e=="number"&&(n=e),re((r,i)=>bw(r,i,t,n)))}function Ra(t=1/0){return Mi(bt,t)}function Ew(){return Ra(1)}function Qo(...t){return Ew()(Jt(t,_n(t)))}function uM(t){return new q(e=>{be(t()).subscribe(e)})}function lM(...t){let e=cl(t),{args:n,keys:r}=bl(t),i=new q(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;be(n[h]).subscribe(te(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?El(r,a):a),o.complete())}))}});return e?i.pipe(vl(e)):i}function Iw(t=0,e,n=Op){let r=-1;return e!=null&&(al(e)?n=e:r=e),new q(i=>{let o=_w(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function dM(...t){let e=_n(t),n=ow(t,1/0),r=t;return r.length?r.length===1?be(r[0]):Ra(n)(Jt(r,e)):Ri}var hM=new q(Ti);function xt(t,e){return re((n,r)=>{let i=0;n.subscribe(te(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ww(t){return re((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(te(n,l=>{r=!0,i=l,o||be(t(l)).subscribe(o=te(n,a,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Il(t,e=Ar){return ww(()=>Iw(t,e))}function Dw(t){return re((e,n)=>{let r=null,i=!1,o;r=e.subscribe(te(n,void 0,void 0,s=>{o=be(t(s,Dw(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Tw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(te(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function fM(t,e){return ee(e)?Mi(t,e,1):Mi(t,1)}function xa(t,e=Ar){return re((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(te(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Na(t){return re((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ka(t){return t<=0?()=>Ri:re((e,n)=>{let r=0;e.subscribe(te(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ma(t,e=bt){return t=t??pM,re((n,r)=>{let i,o=!0;n.subscribe(te(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function pM(t,e){return t===e}function wl(t=mM){return re((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mM(){return new ki}function gM(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function yM(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xt((i,o)=>t(i,o,r)):bt,ka(1),n?Na(e):wl(()=>new ki))}function jp(t){return t<=0?()=>Ri:re((e,n)=>{let r=[];e.subscribe(te(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _M(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xt((i,o)=>t(i,o,r)):bt,jp(1),n?Na(e):wl(()=>new ki))}function Cw(t,e){return re(Tw(t,e,arguments.length>=2,!0))}function vM(t={}){let{connector:e=()=>new se,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=p=!1},I=()=>{let R=s;y(),R?.unsubscribe()};return re((R,N)=>{l++,!p&&!h&&m();let P=u=u??e();N.add(()=>{l--,l===0&&!p&&!h&&(a=Up(I,i))}),P.subscribe(N),!s&&l>0&&(s=new qn({next:j=>P.next(j),error:j=>{p=!0,m(),a=Up(y,n,j),P.error(j)},complete:()=>{h=!0,m(),a=Up(y,r),P.complete()}}),be(R).subscribe(s))})(o)}}function Up(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new qn({next:()=>{r.unsubscribe(),t()}});return be(e(...n)).subscribe(r)}function Pa(t){return xt((e,n)=>t<=n)}function Oa(...t){let e=_n(t);return re((n,r)=>{(e?Qo(t,n,e):Qo(t,n)).subscribe(r)})}function Sw(t,e){return re((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(te(r,u=>{i?.unsubscribe();let l=0,h=o++;be(t(u,h)).subscribe(i=te(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Nr(t){return re((e,n)=>{be(t).subscribe(te(n,()=>n.complete(),Ti)),!n.closed&&e.subscribe(n)})}function $p(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):bt}function Aw(t){let e=G(null);try{return t()}finally{G(e)}}var Rw=De(z({},Ei),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function xw(t){if(t.dirty=!1,t.version>0&&!jo(t))return;t.version++;let e=Ii(t);try{t.cleanup(),t.fn()}finally{Bo(t,e)}}var Oi=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},em=new Oi("20.3.10");var Sl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,n){super(Bi(e,n)),this.code=e}};function bM(t){return`NG0${Math.abs(t)}`}function Bi(t,e){return`${bM(t)}${e?": "+e:""}`}var vn=globalThis;function he(t){for(let e in t)if(t[e]===he)return e;throw Error("")}function Mw(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Gn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Al(t,e){return t?e?`${t} ${e}`:t:e||""}var EM=he({__forward_ref__:he});function ja(t){return t.__forward_ref__=ja,t.toString=function(){return Gn(this())},t}function it(t){return tm(t)?t():t}function tm(t){return typeof t=="function"&&t.hasOwnProperty(EM)&&t.__forward_ref__===ja}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Me(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ua(t){return wM(t,Rl)}function IM(t){return Ua(t)!==null}function wM(t,e){return t.hasOwnProperty(e)&&t[e]||null}function DM(t){let e=t?.[Rl]??null;return e||null}function zp(t){return t&&t.hasOwnProperty(Tl)?t[Tl]:null}var Rl=he({\u0275prov:he}),Tl=he({\u0275inj:he}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nm(t){return t&&!!t.\u0275providers}var rm=he({\u0275cmp:he}),im=he({\u0275dir:he}),om=he({\u0275pipe:he}),sm=he({\u0275mod:he}),La=he({\u0275fac:he}),ji=he({__NG_ELEMENT_ID__:he}),Nw=he({__NG_ENV_ID__:he});function Ui(t){return typeof t=="string"?t:t==null?"":String(t)}function Pw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ui(t)}var Ow=he({ngErrorCode:he}),TM=he({ngErrorMessage:he}),CM=he({ngTokenPath:he});function am(t,e){return Fw("",-200,e)}function xl(t,e){throw new Q(-201,!1)}function Fw(t,e,n){let r=new Q(e,t);return r[Ow]=e,r[TM]=t,n&&(r[CM]=n),r}function SM(t){return t[Ow]}var qp;function Lw(){return qp}function Et(t){let e=qp;return qp=t,e}function cm(t,e,n){let r=Ua(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;xl(t,"Injector")}var AM={},Pi=AM,Wp="__NG_DI_FLAG__",Gp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Fi(n)||0;try{return this.injector.get(e,r&8?null:Pi,r)}catch(i){if(Lo(i))return i;throw i}}};function RM(t,e=0){let n=$u();if(n===void 0)throw new Q(-203,!1);if(n===null)return cm(t,void 0,e);{let r=xM(e),i=n.retrieve(t,r);if(Lo(i)){if(r.optional)return null;throw i}return i}}function Ye(t,e=0){return(Lw()||RM)(it(t),e)}function C(t,e){return Ye(t,Fi(e))}function Fi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xM(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Kp(t){let e=[];for(let n=0;n<t.length;n++){let r=it(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=NM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Ye(i,o))}else e.push(Ye(r))}return e}function Vw(t,e){return t[Wp]=e,t.prototype[Wp]=e,t}function NM(t){return t[Wp]}function kr(t,e){let n=t.hasOwnProperty(La);return n?t[La]:null}function Bw(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function jw(t){return t.flat(Number.POSITIVE_INFINITY)}function Nl(t,e){t.forEach(n=>Array.isArray(n)?Nl(n,e):e(n))}function um(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $a(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Uw(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function $w(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function kl(t,e,n){let r=Xo(t,e);return r>=0?t[r|1]=n:(r=~r,$w(t,r,e,n)),r}function Ml(t,e){let n=Xo(t,e);if(n>=0)return t[n|1]}function Xo(t,e){return kM(t,e,1)}function kM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Pr={},It=[],$i=new V(""),lm=new V("",-1),dm=new V(""),Va=class{get(e,n=Pi){if(n===Pi){let i=Fw("",-201);throw i.name="\u0275NotFound",i}return n}};function hm(t){return t[sm]||null}function bn(t){return t[rm]||null}function fm(t){return t[im]||null}function Hw(t){return t[om]||null}function Yn(t){return{\u0275providers:t}}function zw(...t){return{\u0275providers:pm(!0,t),\u0275fromNgModule:!0}}function pm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Nl(e,s=>{let a=s;Cl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qw(i,o),n}function qw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mm(i,o=>{e(o,r)})}}function Cl(t,e,n,r){if(t=it(t),!t)return!1;let i=null,o=zp(t),s=!o&&bn(t);if(!o&&!s){let u=t.ngModule;if(o=zp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Cl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Nl(o.imports,h=>{Cl(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&qw(l,e)}if(!a){let l=kr(i)||(()=>new i);e({provide:i,useFactory:l,deps:It},i),e({provide:dm,useValue:i,multi:!0},i),e({provide:$i,useValue:()=>Ye(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;mm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function mm(t,e){for(let n of t)nm(n)&&(n=n.\u0275providers),Array.isArray(n)?mm(n,e):e(n)}var MM=he({provide:String,useValue:he});function Ww(t){return t!==null&&typeof t=="object"&&MM in t}function PM(t){return!!(t&&t.useExisting)}function OM(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function Gw(t){return!!t.useClass}var gm=new V(""),Dl={},kw={},Hp;function Jo(){return Hp===void 0&&(Hp=new Va),Hp}var Ue=class{},Vi=class extends Ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Qp(e,s=>this.processProvider(s)),this.records.set(lm,Zo(void 0,this)),i.has("environment")&&this.records.set(Ue,Zo(void 0,this));let o=this.records.get(gm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dm,It,{self:!0}))}retrieve(e,n){let r=Fi(n)||0;try{return this.get(e,Pi,r)}catch(i){if(Lo(i))return i;throw i}}destroy(){Fa(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return Fa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fa(this);let n=yn(this),r=Et(void 0),i;try{return e()}finally{yn(n),Et(r)}}get(e,n=Pi,r){if(Fa(this),e.hasOwnProperty(Nw))return e[Nw](this);let i=Fi(r),o,s=yn(this),a=Et(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=jM(e)&&Ua(e);h&&this.injectableDefInScope(h)?l=Zo(Yp(e),Dl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Jo():this.parent;return n=i&8&&n===Pi?null:n,u.get(e,n)}catch(u){let l=SM(u);throw l===-200||l===-201?new Q(l,null):u}finally{Et(a),yn(s)}}resolveInjectorInitializers(){let e=G(null),n=yn(this),r=Et(void 0),i;try{let o=this.get($i,It,{self:!0});for(let s of o)s()}finally{yn(n),Et(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Gn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=it(e);let n=Li(e)?e:it(e&&e.provide),r=LM(e);if(!Li(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zo(void 0,Dl,!0),i.factory=()=>Kp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=G(null);try{if(n.value===kw)throw am(Gn(e));return n.value===Dl&&(n.value=kw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&BM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=it(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yp(t){let e=Ua(t),n=e!==null?e.factory:kr(t);if(n!==null)return n;if(t instanceof V)throw new Q(204,!1);if(t instanceof Function)return FM(t);throw new Q(204,!1)}function FM(t){if(t.length>0)throw new Q(204,!1);let n=DM(t);return n!==null?()=>n.factory(t):()=>new t}function LM(t){if(Ww(t))return Zo(void 0,t.useValue);{let e=ym(t);return Zo(e,Dl)}}function ym(t,e,n){let r;if(Li(t)){let i=it(t);return kr(i)||Yp(i)}else if(Ww(t))r=()=>it(t.useValue);else if(OM(t))r=()=>t.useFactory(...Kp(t.deps||[]));else if(PM(t))r=(i,o)=>Ye(it(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=it(t&&(t.useClass||t.provide));if(VM(t))r=()=>new i(...Kp(t.deps));else return kr(i)||Yp(i)}return r}function Fa(t){if(t.destroyed)throw new Q(205,!1)}function Zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VM(t){return!!t.deps}function BM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jM(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Qp(t,e){for(let n of t)Array.isArray(n)?Qp(n,e):n&&nm(n)?Qp(n.\u0275providers,e):e(n)}function Or(t,e){let n;t instanceof Vi?(Fa(t),n=t):n=new Gp(t);let r,i=yn(n),o=Et(void 0);try{return e()}finally{yn(i),Et(o)}}function Kw(){return Lw()!==void 0||$u()!=null}var tn=0,$=1,K=2,Qe=3,Ht=4,wt=5,Hi=6,es=7,Fe=8,Fr=9,En=10,Te=11,ts=12,_m=13,zi=14,Dt=15,Lr=16,qi=17,In=18,Ha=19,vm=20,Wn=21,Pl=22,Qn=23,Ft=24,Wi=25,Gi=26,Ae=27,Yw=1,bm=6,Vr=7,za=8,Ki=9,$e=10;function wn(t){return Array.isArray(t)&&typeof t[Yw]=="object"}function nn(t){return Array.isArray(t)&&t[Yw]===!0}function Em(t){return(t.flags&4)!==0}function Br(t){return t.componentOffset>-1}function qa(t){return(t.flags&1)===1}function Dn(t){return!!t.template}function ns(t){return(t[K]&512)!==0}function Yi(t){return(t[K]&256)===256}var Im="svg",Qw="math";function zt(t){for(;Array.isArray(t);)t=t[tn];return t}function wm(t,e){return zt(e[t])}function rn(t,e){return zt(e[t.index])}function Wa(t,e){return t.data[e]}function Dm(t,e){return t[e]}function Tm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function qt(t,e){let n=e[t];return wn(n)?n:n[tn]}function Zw(t){return(t[K]&4)===4}function Ol(t){return(t[K]&128)===128}function Xw(t){return nn(t[Qe])}function Lt(t,e){return e==null?null:t[e]}function Cm(t){t[qi]=0}function Sm(t){t[K]&1024||(t[K]|=1024,Ol(t)&&jr(t))}function Jw(t,e){for(;t>0;)e=e[zi],t--;return e}function Ga(t){return!!(t[K]&9216||t[Ft]?.dirty)}function Fl(t){t[En].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Ga(t)&&jr(t)}function jr(t){t[En].changeDetectionScheduler?.notify(0);let e=Mr(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Ol(e)));)e=Mr(e)}function Am(t,e){if(Yi(t))throw new Q(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function eD(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}function Mr(t){let e=t[Qe];return nn(e)?e[Qe]:e}function Rm(t){return t[es]??=[]}function xm(t){return t.cleanup??=[]}function tD(t,e,n,r){let i=Rm(e);i.push(n),t.firstCreatePass&&xm(t).push(r,i.length-1)}var ie={lFrame:pD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zp=!1;function nD(){return ie.lFrame.elementDepthCount}function rD(){ie.lFrame.elementDepthCount++}function Nm(){ie.lFrame.elementDepthCount--}function km(){return ie.bindingsEnabled}function Mm(){return ie.skipHydrationRootTNode!==null}function Pm(t){return ie.skipHydrationRootTNode===t}function Om(){ie.skipHydrationRootTNode=null}function Z(){return ie.lFrame.lView}function Re(){return ie.lFrame.tView}function Ll(t){return ie.lFrame.contextLView=t,t[Fe]}function Vl(t){return ie.lFrame.contextLView=null,t}function Je(){let t=Fm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fm(){return ie.lFrame.currentTNode}function iD(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function rs(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Lm(){return ie.lFrame.isParent}function Vm(){ie.lFrame.isParent=!1}function oD(){return ie.lFrame.contextLView}function Bm(){return Zp}function is(t){let e=Zp;return Zp=t,e}function sD(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function aD(){return ie.lFrame.bindingIndex}function cD(t){return ie.lFrame.bindingIndex=t}function Qi(){return ie.lFrame.bindingIndex++}function Bl(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function uD(){return ie.lFrame.inI18n}function lD(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,jl(e)}function dD(){return ie.lFrame.currentDirectiveIndex}function jl(t){ie.lFrame.currentDirectiveIndex=t}function hD(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jm(){return ie.lFrame.currentQueryIndex}function Ul(t){ie.lFrame.currentQueryIndex=t}function UM(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[wt]:null}function Um(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=UM(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=fD();return r.currentTNode=e,r.lView=t,!0}function $l(t){let e=fD(),n=t[$];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fD(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?pD(t):e}function pD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mD(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $m=mD;function Hl(){let t=mD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gD(t){return(ie.lFrame.contextLView=Jw(t,ie.lFrame.contextLView))[Fe]}function Tn(){return ie.lFrame.selectedIndex}function Ur(t){ie.lFrame.selectedIndex=t}function zl(){let t=ie.lFrame;return Wa(t.tView,t.selectedIndex)}function yD(){ie.lFrame.currentNamespace=Im}function _D(){return ie.lFrame.currentNamespace}var vD=!0;function ql(){return vD}function Wl(t){vD=t}function Xp(t,e=null,n=null,r){let i=Hm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Hm(t,e=null,n=null,r,i=new Set){let o=[n||It,zw(t)];return r=r||(typeof t=="object"?void 0:Gn(t)),new Vi(o,e||Jo(),r||null,i)}var oe=class t{static THROW_IF_NOT_FOUND=Pi;static NULL=new Va;static create(e,n){if(Array.isArray(e))return Xp({name:""},n,e,"");{let r=e.name??"";return Xp({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>Ye(lm)});static __NG_ELEMENT_ID__=-1},me=new V(""),Zn=(()=>{class t{static __NG_ELEMENT_ID__=$M;static __NG_ENV_ID__=n=>n}return t})(),Ba=class extends Zn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Yi(this._lView)}onDestroy(e){let n=this._lView;return Am(n,e),()=>eD(n,e)}};function $M(){return new Ba(Z())}var Kn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Cn=new V("",{providedIn:"root",factory:()=>{let t=C(Ue),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Kn),e.handleError(n))}}}),bD={provide:$i,useValue:()=>void C(Kn),multi:!0};function Ka(t){return typeof t=="function"&&t[dt]!==void 0}function Sn(t,e){let[n,r,i]=Ip(t,e?.equal),o=n,s=o[dt];return o.set=r,o.update=i,o.asReadonly=zm.bind(o),o}function zm(){let t=this[dt];if(t.readonlyFn===void 0){let e=()=>this();e[dt]=t,t.readonlyFn=e}return t.readonlyFn}var os=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=HM}return t})();function HM(){return new os(Z(),Je())}var en=class{},Gl=new V("",{providedIn:"root",factory:()=>!1});var qm=new V(""),Wm=new V(""),$r=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ai(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zi=(()=>{class t{internalPendingTasks=C($r);scheduler=C(en);errorHandler=C(Cn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xi(...t){}var Ya=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Jp})}return t})(),Jp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ps(t){return{toString:t}.toString()}var Kl="__parameters__";function ZM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XM(t,e,n){return ps(()=>{let r=ZM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Kl)?u[Kl]:Object.defineProperty(u,Kl,{value:[]})[Kl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nt=Vw(XM("Optional"),8);function JM(t){return typeof t=="function"}var od=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ro=(()=>{let t=()=>tT;return t.ngInherit=!0,t})();function tT(t){return t.type.prototype.ngOnChanges&&(t.setInput=tP),eP}function eP(){let t=rT(this),e=t?.current;if(e){let n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tP(t,e,n,r,i){let o=this.declaredInputs[r],s=rT(t)||nP(t,{previous:Pr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new od(l&&l.currentValue,n,u===Pr),eT(t,e,i,n)}var nT="__ngSimpleChanges__";function rT(t){return t[nT]||null}function nP(t,e){return t[nT]=e}var ED=[];var ge=function(t,e=null,n){for(let r=0;r<ED.length;r++){let i=ED[r];i(t,e,n)}};function rP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function iT(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ed(t,e,n){oT(t,e,3,n)}function td(t,e,n,r){(t[K]&3)===n&&oT(t,e,n,r)}function Gm(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function oT(t,e,n,r){let i=r!==void 0?t[qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[qi]+=65536),(a<o||o==-1)&&(iP(t,n,e,u),t[qi]=(t[qi]&4294901760)+u+2),u++}function ID(t,e){ge(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),ge(5,t,e)}}function iP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[K]>>14<t[qi]>>16&&(t[K]&3)===e&&(t[K]+=16384,ID(a,o)):ID(a,o)}var as=-1,eo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function oP(t){return(t.flags&8)!==0}function sP(t){return(t.flags&16)!==0}function aP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];cP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function sT(t){return t===3||t===4||t===6}function cP(t){return t.charCodeAt(0)===64}function cs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wD(t,n,i,null,e[++r]):wD(t,n,i,null,null))}}return t}function wD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function aT(t){return t!==as}function sd(t){return t&32767}function uP(t){return t>>16}function ad(t,e){let n=uP(t),r=e;for(;n>0;)r=r[zi],n--;return r}var ig=!0;function cd(t){let e=ig;return ig=t,e}var lP=256,cT=lP-1,uT=5,dP=0,An={};function hP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ji)&&(r=n[ji]),r==null&&(r=n[ji]=dP++);let i=r&cT,o=1<<i;e.data[t+(i>>uT)]|=o}function ud(t,e){let n=lT(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Km(r.data,t),Km(e,null),Km(r.blueprint,null));let i=$g(t,e),o=t.injectorIndex;if(aT(i)){let s=sd(i),a=ad(i,e),u=a[$].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Km(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $g(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mT(i),r===null)return as;if(n++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return as}function og(t,e,n){hP(t,e,n)}function fP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(sT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function dT(t,e,n){if(n&8||t!==void 0)return t;xl(e,"NodeInjector")}function hT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Fr],o=Et(void 0);try{return i?i.get(e,r,n&8):cm(e,r,n&8)}finally{Et(o)}}return dT(r,e,n)}function fT(t,e,n,r=0,i){if(t!==null){if(e[K]&2048&&!(r&2)){let s=yP(t,e,n,r,An);if(s!==An)return s}let o=pT(t,e,n,r,An);if(o!==An)return o}return hT(e,n,r,i)}function pT(t,e,n,r,i){let o=mP(n);if(typeof o=="function"){if(!Um(e,t,r))return r&1?dT(i,n,r):hT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))xl(n);else return s}finally{$m()}}else if(typeof o=="number"){let s=null,a=lT(t,e),u=as,l=r&1?e[Dt][wt]:null;for((a===-1||r&4)&&(u=a===-1?$g(t,e):e[a+8],u===as||!TD(r,!1)?a=-1:(s=e[$],a=sd(u),e=ad(u,e)));a!==-1;){let h=e[$];if(DD(o,a,h.data)){let p=pP(a,e,n,s,r,l);if(p!==An)return p}u=e[a+8],u!==as&&TD(r,e[$].data[a+8]===l)&&DD(o,a,e)?(s=h,a=sd(u),e=ad(u,e)):a=-1}}return i}function pP(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],u=r==null?Br(a)&&ig:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=nd(a,s,n,u,l);return h!==null?Xa(e,s,h,a,i):An}function nd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let I=s[y];if(y<u&&n===I||y>=u&&I.type===n)return y}if(i){let y=s[u];if(y&&Dn(y)&&y.type===n)return u}return null}function Xa(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof eo){let a=o;if(a.resolving){let y=Pw(s[n]);throw am(y)}let u=cd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Et(a.injectImpl):null,m=Um(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rP(n,s[n],e)}finally{p!==null&&Et(p),cd(u),a.resolving=!1,$m()}}return o}function mP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ji)?t[ji]:void 0;return typeof e=="number"?e>=0?e&cT:gP:e}function DD(t,e,n){let r=1<<t;return!!(n[e+(t>>uT)]&r)}function TD(t,e){return!(t&2)&&!(t&1&&e)}var Ji=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fT(this._tNode,this._lView,e,Fi(r),n)}};function gP(){return new Ji(Je(),Z())}function ic(t){return ps(()=>{let e=t.prototype.constructor,n=e[La]||sg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[La]||sg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sg(t){return tm(t)?()=>{let e=sg(it(t));return e&&e()}:kr(t)}function yP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!ns(s);){let a=pT(o,s,n,r|2,An);if(a!==An)return a;let u=o.parent;if(!u){let l=s[vm];if(l){let h=l.get(n,An,r);if(h!==An)return h}u=mT(s),s=s[zi]}o=u}return i}function mT(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[wt]:null}function Hg(t){return fP(Je(),t)}function _P(){return ms(Je(),Z())}function ms(t,e){return new xe(rn(t,e))}var xe=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=_P}return t})();function vP(t){return t instanceof xe?t.nativeElement:t}function bP(){return this._results[Symbol.iterator]()}var to=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=jw(e);(this._changesDetected=!Bw(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bP};function gT(t){return(t.flags&128)===128}var zg=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(zg||{}),yT=new Map,EP=0;function IP(){return EP++}function wP(t){yT.set(t[Ha],t)}function ag(t){yT.delete(t[Ha])}var CD="__ngContext__";function us(t,e){wn(e)?(t[CD]=e[Ha],wP(e)):t[CD]=e}function _T(t){return bT(t[ts])}function vT(t){return bT(t[Ht])}function bT(t){for(;t!==null&&!nn(t);)t=t[Ht];return t}var cg;function DP(t){cg=t}function ET(){if(cg!==void 0)return cg;if(typeof document<"u")return document;throw new Q(210,!1)}var qg=new V("",{providedIn:"root",factory:()=>TP}),TP="ng",IT=new V(""),oc=new V("",{providedIn:"platform",factory:()=>"unknown"});var sc=new V(""),Wg=new V("",{providedIn:"root",factory:()=>ET().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Cd={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Sd=new V("",{providedIn:"root",factory:()=>Cd});var CP="h",SP="b";var wT="r";var DT="di";var TT=!1,CT=new V("",{providedIn:"root",factory:()=>TT});var AP=new V("");var RP=(t,e,n,r)=>{};function xP(t,e,n,r){RP(t,e,n,r)}function Ad(t){return(t.flags&32)===32}var NP=()=>null;function ST(t,e,n=!1){return NP(t,e,n)}function AT(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Ul(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function ug(t,e,n){Ul(0);let r=G(null);try{e(t,n)}finally{G(r)}}function RT(t,e,n){if(Em(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{G(r)}}}var ls=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(ls||{}),Yl;function kP(){if(Yl===void 0&&(Yl=null,vn.trustedTypes))try{Yl=vn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yl}function Rd(t){return kP()?.createHTML(t)||t}var Ql;function MP(){if(Ql===void 0&&(Ql=null,vn.trustedTypes))try{Ql=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ql}function SD(t){return MP()?.createScriptURL(t)||t}var Xn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sl})`}},lg=class extends Xn{getTypeName(){return"HTML"}},dg=class extends Xn{getTypeName(){return"Style"}},hg=class extends Xn{getTypeName(){return"Script"}},fg=class extends Xn{getTypeName(){return"URL"}},pg=class extends Xn{getTypeName(){return"ResourceURL"}};function io(t){return t instanceof Xn?t.changingThisBreaksApplicationSecurity:t}function Gg(t,e){let n=xT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sl})`)}return n===e}function xT(t){return t instanceof Xn&&t.getTypeName()||null}function PP(t){return new lg(t)}function OP(t){return new dg(t)}function FP(t){return new hg(t)}function LP(t){return new fg(t)}function VP(t){return new pg(t)}function BP(t){let e=new gg(t);return jP()?new mg(e):e}var mg=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Rd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},gg=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Rd(e),n}};function jP(){try{return!!new window.DOMParser().parseFromString(Rd(""),"text/html")}catch{return!1}}var UP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kg(t){return t=String(t),t.match(UP)?t:"unsafe:"+t}function Jn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ac(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var NT=Jn("area,br,col,hr,img,wbr"),kT=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MT=Jn("rp,rt"),$P=ac(MT,kT),HP=ac(kT,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zP=ac(MT,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),AD=ac(NT,HP,zP,$P),PT=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qP=Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WP=Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GP=ac(PT,qP,WP),KP=Jn("script,style,template"),yg=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=ZP(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=QP(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=RD(e).toLowerCase();if(!AD.hasOwnProperty(n))return this.sanitizedSomething=!0,!KP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!GP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;PT[a]&&(u=Kg(u)),this.buf.push(" ",s,'="',xD(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=RD(e).toLowerCase();AD.hasOwnProperty(n)&&!NT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(xD(e))}};function YP(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function QP(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw OT(e);return e}function ZP(t){let e=t.firstChild;if(e&&YP(t,e))throw OT(e);return e}function RD(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function OT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var XP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JP=/([^\#-~ |!])/g;function xD(t){return t.replace(/&/g,"&amp;").replace(XP,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(JP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Zl;function eO(t,e){let n=null;try{Zl=Zl||BP(t);let r=e?String(e):"";n=Zl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Zl.getInertBodyElement(r)}while(r!==o);let a=new yg().sanitizeChildren(ND(n)||n);return Rd(a)}finally{if(n){let r=ND(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function ND(t){return"content"in t&&tO(t)?t.content:null}function tO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var xd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(xd||{});function FT(t){let e=VT();return e?e.sanitize(xd.URL,t)||"":Gg(t,"URL")?io(t):Kg(Ui(t))}function LT(t){let e=VT();if(e)return SD(e.sanitize(xd.RESOURCE_URL,t)||"");if(Gg(t,"ResourceURL"))return SD(io(t));throw new Q(904,!1)}function nO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?LT:FT}function rO(t,e,n){return nO(e,n)(t)}function VT(){let t=Z();return t&&t[En].sanitizer}function iO(t){return t.ownerDocument}function BT(t){return t instanceof Function?t():t}function oO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var jT="ng-template";function sO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Yg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Yg(t){return t.type===4&&t.value!==jT}function aO(t,e,n){let r=t.type===4&&!n?jT:t.value;return e===r}function cO(t,e,n){let r=4,i=t.attrs,o=i!==null?dO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!aO(t,u,n)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!sO(t,i,u,n)){if(on(r))return!1;s=!0}}else{let l=e[++a],h=uO(u,i,Yg(t),n);if(h===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(t){return(t&1)===0}function uO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hO(e,t)}function UT(t,e,n=!1){for(let r=0;r<e.length;r++)if(cO(t,e[r],n))return!0;return!1}function lO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function dO(t){for(let e=0;e<t.length;e++){let n=t[e];if(sT(n))return e}return t.length}function hO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function kD(t,e){return t?":not("+e.trim()+")":e}function pO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=kD(o,i),i=""),r=s,o=o||!on(r);n++}return i!==""&&(e+=kD(o,i)),e}function mO(t){return t.map(pO).join(",")}function gO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!on(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var kt={};function yO(t,e){return t.createText(e)}function _O(t,e,n){t.setValue(e,n)}function $T(t,e,n){return t.createElement(e,n)}function ld(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HT(t,e,n){t.appendChild(e,n)}function MD(t,e,n,r,i){r!==null?ld(t,e,n,r,i):HT(t,e,n)}function zT(t,e,n,r){t.removeChild(null,e,n,r)}function vO(t,e,n){t.setAttribute(e,"style",n)}function bO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&aP(t,e,r),i!==null&&bO(t,e,i),o!==null&&vO(t,e,o)}function Qg(t,e,n,r,i,o,s,a,u,l,h){let p=Ae+r,m=p+i,y=EO(p,m),I=typeof l=="function"?l():l;return y[$]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function EO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:kt);return n}function IO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zg(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[tn]=i,p[K]=r|4|128|8|64|1024,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),Cm(p),p[Qe]=p[zi]=t,p[Fe]=n,p[En]=s||t&&t[En],p[Te]=a||t&&t[Te],p[Fr]=u||t&&t[Fr]||null,p[wt]=o,p[Ha]=IP(),p[Hi]=h,p[vm]=l,p[Dt]=e.type==2?t[Dt]:p,p}function wO(t,e,n){let r=rn(e,t),i=IO(n),o=t[En].rendererFactory,s=Xg(t,Zg(t,i,null,WT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function WT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function GT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xg(t,e){return t[ts]?t[_m][Ht]=e:t[ts]=e,t[_m]=e,e}function oo(t=1){KT(Re(),Z(),Tn()+t,!1)}function KT(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ed(e,o,n)}else{let o=t.preOrderHooks;o!==null&&td(e,o,0,n)}Ur(n)}var Nd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Nd||{});function _g(t,e,n,r){let i=G(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Nd.SignalBased)!==0&&(u=e[o][dt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):eT(e,u,o,r)}finally{G(i)}}var Ja=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Ja||{}),DO;function Jg(t,e){return DO(t,e)}var dd=new Set,kd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(kd||{}),cc=new V(""),PD=new Set;function er(t){PD.has(t)||(PD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var YT=!1,vg=class extends se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Kw()&&(this.destroyRef=C(Zn,{optional:!0})??void 0,this.pendingTasks=C($r,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ee&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Tt=vg;function QT(t){let e,n;function r(){t=Xi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function OD(t){return queueMicrotask(()=>t()),()=>{t=Xi}}var ey="isAngularZone",hd=ey+"_ID",TO=0,W=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Tt(!1);onMicrotaskEmpty=new Tt(!1);onStable=new Tt(!1);onError=new Tt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=YT}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,AO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ey)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,CO,Xi,Xi);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},CO={};function ty(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function SO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){QT(()=>{t.callbackScheduled=!1,bg(t),t.isCheckStableRunning=!0,ty(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bg(t)}function AO(t){let e=()=>{SO(t)},n=TO++;t._inner=t._inner.fork({name:"angular",properties:{[ey]:!0,[hd]:n,[hd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(RO(u))return r.invokeTask(o,s,a,u);try{return FD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),LD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return FD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!xO(u)&&e(),LD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bg(t),ty(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function FD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LD(t){t._nesting--,ty(t)}var fd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Tt;onMicrotaskEmpty=new Tt;onStable=new Tt;onError=new Tt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function RO(t){return ZT(t,"__ignore_ng_zone__")}function xO(t){return ZT(t,"__scheduler_tick__")}function ZT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ny=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),XT=[0,1,2,3],JT=(()=>{class t{ngZone=C(W);scheduler=C(en);errorHandler=C(Kn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(cc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ge(16),this.executing=!0;for(let r of XT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ge(17)}register(n){let{view:r}=n;r!==void 0?((r[Wi]??=[]).push(n),jr(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(kd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),pd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Wi];e&&(this.view[Wi]=e.filter(n=>n!==this))}};function tr(t,e){let n=e?.injector??C(oe);return er("NgAfterNextRender"),kO(t,n,e,!0)}function NO(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function kO(t,e,n,r){let i=e.get(ny);i.impl??=e.get(JT);let o=e.get(cc,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Zn):null,a=e.get(os,null,{optional:!0}),u=new pd(i.impl,NO(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var MO=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function eC(t,e){let n=t.get(MO);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function PO(t,e){for(let[n,r]of e)eC(t,r.animateFns)}function VD(t,e,n,r){let i=t?.[Gi]?.enter;e!==null&&i&&i.has(n.index)&&PO(r,i)}function ss(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;nn(i)?u=i:wn(i)&&(l=!0,i=i[tn]);let h=zt(i);t===0&&r!==null?(VD(a,r,o,n),s==null?HT(e,r,h):ld(e,r,h,s||null,!0)):t===1&&r!==null?(VD(a,r,o,n),ld(e,r,h,s||null,!0)):t===2?BD(a,o,n,p=>{zT(e,h,l,p)}):t===3&&BD(a,o,n,()=>{e.destroyNode(h)}),u!=null&&qO(e,t,n,u,o,r,s)}}function OO(t,e){tC(t,e),e[tn]=null,e[wt]=null}function FO(t,e,n,r,i,o){r[tn]=i,r[wt]=e,Pd(t,r,n,1,i,o)}function tC(t,e){e[En].changeDetectionScheduler?.notify(9),Pd(t,e,e[Te],2,null,null)}function LO(t){let e=t[ts];if(!e)return Ym(t[$],t);for(;e;){let n=null;if(wn(e))n=e[ts];else{let r=e[$e];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)wn(e)&&Ym(e[$],e),e=e[Qe];e===null&&(e=t),wn(e)&&Ym(e[$],e),n=e&&e[Ht]}e=n}}function ry(t,e){let n=t[Ki],r=n.indexOf(e);n.splice(r,1)}function Md(t,e){if(Yi(e))return;let n=e[Te];n.destroyNode&&Pd(t,e,n,3,null,null),LO(e)}function Ym(t,e){if(Yi(e))return;let n=G(null);try{e[K]&=-129,e[K]|=256,e[Ft]&&wi(e[Ft]),jO(t,e),BO(t,e),e[$].type===1&&e[Te].destroy();let r=e[Lr];if(r!==null&&nn(e[Qe])){r!==e[Qe]&&ry(r,e);let i=e[In];i!==null&&i.detachView(t)}ag(e)}finally{G(n)}}function BD(t,e,n,r){let i=t?.[Gi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&dd.add(t),eC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.running=Promise.allSettled(a),VO(t,r)}else t&&dd.delete(t),r(!1)})}function VO(t,e){let n=t[Gi]?.running;if(n){n.then(()=>{t[Gi].running=void 0,dd.delete(t),e(!0)});return}e(!1)}function BO(t,e){let n=t.cleanup,r=e[es];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[es]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Qn];if(o!==null){e[Qn]=null;for(let s of o)s.destroy()}}function jO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof eo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ge(4,a,u);try{u.call(a)}finally{ge(5,a,u)}}else{ge(4,i,o);try{o.call(i)}finally{ge(5,i,o)}}}}}function nC(t,e,n){return UO(t,e.parent,n)}function UO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[tn];if(Br(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ls.None||i===ls.Emulated)return null}return rn(r,n)}function rC(t,e,n){return HO(t,e,n)}function $O(t,e,n){return t.type&40?rn(t,n):null}var HO=$O,jD;function iy(t,e,n,r){let i=nC(t,r,e),o=e[Te],s=r.parent||e[wt],a=rC(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)MD(o,i,n[u],a,!1);else MD(o,i,n,a,!1);jD!==void 0&&jD(o,r,e,n,i)}function Qa(t,e){if(e!==null){let n=e.type;if(n&3)return rn(e,t);if(n&4)return Eg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qa(t,r);{let i=t[e.index];return nn(i)?Eg(-1,i):zt(i)}}else{if(n&128)return Qa(t,e.next);if(n&32)return Jg(e,t)()||zt(t[e.index]);{let r=iC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mr(t[Dt]);return Qa(i,r)}else return Qa(t,e.next)}}}return null}function iC(t,e){if(e!==null){let r=t[Dt][wt],i=e.projection;return r.projection[i]}return null}function Eg(t,e){let n=$e+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Qa(r,i)}return e[Vr]}function oy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Fr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&us(zt(u),r),n.flags|=2),!Ad(n))if(l&8)oy(t,e,n.child,r,i,o,!1),ss(e,t,a,i,u,n,o,r);else if(l&32){let h=Jg(n,r),p;for(;p=h();)ss(e,t,a,i,p,n,o,r);ss(e,t,a,i,u,n,o,r)}else l&16?oC(t,e,r,n,i,o):ss(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Pd(t,e,n,r,i,o){oy(n,r,t.firstChild,e,i,o,!1)}function zO(t,e,n){let r=e[Te],i=nC(t,n,e),o=n.parent||e[wt],s=rC(o,n,e);oC(r,0,e,n,i,s)}function oC(t,e,n,r,i,o){let s=n[Dt],u=s[wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ss(e,t,n[Fr],i,h,r,o,n)}else{let l=u,h=s[Qe];gT(r)&&(l.flags|=128),oy(t,e,l,h,i,o,!0)}}function qO(t,e,n,r,i,o,s){let a=r[Vr],u=zt(r);a!==u&&ss(e,t,n,o,a,i,s);for(let l=$e;l<r.length;l++){let h=r[l];Pd(h[$],h,t,e,o,a)}}function WO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ja.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ja.Important),t.setStyle(n,r,i,o))}}function sC(t,e,n,r,i){let o=Tn(),s=r&2;try{Ur(-1),s&&e.length>Ae&&KT(t,e,Ae,!1),ge(s?2:0,i,n),n(r,i)}finally{Ur(o),ge(s?3:1,i,n)}}function sy(t,e,n){JO(t,e,n),(n.flags&64)===64&&e1(t,e,n)}function Od(t,e,n=rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function GO(t,e,n,r){let o=r.get(CT,TT)||n===ls.ShadowDom,s=t.selectRootElement(e,o);return KO(s),s}function KO(t){YO(t)}var YO=()=>null;function QO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ZO(t,e,n,r,i,o){let s=e[$];if(ay(t,s,e,n,r)){Br(t)&&XO(e,t.index);return}t.type&3&&(n=QO(n)),aC(t,e,n,r,i,o)}function aC(t,e,n,r,i,o){if(t.type&3){let s=rn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function XO(t,e){let n=qt(e,t);n[K]&16||(n[K]|=64)}function JO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Br(n)&&wO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ud(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Xa(e,t,s,n);if(us(u,e),o!==null&&i1(e,s-r,u,a,n,o),Dn(a)){let l=qt(n.index,e);l[Fe]=Xa(e,t,s,n)}}}function e1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=dD();try{Ur(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];jl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&t1(u,l)}}finally{Ur(-1),jl(s)}}function t1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cC(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];UT(e,o.selectors,!1)&&(r??=[],Dn(o)?r.unshift(o):r.push(o))}return r}function n1(t,e,n,r,i,o){let s=rn(t,e);r1(e[Te],s,o,t.value,n,r,i)}function r1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ui(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function i1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];_g(r,n,u,l)}}function uC(t,e,n,r,i){let o=Ae+n,s=e[$],a=i(s,e,t,r,n);e[o]=a,rs(t,!0);let u=t.type===2;return u?(qT(e[Te],a,t),(nD()===0||qa(t))&&us(a,e),rD()):us(a,e),ql()&&(!u||!Ad(t))&&iy(s,e,a,t),t}function lC(t){let e=t;return Lm()?Vm():(e=e.parent,rs(e,!1)),e}function o1(t,e){let n=t[Fr];if(!n)return;let r;try{r=n.get(Cn,null)}catch{r=null}r?.(e)}function ay(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];_g(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];_g(h,l,r,i),a=!0}return a}function s1(t,e){let n=qt(e,t),r=n[$];a1(r,n);let i=n[tn];i!==null&&n[Hi]===null&&(n[Hi]=ST(i,n[Fr])),ge(18),cy(r,n,n[Fe]),ge(19,n[Fe])}function a1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cy(t,e,n){$l(e);try{let r=t.viewQuery;r!==null&&ug(1,r,n);let i=t.template;i!==null&&sC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[In]?.finishViewCreation(t),t.staticContentQueries&&AT(t,e),t.staticViewQueries&&ug(2,t.viewQuery,n);let o=t.components;o!==null&&c1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Hl()}}function c1(t,e){for(let n=0;n<e.length;n++)s1(t,e[n])}function uc(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[K]&4096?4096:16,u=Zg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Lr]=l;let h=t[In];return h!==null&&(u[In]=h.createEmbeddedView(o)),cy(o,u,n),u}finally{G(i)}}function ds(t,e){return!e||e.firstChild===null||gT(t)}function ec(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(zt(o)),nn(o)&&dC(o,r);let s=n.type;if(s&8)ec(t,e,n.child,r);else if(s&32){let a=Jg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=iC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Mr(e[Dt]);ec(u[$],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dC(t,e){for(let n=$e;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&ec(r[$],r,i,e)}t[Vr]!==t[tn]&&e.push(t[Vr])}function hC(t){if(t[Wi]!==null){for(let e of t[Wi])e.impl.addSequence(e);t[Wi].length=0}}var fC=[];function u1(t){return t[Ft]??l1(t)}function l1(t){let e=fC.pop()??Object.create(h1);return e.lView=t,e}function d1(t){t.lView[Ft]!==t&&(t.lView=null,fC.push(t))}var h1=De(z({},Ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{jr(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function f1(t){let e=t[Ft]??Object.create(p1);return e.lView=t,e}var p1=De(z({},Ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Mr(t.lView);for(;e&&!pC(e[$]);)e=Mr(e);e&&Sm(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function pC(t){return t.type!==2}function mC(t){if(t[Qn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Qn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[K]&8192)}}var m1=100;function gC(t,e=0){let r=t[En].rendererFactory,i=!1;i||r.begin?.();try{g1(t,e)}finally{i||r.end?.()}}function g1(t,e){let n=Bm();try{is(!0),Ig(t,e);let r=0;for(;Ga(t);){if(r===m1)throw new Q(103,!1);r++,Ig(t,1)}}finally{is(n)}}function y1(t,e,n,r){if(Yi(e))return;let i=e[K],o=!1,s=!1;$l(e);let a=!0,u=null,l=null;o||(pC(t)?(l=u1(e),u=Ii(l)):Gu()===null?(a=!1,l=f1(e),u=Ii(l)):e[Ft]&&(wi(e[Ft]),e[Ft]=null));try{Cm(e),cD(t.bindingStartIndex),n!==null&&sC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&ed(e,y,null)}else{let y=t.preOrderHooks;y!==null&&td(e,y,0,null),Gm(e,0)}if(s||_1(e),mC(e),yC(e,0),t.contentQueries!==null&&AT(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&ed(e,y)}else{let y=t.contentHooks;y!==null&&td(e,y,1),Gm(e,1)}b1(t,e);let p=t.components;p!==null&&vC(e,p,0);let m=t.viewQuery;if(m!==null&&ug(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&ed(e,y)}else{let y=t.viewHooks;y!==null&&td(e,y,2),Gm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pl]){for(let y of e[Pl])y();e[Pl]=null}o||(hC(e),e[K]&=-73)}catch(h){throw o||jr(e),h}finally{l!==null&&(Bo(l,u),a&&d1(l)),Hl()}}function yC(t,e){for(let n=_T(t);n!==null;n=vT(n))for(let r=$e;r<n.length;r++){let i=n[r];_C(i,e)}}function _1(t){for(let e=_T(t);e!==null;e=vT(e)){if(!(e[K]&2))continue;let n=e[Ki];for(let r=0;r<n.length;r++){let i=n[r];Sm(i)}}}function v1(t,e,n){ge(18);let r=qt(e,t);_C(r,n),ge(19,r[Fe])}function _C(t,e){Ol(t)&&Ig(t,e)}function Ig(t,e){let r=t[$],i=t[K],o=t[Ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jo(o)),s||=!1,o&&(o.dirty=!1),t[K]&=-9217,s)y1(r,t,r.template,t[Fe]);else if(i&8192){let a=G(null);try{mC(t),yC(t,1);let u=r.components;u!==null&&vC(t,u,1),hC(t)}finally{G(a)}}}function vC(t,e,n){for(let r=0;r<e.length;r++)v1(t,e[r],n)}function b1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ur(~i);else{let o=i,s=n[++r],a=n[++r];lD(s,o);let u=e[o];ge(24,u),a(2,u),ge(25,u)}}}finally{Ur(-1)}}function uy(t,e){let n=Bm()?64:1088;for(t[En].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=Mr(t);if(ns(t)&&!r)return t;t=r}return null}function bC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function EC(t,e){let n=$e+e;if(n<t.length)return t[n]}function lc(t,e,n,r=!0){let i=e[$];if(E1(i,e,t,n),r){let s=Eg(n,t),a=e[Te],u=a.parentNode(t[Vr]);u!==null&&FO(i,t[wt],a,e,u,s)}let o=e[Hi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function IC(t,e){let n=tc(t,e);return n!==void 0&&Md(n[$],n),n}function tc(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n];if(r){let i=r[Lr];i!==null&&i!==t&&ry(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let o=$a(t,$e+e);OO(r[$],r);let s=o[In];s!==null&&s.detachView(o[$]),r[Qe]=null,r[Ht]=null,r[K]&=-129}return r}function E1(t,e,n,r){let i=$e+r,o=n.length;r>0&&(n[i-1][Ht]=e),r<o-$e?(e[Ht]=n[i],um(n,$e+r,e)):(n.push(e),e[Ht]=null),e[Qe]=n;let s=e[Lr];s!==null&&n!==s&&wC(s,e);let a=e[In];a!==null&&a.insertView(t),Fl(e),e[K]|=128}function wC(t,e){let n=t[Ki],r=e[Qe];if(wn(r))t[K]|=2;else{let i=r[Qe][Dt];e[Dt]!==i&&(t[K]|=2)}n===null?t[Ki]=[e]:n.push(e)}var Hr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[$];return ec(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Fe]}set context(e){this._lView[Fe]=e}get destroyed(){return Yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(nn(e)){let n=e[za],r=n?n.indexOf(this):-1;r>-1&&(tc(e,r),$a(n,r))}this._attachedToViewContainer=!1}Md(this._lView[$],this._lView)}onDestroy(e){Am(this._lView,e)}markForCheck(){uy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Fl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,gC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ns(this._lView),n=this._lView[Lr];n!==null&&!e&&ry(n,this._lView),tC(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=ns(this._lView),r=this._lView[Lr];r!==null&&!n&&wC(r,this._lView),Fl(this._lView)}};var an=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=I1;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=uc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Hr(o)}}return t})();function I1(){return ly(Je(),Z())}function ly(t,e){return t.type&4?new an(e,t,ms(t,e)):null}function gs(t,e,n,r,i){let o=t.data[e];if(o===null)o=w1(t,e,n,r,i),uD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iD();o.injectorIndex=s===null?-1:s.injectorIndex}return rs(o,!0),o}function w1(t,e,n,r,i){let o=Fm(),s=Lm(),a=s?o:o&&o.parent,u=t.data[e]=T1(t,a,n,e,r,i);return D1(t,u,o,s),u}function D1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function T1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Mm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var H5=new RegExp(`^(\\d+)*(${SP}|${CP})*(.*)`);function C1(t){let e=t[bm]??[],r=t[Qe][Te],i=[];for(let o of e)o.data[DT]!==void 0?i.push(o):S1(o,r);t[bm]=i}function S1(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[wT];for(;n<i;){let o=r.nextSibling;zT(e,r,!1),r=o,n++}}}var A1=()=>null,R1=()=>null;function md(t,e){return A1(t,e)}function DC(t,e,n){return R1(t,e,n)}var TC=class{},Fd=class{},wg=class{resolveComponentFactory(e){throw new Q(917,!1)}},dc=class{static NULL=new wg},ft=class{},nr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>x1()}return t})();function x1(){let t=Z(),e=Je(),n=qt(e.index,t);return(wn(n)?n:t)[Te]}var CC=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var rd={},Dg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,rd,r);return i!==rd||n===rd?i:this.parentInjector.get(e,n,r)}};function gd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Al(i,a);else if(o==2){let u=a,l=e[++s];r=Al(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function rr(t,e=0){let n=Z();if(n===null)return Ye(t,e);let r=Je();return fT(r,n,it(t),e)}function N1(){let t="invalid";throw new Error(t)}function SC(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}P1(t,e,n,a,o,u,l)}o!==null&&r!==null&&k1(n,r,o)}function k1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}function M1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function P1(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Dn(y)&&(u=!0,M1(t,n,m)),og(ud(n,e),t,y.type)}j1(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=GT(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=cs(n.mergedAttrs,y.hostAttrs),F1(t,n,e,p,y),B1(p,y,i),s!==null&&s.has(y)){let[R,N]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let I=y.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}O1(t,n,o)}function O1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))UD(0,e,i,r),UD(1,e,i,r),HD(e,r,!1);else{let o=n.get(i);$D(0,e,o,r),$D(1,e,o,r),HD(e,r,!0)}}}function UD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),AC(e,o)}}function $D(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),AC(e,s)}}function AC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function HD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Yg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function F1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=kr(i.type,!0)),s=new eo(o,Dn(i),rr,null);t.blueprint[r]=s,n[r]=s,L1(t,e,r,GT(t,n,i.hostVars,kt),i)}function L1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;V1(s)!=a&&s.push(a),s.push(n,r,o)}}function V1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function B1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Dn(e)&&(n[""]=t)}}function j1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function RC(t,e,n,r,i,o,s,a){let u=e[$],l=u.consts,h=Lt(l,s),p=gs(u,t,n,r,h);return o&&SC(u,e,p,Lt(l,a),i),p.mergedAttrs=cs(p.mergedAttrs,p.attrs),p.attrs!==null&&gd(p,p.attrs,!1),p.mergedAttrs!==null&&gd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function xC(t,e){iT(t,e),Em(e)&&t.queries.elementEnd(e)}function U1(t,e,n,r,i,o){let s=e.consts,a=Lt(s,i),u=gs(e,t,n,r,a);if(u.mergedAttrs=cs(u.mergedAttrs,u.attrs),o!=null){let l=Lt(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&gd(u,u.attrs,!1),u.mergedAttrs!==null&&gd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function $1(t,e,n){return t[e]=n}function Rn(t,e,n){if(n===kt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function NC(t,e,n,r){let i=Rn(t,e,n);return Rn(t,e+1,r)||i}function id(t,e,n){return function r(i){let o=Br(t)?qt(t.index,e):e;uy(o,5);let s=e[Fe],a=zD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=zD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function zD(t,e,n,r){let i=G(null);try{return ge(6,e,n),n(r)!==!1}catch(o){return o1(t,o),!1}finally{ge(7,e,n),G(i)}}function kC(t,e,n,r,i,o,s,a){let u=qa(t),l=!1,h=null;if(!r&&u&&(h=z1(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=rn(t,n),m=r?r(p):p;xP(n,m,o,a);let y=i.listen(m,o,a);if(!H1(o)){let I=r?R=>r(zt(R[t.index])):t.index;MC(I,e,n,o,a,y,!1)}}return l}function H1(t){return t.startsWith("animation")||t.startsWith("transition")}function z1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[es],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function MC(t,e,n,r,i,o,s){let a=e.firstCreatePass?xm(e):null,u=Rm(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function qD(t,e,n,r,i,o){let s=e[n],a=e[$],l=a.data[n].outputs[r],p=s[l].subscribe(o);MC(t.index,a,e,i,o,p,!0)}var Tg=Symbol("BINDING");var yd=class extends dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bn(e);return new zr(n,this.ngModule)}};function q1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Nd.SignalBased)!==0};return i&&(o.transform=i),o})}function W1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function G1(t,e,n){let r=e instanceof Ue?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Dg(n,r):n}function K1(t){let e=t.get(ft,null);if(e===null)throw new Q(407,!1);let n=t.get(CC,null),r=t.get(en,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Y1(t,e){let n=PC(t);return $T(e,n,n==="svg"?Im:n==="math"?Qw:null)}function PC(t){return(t.selectors[0][0]||"div").toLowerCase()}var zr=class extends Fd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=q1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=W1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=mO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ge(22);let a=G(null);try{let u=this.componentDef,l=Q1(r,u,s,o),h=G1(u,i||this.ngModule,e),p=K1(h),m=p.rendererFactory.createRenderer(null,u),y=r?GO(m,r,u.encapsulation,h):Y1(u,m),I=s?.some(WD)||o?.some(P=>typeof P!="function"&&P.bindings.some(WD)),R=Zg(null,l,null,512|WT(u),null,null,p,m,h,null,ST(y,h,!0));R[Ae]=y,$l(R);let N=null;try{let P=RC(Ae,R,2,"#host",()=>l.directiveRegistry,!0,0);qT(m,y,P),us(y,R),sy(l,R,P),RT(l,P,R),xC(l,P),n!==void 0&&X1(P,this.ngContentSelectors,n),N=qt(P.index,R),R[Fe]=N[Fe],cy(l,R,null)}catch(P){throw N!==null&&ag(N),ag(R),P}finally{ge(23),Hl()}return new _d(this.componentType,R,!!I)}finally{G(a)}}};function Q1(t,e,n,r){let i=t?["ng-version","20.3.10"]:gO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Tg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Tg].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=fm(p);u.push(m)}return Qg(0,null,Z1(o,s),1,a,u,null,null,null,[i],null)}function Z1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function WD(t){let e=t[Tg].kind;return e==="input"||e==="twoWay"}var _d=class extends TC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Wa(n[$],Ae),this.location=ms(this._tNode,n),this.instance=qt(this._tNode.index,n)[Fe],this.hostView=this.changeDetectorRef=new Hr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=ay(r,i[$],i,e,n);this.previousInputValues.set(e,n);let s=qt(r.index,i);uy(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function X1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ir=(()=>{class t{static __NG_ELEMENT_ID__=J1}return t})();function J1(){let t=Je();return FC(t,Z())}var eF=ir,OC=class extends eF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ms(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=$g(this._hostTNode,this._hostLView);if(aT(e)){let n=ad(e,this._hostLView),r=sd(e),i=n[$].data[r+8];return new Ji(i,n)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=GD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=md(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ds(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!JM(e),l;if(u)l=n;else{let N=n||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new zr(bn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let P=(u?p:this.parentInjector).get(Ue,null);P&&(o=P)}let m=bn(h.componentType??{}),y=md(this._lContainer,m?.id??null),I=y?.firstChild??null,R=h.create(p,i,I,o,s,a);return this.insertImpl(R.hostView,l,ds(this._hostTNode,y)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Xw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Qe],l=new OC(u,u[wt],u[Qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return lc(s,i,o,r),e.attachToViewContainerRef(),um(Qm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=GD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=tc(this._lContainer,n);r&&($a(Qm(this._lContainer),n),Md(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=tc(this._lContainer,n);return r&&$a(Qm(this._lContainer),n)!=null?new Hr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function GD(t){return t[za]}function Qm(t){return t[za]||(t[za]=[])}function FC(t,e){let n,r=e[t.index];return nn(r)?n=r:(n=bC(r,e,null,t),e[t.index]=n,Xg(e,n)),nF(n,e,t,r),new OC(n,t,e)}function tF(t,e){let n=t[Te],r=n.createComment(""),i=rn(e,t),o=n.parentNode(i);return ld(n,o,r,n.nextSibling(i),!1),r}var nF=oF,rF=()=>!1;function iF(t,e,n){return rF(t,e,n)}function oF(t,e,n,r){if(t[Vr])return;let i;n.type&8?i=zt(r):i=tF(e,n),t[Vr]=i}var Cg=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Sg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)dy(e,n).matches!==null&&this.queries[n].setDirty()}},vd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=fF(e):this.predicate=e}},Ag=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Rg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,sF(n,o)),this.matchTNodeWithReadOption(e,n,nd(n,e,o,!1,!1))}else r===an?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xe||i===ir||i===an&&n.type&4)this.addMatch(n.index,-2);else{let o=nd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function sF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function aF(t,e){return t.type&11?ms(t,e):t.type&4?ly(t,e):null}function cF(t,e,n,r){return n===-1?aF(e,t):n===-2?uF(t,e,r):Xa(t,t[$],n,e)}function uF(t,e,n){if(n===xe)return ms(e,t);if(n===an)return ly(e,t);if(n===ir)return FC(e,t)}function LC(t,e,n,r){let i=e[In].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(cF(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function xg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=LC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=$e;p<h.length;p++){let m=h[p];m[Lr]===m[Qe]&&xg(m[$],m,l,r)}if(h[Ki]!==null){let p=h[Ki];for(let m=0;m<p.length;m++){let y=p[m];xg(y[$],y,l,r)}}}}}return r}function lF(t,e){return t[In].queries[e].queryList}function VC(t,e,n){let r=new to((n&4)===4);return tD(t,e,r,r.destroy),(e[In]??=new Sg).queries.push(new Cg(r))-1}function dF(t,e,n){let r=Re();return r.firstCreatePass&&(BC(r,new vd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),VC(r,Z(),e)}function hF(t,e,n,r){let i=Re();if(i.firstCreatePass){let o=Je();BC(i,new vd(e,n,r),o.index),pF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return VC(i,Z(),n)}function fF(t){return t.split(",").map(e=>e.trim())}function BC(t,e,n){t.queries===null&&(t.queries=new Ag),t.queries.track(new Rg(e,n))}function pF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function dy(t,e){return t.queries.getByIndex(e)}function mF(t,e){let n=t[$],r=dy(n,e);return r.crossesNgTemplate?xg(n,t,e,[]):LC(n,t,r,e)}var xn=class{},jC=class{};var bd=class extends xn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=hm(e);this._bootstrapComponents=BT(o.bootstrap),this._r3Injector=Hm(e,n,[{provide:xn,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],Gn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ed=class extends jC{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new bd(this.moduleType,e,[])}};var nc=class extends xn{injector;componentFactoryResolver=new yd(this);instance=null;constructor(e){super();let n=new Vi([...e.providers,{provide:xn,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||Jo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function UC(t,e,n=null){return new nc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var gF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=pm(!1,n.type),i=r.length>0?UC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(Ye(Ue))})}return t})();function Ct(t){return ps(()=>{let e=$C(t),n=De(z({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ls.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&er("NgStandalone"),HC(n);let r=t.dependencies;return n.directiveDefs=KD(r,yF),n.pipeDefs=KD(r,Hw),n.id=bF(n),n})}function yF(t){return bn(t)||fm(t)}function Le(t){return ps(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _F(t,e){if(t==null)return Pr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Nd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function vF(t){if(t==null)return Pr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ze(t){return ps(()=>{let e=$C(t);return HC(e),e})}function hy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $C(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Pr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:_F(t.inputs,e),outputs:vF(t.outputs),debugInfo:null}}function HC(t){t.features?.forEach(e=>e(t))}function KD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function bF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function EF(t){return Object.getPrototypeOf(t.prototype).constructor}function cn(t){let e=EF(t.type),n=!0,r=[t];for(;e;){let i;if(Dn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Zm(t.inputs),s.declaredInputs=Zm(t.declaredInputs),s.outputs=Zm(t.outputs);let a=i.hostBindings;a&&CF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&DF(t,u),l&&TF(t,l),IF(t,i),Mw(t.outputs,i.outputs),Dn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===cn&&(n=!1)}}e=Object.getPrototypeOf(e)}wF(r)}function IF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function wF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cs(i.hostAttrs,n=cs(n,i.hostAttrs))}}function Zm(t){return t===Pr?{}:t===It?[]:t}function DF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function TF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function CF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function zC(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=cs(t.mergedAttrs,t.attrs);let h=t.tView=Qg(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),rs(t,!1);let u=AF(n,e,t,r);ql()&&iy(n,e,u,t),us(u,e);let l=bC(u,e,u,t);e[r+Ae]=l,Xg(e,l),iF(l,t,e)}function SF(t,e,n,r,i,o,s,a,u,l,h){let p=n+Ae,m;return e.firstCreatePass?(m=gs(e,p,4,s||null,a||null),km()&&SC(e,t,m,Lt(e.consts,l),cC),iT(e,m)):m=e.data[p],zC(m,t,e,n,r,i,o,u),qa(m)&&sy(e,t,m),l!=null&&Od(t,m,h),m}function hs(t,e,n,r,i,o,s,a,u,l,h){let p=n+Ae,m;if(e.firstCreatePass){if(m=gs(e,p,4,s||null,a||null),l!=null){let y=Lt(e.consts,l);m.localNames=[];for(let I=0;I<y.length;I+=2)m.localNames.push(y[I],-1)}}else m=e.data[p];return zC(m,t,e,n,r,i,o,u),l!=null&&Od(t,m,h),m}function Ld(t,e,n,r,i,o,s,a){let u=Z(),l=Re(),h=Lt(l.consts,o);return SF(u,l,t,e,n,r,i,h,void 0,s,a),Ld}function qC(t,e,n,r,i,o,s,a){let u=Z(),l=Re(),h=Lt(l.consts,o);return hs(u,l,t,e,n,r,i,h,void 0,s,a),qC}var AF=RF;function RF(t,e,n,r){return Wl(!0),e[Te].createComment("")}var xF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var WC=new V("");function Vd(t){return!!t&&typeof t.then=="function"}function fy(t){return!!t&&typeof t.subscribe=="function"}var py=new V("");function NF(t){return Yn([{provide:py,multi:!0,useValue:t}])}var my=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(py,{optional:!0})??[];injector=C(oe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Or(this.injector,i);if(Vd(o))n.push(o);else if(fy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GC=new V("");function KC(){Ep(()=>{let t="";throw new Q(600,t)})}function YC(t){return t.isBoundToModule}var kF=10;var Nn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(Cn);afterRenderManager=C(ny);zonelessEnabled=C(Gl);rootEffectScheduler=C(Ya);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new se;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C($r);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ht(n=>!n))}constructor(){C(cc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=oe.NULL){return this._injector.get(W).run(()=>{ge(10);let s=n instanceof Fd;if(!this._injector.get(my).done){let I="";throw new Q(405,I)}let u;s?u=n:u=this._injector.get(dc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=YC(u)?void 0:this._injector.get(xn),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(WC,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Za(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ge(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(kd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ft,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<kF;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ga(i))continue;let o=r&&!this.zonelessEnabled?0:1;gC(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ga(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Za(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(GC,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Za(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Za(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function so(t,e,n,r){let i=Z(),o=Qi();if(Rn(i,o,e)){let s=Re(),a=zl();n1(a,i,t,e,n,r)}return so}var Q5=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Ng=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}};function Xm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function MF(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Xm(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[u],I=Xm(s,m,u,y,n);if(I!==0){I<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),N=n(s,m),P=n(o,h);if(Object.is(P,N)){let j=n(u,y);Object.is(j,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Id,i??=QD(t,o,s,n),kg(t,r,o,P))t.updateValue(o,h),o++,s++;else if(i.has(P))r.set(R,t.detach(o)),s--;else{let j=t.create(o,e[o]);t.attach(o,j),o++,s++}}for(;o<=u;)YD(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=Xm(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Id,i??=QD(t,o,s,n);let y=n(o,p);if(kg(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let I=n(o,h);r.set(I,t.detach(o)),s--}}}for(;!l.done;)YD(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function kg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function YD(t,e,n,r,i){if(kg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function QD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Id=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function gy(t,e,n,r,i,o,s,a){er("NgControlFlow");let u=Z(),l=Re(),h=Lt(l.consts,o);return hs(u,l,t,e,n,r,i,h,256,s,a),yy}function yy(t,e,n,r,i,o,s,a){er("NgControlFlow");let u=Z(),l=Re(),h=Lt(l.consts,o);return hs(u,l,t,e,n,r,i,h,512,s,a),yy}function _y(t,e){er("NgControlFlow");let n=Z(),r=Qi(),i=n[r]!==kt?n[r]:-1,o=i!==-1?wd(n,Ae+i):void 0,s=0;if(Rn(n,r,t)){let a=G(null);try{if(o!==void 0&&IC(o,s),t!==-1){let u=Ae+t,l=wd(n,u),h=Fg(n[$],u),p=DC(l,h,n),m=uc(n,h,e,{dehydratedView:p});lc(l,m,s,ds(h,p))}}finally{G(a)}}else if(o!==void 0){let a=EC(o,s);a!==void 0&&(a[Fe]=e)}}var Mg=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-$e}};function PF(t,e){return e}var Pg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function OF(t,e,n,r,i,o,s,a,u,l,h,p,m){er("NgControlFlow");let y=Z(),I=Re(),R=u!==void 0,N=Z(),P=a?s.bind(N[Dt][Fe]):s,j=new Pg(R,P);N[Ae+t]=j,hs(y,I,t+1,e,n,r,i,Lt(I.consts,o),256),R&&hs(y,I,t+2,u,l,h,p,Lt(I.consts,m),512)}var Og=class extends Ng{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-$e}at(e){return this.getLView(e)[Fe].$implicit}attach(e,n){let r=n[Hi];this.needsIndexUpdate||=e!==this.length,lc(this.lContainer,n,e,ds(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&LF(this.lContainer,e),VF(this.lContainer,e)}create(e,n){let r=md(this.lContainer,this.templateTNode.tView.ssrId),i=uc(this.hostLView,this.templateTNode,new Mg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Md(e[$],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Fe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Fe].$index=e}getLView(e){return BF(this.lContainer,e)}};function FF(t){let e=G(null),n=Tn();try{let r=Z(),i=r[$],o=r[n],s=n+1,a=wd(r,s);if(o.liveCollection===void 0){let l=Fg(i,s);o.liveCollection=new Og(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(MF(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Qi(),h=u.length===0;if(Rn(r,l,h)){let p=n+2,m=wd(r,p);if(h){let y=Fg(i,p),I=DC(m,y,r),R=uc(r,y,void 0,{dehydratedView:I});lc(m,R,0,ds(y,I))}else i.firstUpdatePass&&C1(m),IC(m,0)}}}finally{G(e)}}function wd(t,e){return t[e]}function LF(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n];r&&r[Gi]&&(r[Gi].skipLeaveAnimations=!0)}function VF(t,e){return tc(t,e)}function BF(t,e){return EC(t,e)}function Fg(t,e){return Wa(t,e)}function QC(t,e,n){let r=Z(),i=Qi();if(Rn(r,i,e)){let o=Re(),s=zl();ZO(s,r,t,e,r[Te],n)}return QC}function Lg(t,e,n,r,i){ay(e,t,n,i?"class":"style",r)}function ao(t,e,n,r){let i=Z(),o=i[$],s=t+Ae,a=o.firstCreatePass?RC(s,i,2,e,cC,km(),n,r):o.data[s];if(uC(a,i,t,e,ZC),qa(a)){let u=i[$];sy(u,i,a),RT(u,a,i)}return r!=null&&Od(i,a),ao}function qr(){let t=Re(),e=Je(),n=lC(e);return t.firstCreatePass&&xC(t,n),Pm(n)&&Om(),Nm(),n.classesWithoutHost!=null&&oP(n)&&Lg(t,n,Z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&sP(n)&&Lg(t,n,Z(),n.stylesWithoutHost,!1),qr}function Bd(t,e,n,r){return ao(t,e,n,r),qr(),Bd}function ys(t,e,n,r){let i=Z(),o=i[$],s=t+Ae,a=o.firstCreatePass?U1(s,o,2,e,n,r):o.data[s];return uC(a,i,t,e,ZC),r!=null&&Od(i,a),ys}function _s(){let t=Je(),e=lC(t);return Pm(e)&&Om(),Nm(),_s}function or(t,e,n,r){return ys(t,e,n,r),_s(),or}var ZC=(t,e,n,r,i)=>(Wl(!0),$T(e[Te],r,_D()));function vy(){return Z()}function XC(t,e,n){let r=Z(),i=Qi();if(Rn(r,i,e)){let o=Re(),s=zl();aC(s,r,t,e,r[Te],n)}return XC}var Xl=void 0;function jF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var UF=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jF],Jm={};function Vt(t){let e=$F(t),n=ZD(e);if(n)return n;let r=e.split("-")[0];if(n=ZD(r),n)return n;if(r==="en")return UF;throw new Q(701,!1)}function ZD(t){return t in Jm||(Jm[t]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[t]),Jm[t]}var Ve=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ve||{});function $F(t){return t.toLowerCase().replace(/_/g,"-")}var hc="en-US";var HF=hc;function JC(t){typeof t=="string"&&(HF=t.toLowerCase().replace(/_/g,"-"))}function fc(t,e,n){let r=Z(),i=Re(),o=Je();return zF(i,r,r[Te],o,t,e,n),fc}function eS(t,e,n){let r=Z(),i=Re(),o=Je();return(o.type&3||n)&&kC(o,i,r,n,r[Te],t,e,id(o,r,e)),eS}function zF(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=id(r,e,o),kC(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=id(r,e,o),qD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=id(r,e,o),qD(r,e,p,i,i,u)}}function jd(t=1){return gD(t)}function qF(t,e){let n=null,r=lO(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?UT(t,o,!0):fO(r,o))return i}return n}function vs(t){let e=Z()[Dt][wt];if(!e.projection){let n=t?t.length:1,r=e.projection=Uw(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?qF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Wr(t,e=0,n,r,i,o){let s=Z(),a=Re(),u=r?t+1:null;u!==null&&hs(s,a,u,r,i,o,null,n);let l=gs(a,Ae+t,16,null,n||null);l.projection===null&&(l.projection=e),Vm();let p=!s[Hi]||Mm();s[Dt][wt].projection[l.projection]===null&&u!==null?WF(s,a,u):p&&!Ad(l)&&zO(a,s,l)}function WF(t,e,n){let r=Ae+n,i=e.data[r],o=t[r],s=md(o,i.tView.ssrId),a=uc(t,i,void 0,{dehydratedView:s});lc(o,a,0,ds(i,s))}function GF(t,e,n,r){hF(t,e,n,r)}function pc(t,e,n){dF(t,e,n)}function mc(t){let e=Z(),n=Re(),r=jm();Ul(r+1);let i=dy(n,r);if(t.dirty&&Zw(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=mF(e,r);t.reset(o,vP),t.notifyOnChanges()}return!0}return!1}function gc(){return lF(Z(),jm())}function KF(t){let e=oD();return Dm(e,Ae+t)}function Jl(t,e){return t<<17|e<<2}function no(t){return t>>17&32767}function YF(t){return(t&2)==2}function QF(t,e){return t&131071|e<<17}function Vg(t){return t|2}function fs(t){return(t&131068)>>2}function eg(t,e){return t&-131069|e<<2}function ZF(t){return(t&1)===1}function Bg(t){return t|1}function XF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),u=fs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Xo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=no(t[a+1]);t[r+1]=Jl(m,a),m!==0&&(t[m+1]=eg(t[m+1],r)),t[a+1]=QF(t[a+1],r)}else t[r+1]=Jl(a,0),a!==0&&(t[a+1]=eg(t[a+1],r)),a=r;else t[r+1]=Jl(u,0),a===0?a=r:t[u+1]=eg(t[u+1],r),u=r;l&&(t[r+1]=Vg(t[r+1])),XD(t,h,r,!0),XD(t,h,r,!1),JF(e,h,t,r,o),s=Jl(a,u),o?e.classBindings=s:e.styleBindings=s}function JF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Xo(o,e)>=0&&(n[r+1]=Bg(n[r+1]))}function XD(t,e,n,r){let i=t[n+1],o=e===null,s=r?no(i):fs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];eL(u,e)&&(a=!0,t[s+1]=r?Bg(l):Vg(l)),s=r?no(l):fs(l)}a&&(t[n+1]=r?Vg(i):Bg(i))}function eL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xo(t,e)>=0:!1}var sn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tL(t){return t.substring(sn.key,sn.keyEnd)}function nL(t){return rL(t),tS(t,nS(t,0,sn.textEnd))}function tS(t,e){let n=sn.textEnd;return n===e?-1:(e=sn.keyEnd=iL(t,sn.key=e,n),nS(t,e,n))}function rL(t){sn.key=0,sn.keyEnd=0,sn.value=0,sn.valueEnd=0,sn.textEnd=t.length}function nS(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function iL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function yc(t,e,n){return rS(t,e,n,!1),yc}function un(t,e){return rS(t,e,null,!0),un}function by(t){sL(hL,oL,t,!0)}function oL(t,e){for(let n=nL(e);n>=0;n=tS(e,n))kl(t,tL(e),!0)}function rS(t,e,n,r){let i=Z(),o=Re(),s=Bl(2);if(o.firstUpdatePass&&oS(o,t,s,r),e!==kt&&Rn(i,s,e)){let a=o.data[Tn()];sS(o,a,i,i[Te],t,i[s+1]=pL(e,n),r,s)}}function sL(t,e,n,r){let i=Re(),o=Bl(2);i.firstUpdatePass&&oS(i,null,o,r);let s=Z();if(n!==kt&&Rn(s,o,n)){let a=i.data[Tn()];if(aS(a,r)&&!iS(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Al(u,n||"")),Lg(i,a,s,n,r)}else fL(i,a,s,s[Te],s[o+1],s[o+1]=dL(t,e,n),r,o)}}function iS(t,e){return e>=t.expandoStartIndex}function oS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Tn()],s=iS(t,n);aS(o,r)&&e===null&&!s&&(e=!1),e=aL(i,o,e,r),XF(i,o,e,n,s,r)}}function aL(t,e,n,r){let i=hD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=tg(null,t,e,n,r),n=rc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=tg(i,t,e,n,r),o===null){let u=cL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=tg(null,t,e,u[1],r),u=rc(u,e.attrs,r),uL(t,e,r,u))}else o=lL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function cL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fs(r)!==0)return t[no(r)]}function uL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[no(i)]=r}function lL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=rc(r,s,n)}return rc(r,e.attrs,n)}function tg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function rc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function dL(t,e,n){if(n==null||n==="")return It;let r=[],i=io(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function hL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&kl(t,r,n)}function fL(t,e,n,r,i,o,s,a){i===kt&&(i=It);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,I=null,R;h===p?(u+=2,l+=2,m!==y&&(I=p,R=y)):p===null||h!==null&&h<p?(u+=2,I=h):(l+=2,I=p,R=y),I!==null&&sS(t,e,n,r,I,R,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function sS(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=ZF(l)?JD(u,e,n,i,fs(l),s):void 0;if(!Dd(h)){Dd(o)||YF(l)&&(o=JD(u,null,n,i,a,s));let p=wm(Tn(),n);WO(r,s,p,i,o)}}function JD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===kt&&(m=p?It:void 0);let y=p?Ml(m,r):h===r?m:void 0;if(l&&!Dd(y)&&(y=Ml(u,r)),Dd(y)&&(a=y,s))return a;let I=t[i+1];i=s?no(I):fs(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ml(u,r))}return a}function Dd(t){return t!==void 0}function pL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Gn(io(t)))),t}function aS(t,e){return(t.flags&(e?8:16))!==0}function Ud(t,e=""){let n=Z(),r=Re(),i=t+Ae,o=r.firstCreatePass?gs(r,i,1,e,null):r.data[i],s=mL(r,n,o,e,t);n[i]=s,ql()&&iy(r,n,s,o),rs(o,!1)}var mL=(t,e,n,r,i)=>(Wl(!0),yO(e[Te],r));function gL(t,e,n,r=""){return Rn(t,Qi(),n)?e+Ui(n)+r:kt}function yL(t,e,n,r,i,o=""){let s=aD(),a=NC(t,s,n,i);return Bl(2),a?e+Ui(n)+r+Ui(i)+o:kt}function cS(t){return bs("",t),cS}function bs(t,e,n){let r=Z(),i=gL(r,t,e,n);return i!==kt&&lS(r,Tn(),i),bs}function uS(t,e,n,r,i){let o=Z(),s=yL(o,t,e,n,r,i);return s!==kt&&lS(o,Tn(),s),uS}function lS(t,e,n){let r=wm(e,t);_O(t[Te],r,n)}function _L(t,e,n){let r=Re();if(r.firstCreatePass){let i=Dn(t);jg(n,r.data,r.blueprint,i,!0),jg(e,r.data,r.blueprint,i,!1)}}function jg(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let o=0;o<t.length;o++)jg(t[o],e,n,r,i);else{let o=Re(),s=Z(),a=Je(),u=Li(t)?t:it(t.provide),l=ym(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Li(t)||!t.multi){let y=new eo(l,i,rr,null),I=rg(u,e,i?h:h+m,p);I===-1?(og(ud(a,s),o,u),ng(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[I]=y,s[I]=y)}else{let y=rg(u,e,h+m,p),I=rg(u,e,h,h+m),R=y>=0&&n[y],N=I>=0&&n[I];if(i&&!N||!i&&!R){og(ud(a,s),o,u);let P=EL(i?bL:vL,n.length,i,r,l,t);!i&&N&&(n[I].providerFactory=P),ng(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),s.push(P)}else{let P=dS(n[i?I:y],l,!i&&r);ng(o,t,y>-1?y:I,P)}!i&&r&&N&&n[I].componentProviders++}}}function ng(t,e,n,r){let i=Li(e),o=Gw(e);if(i||o){let u=(o?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function dS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function rg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vL(t,e,n,r,i){return Ug(this.multi,[])}function bL(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Xa(r,r[$],this.providerFactory.index,i);s=u.slice(0,a),Ug(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Ug(o,s);return s}function Ug(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function EL(t,e,n,r,i,o){let s=new eo(t,n,rr,null);return s.multi=[],s.index=e,s.componentProviders=0,dS(s,i,r&&!n),s}function $d(t,e=[]){return n=>{n.providersResolver=(r,i)=>_L(r,i?i(t):t,e)}}function IL(t,e){let n=t[e];return n===kt?void 0:n}function wL(t,e,n,r,i,o,s){let a=e+n;return NC(t,a,i,o)?$1(t,a+2,s?r.call(s,i,o):r(i,o)):IL(t,a+2)}function DL(t,e){let n=Re(),r,i=t+Ae;n.firstCreatePass?(r=TL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=kr(r.type,!0)),s,a=Et(rr);try{let u=cd(!1),l=o();return cd(u),Tm(n,Z(),i,l),l}finally{Et(a)}}function TL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function CL(t,e,n,r){let i=t+Ae,o=Z(),s=Dm(o,i);return SL(o,i)?wL(o,sD(),e,s.transform,n,r,s):s.transform(n,r)}function SL(t,e){return t[$].data[e].pure}var Td=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},AL=(()=>{class t{compileModuleSync(n){return new Ed(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=hm(n),o=BT(i.declarations).reduce((s,a)=>{let u=bn(a);return u&&s.push(new zr(u)),s},[]);return new Td(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RL=(()=>{class t{zone=C(W);changeDetectionScheduler=C(en);applicationRef=C(Nn);applicationErrorHandler=C(Cn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hS({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new W(De(z({},fS()),{scheduleInRootZone:n})),[{provide:W,useFactory:t},{provide:$i,multi:!0,useFactory:()=>{let r=C(RL,{optional:!0});return()=>r.initialize()}},{provide:$i,multi:!0,useFactory:()=>{let r=C(xL);return()=>{r.initialize()}}},e===!0?{provide:qm,useValue:!0}:[],{provide:Wm,useValue:n??YT},{provide:Cn,useFactory:()=>{let r=C(W),i=C(Ue),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Kn),o.handleError(s))})}}}]}function fS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xL=(()=>{class t{subscription=new Ee;initialized=!1;zone=C(W);pendingTasks=C($r);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pS=(()=>{class t{applicationErrorHandler=C(Cn);appRef=C(Nn);taskService=C($r);ngZone=C(W);zonelessEnabled=C(Gl);tracing=C(cc,{optional:!0});disableScheduling=C(qm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(Wm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OD:QT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NL(){return typeof $localize<"u"&&$localize.locale||hc}var _c=new V("",{providedIn:"root",factory:()=>C(_c,{optional:!0,skipSelf:!0})||NL()});function Iy(t){return Aw(t)}function kL(t,e){return Zu(t,e?.equal)}var Ey=class{[dt];constructor(e){this[dt]=e}destroy(){this[dt].destroy()}};function Hd(t,e){let n=e?.injector??C(oe),r=e?.manualCleanup!==!0?n.get(Zn):null,i,o=n.get(os,null,{optional:!0}),s=n.get(en);return o!==null?(i=OL(o.view,s,t),r instanceof Ba&&r._lView===o.view&&(r=null)):i=FL(t,n.get(Ya),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Ey(i)}var mS=De(z({},Rw),{cleanupFns:void 0,zone:null,onDestroyFn:Xi,run(){let t=is(!1);try{xw(this)}finally{is(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=G(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],G(t)}}}),ML=De(z({},mS),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){wi(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),PL=De(z({},mS),{consumerMarkedDirty(){this.view[K]|=8192,jr(this.view),this.notifier.notify(13)},destroy(){wi(this),this.onDestroyFn(),this.cleanup(),this.view[Qn]?.delete(this)}});function OL(t,e,n){let r=Object.create(PL);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=gS(r,n),t[Qn]??=new Set,t[Qn].add(r),r.consumerMarkedDirty(r),r}function FL(t,e,n){let r=Object.create(ML);return r.fn=gS(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function gS(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var vS=Symbol("InputSignalNode#UNSET"),zL=De(z({},Xu),{transformFn:void 0,applyValueToInputSignal(t,e){$o(t,e)}});function bS(t,e){let n=Object.create(zL);n.value=t,n.transformFn=e?.transform;function r(){if(Vo(n),n.value===vS){let i=null;throw new Q(-950,i)}return n.value}return r[dt]=n,r}var yS=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Hg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},qL=new V("");qL.__NG_ELEMENT_ID__=t=>{let e=Je();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new Q(204,!1)};function _S(t,e){return bS(t,e)}function WL(t){return bS(vS,t)}var cJ=(_S.required=WL,_S);var wy=new V(""),GL=new V("");function vc(t){return!t.moduleRef}function KL(t){let e=vc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(W);return n.run(()=>{vc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),vc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(wy);s.add(o),t.moduleRef.onDestroy(()=>{Za(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return QL(r,n,()=>{let o=e.get($r),s=o.add(),a=e.get(my);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(_c,hc);if(JC(u||hc),!e.get(GL,!0))return vc(t)?e.get(Nn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(vc(t)){let h=e.get(Nn);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return YL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var YL;function QL(t,e,n){try{let r=n();return Vd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var zd=null;function ZL(t=[],e){return oe.create({name:e,providers:[{provide:gm,useValue:"platform"},{provide:wy,useValue:new Set([()=>zd=null])},...t]})}function XL(t=[]){if(zd)return zd;let e=ZL(t);return zd=e,KC(),JL(e),e}function JL(t){let e=t.get(IT,null);Or(t,()=>{e?.forEach(n=>n())})}function Dy(){return!1}var Es=(()=>{class t{static __NG_ELEMENT_ID__=eV}return t})();function eV(t){return tV(Je(),Z(),(t&16)===16)}function tV(t,e,n){if(Br(t)&&!n){let r=qt(t.index,e);return new Hr(r,r)}else if(t.type&175){let r=e[Dt];return new Hr(r,e)}return null}function uJ(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ge(8);try{let o=i?.injector??XL(r),s=[hS({}),{provide:en,useExisting:pS},bD,...n||[]],a=new nc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return KL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ge(9)}}function Bt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function bc(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function qd(t,e){let n=bn(t),r=e.elementInjector||Jo();return new zr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function lJ(t){let e=bn(t);if(!e)return null;let n=new zr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var wS=null;function Wd(){return wS}function nV(t){wS??=t}var Ty=class{},Ec=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>C(DS),providedIn:"platform"})}return t})(),rV=new V(""),DS=(()=>{class t extends Ec{_location;_history;_doc=C(me);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wd().getBaseHref(this._doc)}onPopState(n){let r=Wd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Wd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Gd(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function ES(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ln(t){return t&&t[0]!=="?"?`?${t}`:t}var Is=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>C(TS),providedIn:"root"})}return t})(),Kd=new V(""),TS=(()=>{class t extends Is{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gd(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ye(Ec),Ye(Kd,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yd=(()=>{class t{_subject=new se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=sV(ES(IS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ln(r))}normalize(n){return t.stripTrailingSlash(oV(this._basePath,IS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ln(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ln;static joinWithSlash=Gd;static stripTrailingSlash=ES;static \u0275fac=function(r){return new(r||t)(Ye(Is))};static \u0275prov=B({token:t,factory:()=>iV(),providedIn:"root"})}return t})();function iV(){return new Yd(Ye(Is))}function oV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function IS(t){return t.replace(/\/index.html$/,"")}function sV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var cV=(()=>{class t extends Is{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Gd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ye(Ec),Ye(Kd,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var pt=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(pt||{}),ye=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(ye||{}),Mt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Mt||{}),ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function SS(t){return Vt(t)[Ve.LocaleId]}function AS(t,e,n){let r=Vt(t),i=[r[Ve.DayPeriodsFormat],r[Ve.DayPeriodsStandalone]],o=Wt(i,e);return Wt(o,n)}function RS(t,e,n){let r=Vt(t),i=[r[Ve.DaysFormat],r[Ve.DaysStandalone]],o=Wt(i,e);return Wt(o,n)}function xS(t,e,n){let r=Vt(t),i=[r[Ve.MonthsFormat],r[Ve.MonthsStandalone]],o=Wt(i,e);return Wt(o,n)}function NS(t,e){let r=Vt(t)[Ve.Eras];return Wt(r,e)}function Ic(t,e){let n=Vt(t);return Wt(n[Ve.DateFormat],e)}function wc(t,e){let n=Vt(t);return Wt(n[Ve.TimeFormat],e)}function Dc(t,e){let r=Vt(t)[Ve.DateTimeFormat];return Wt(r,e)}function Tc(t,e){let n=Vt(t),r=n[Ve.NumberSymbols][e];if(typeof r>"u"){if(e===ar.CurrencyDecimal)return n[Ve.NumberSymbols][ar.Decimal];if(e===ar.CurrencyGroup)return n[Ve.NumberSymbols][ar.Group]}return r}function kS(t){if(!t[Ve.ExtraData])throw new Q(2303,!1)}function MS(t){let e=Vt(t);return kS(e),(e[Ve.ExtraData][2]||[]).map(r=>typeof r=="string"?Cy(r):[Cy(r[0]),Cy(r[1])])}function PS(t,e,n){let r=Vt(t);kS(r);let i=[r[Ve.ExtraData][0],r[Ve.ExtraData][1]],o=Wt(i,e)||[];return Wt(o,n)||[]}function Wt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Q(2304,!1)}function Cy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var uV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qd={},lV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function OS(t,e,n,r){let i=vV(t);e=sr(n,e)||e;let s=[],a;for(;e;)if(a=lV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=LS(r,u),i=_V(i,r));let l="";return s.forEach(h=>{let p=gV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function th(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function sr(t,e){let n=SS(t);if(Qd[n]??={},Qd[n][e])return Qd[n][e];let r="";switch(e){case"shortDate":r=Ic(t,Mt.Short);break;case"mediumDate":r=Ic(t,Mt.Medium);break;case"longDate":r=Ic(t,Mt.Long);break;case"fullDate":r=Ic(t,Mt.Full);break;case"shortTime":r=wc(t,Mt.Short);break;case"mediumTime":r=wc(t,Mt.Medium);break;case"longTime":r=wc(t,Mt.Long);break;case"fullTime":r=wc(t,Mt.Full);break;case"short":let i=sr(t,"shortTime"),o=sr(t,"shortDate");r=Zd(Dc(t,Mt.Short),[i,o]);break;case"medium":let s=sr(t,"mediumTime"),a=sr(t,"mediumDate");r=Zd(Dc(t,Mt.Medium),[s,a]);break;case"long":let u=sr(t,"longTime"),l=sr(t,"longDate");r=Zd(Dc(t,Mt.Long),[u,l]);break;case"full":let h=sr(t,"fullTime"),p=sr(t,"fullDate");r=Zd(Dc(t,Mt.Full),[h,p]);break}return r&&(Qd[n][e]=r),r}function Zd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function dn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function dV(t,e){return dn(t,3).substring(0,e)}function He(t,e,n=0,r=!1,i=!1){return function(o,s){let a=hV(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return dV(a,e);let u=Tc(s,ar.MinusSign);return dn(a,e,u,r,i)}}function hV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Q(2301,!1)}}function Ie(t,e,n=pt.Format,r=!1){return function(i,o){return fV(i,o,t,e,n,r)}}function fV(t,e,n,r,i,o){switch(n){case 2:return xS(e,i,r)[t.getMonth()];case 1:return RS(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=MS(e),h=PS(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,I]=m,R=s>=y.hours&&a>=y.minutes,N=s<I.hours||s===I.hours&&a<I.minutes;if(y.hours<I.hours){if(R&&N)return!0}else if(R||N)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return AS(e,i,r)[s<12?0:1];case 3:return NS(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Q(2302,!1)}}function Xd(t){return function(e,n,r){let i=-1*r,o=Tc(n,ar.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+dn(s,2,o)+dn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+dn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+dn(s,2,o)+":"+dn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+dn(s,2,o)+":"+dn(Math.abs(i%60),2,o);default:throw new Q(2310,!1)}}}var pV=0,eh=4;function mV(t){let e=th(t,pV,1).getDay();return th(t,0,1+(e<=eh?eh:eh+7)-e)}function FS(t){let e=t.getDay(),n=e===0?-3:eh-e;return th(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Sy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=FS(n),s=mV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return dn(i,t,Tc(r,ar.MinusSign))}}function Jd(t,e=!1){return function(n,r){let o=FS(n).getFullYear();return dn(o,t,Tc(r,ar.MinusSign),e)}}var Ay={};function gV(t){if(Ay[t])return Ay[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ie(3,ye.Abbreviated);break;case"GGGG":e=Ie(3,ye.Wide);break;case"GGGGG":e=Ie(3,ye.Narrow);break;case"y":e=He(0,1,0,!1,!0);break;case"yy":e=He(0,2,0,!0,!0);break;case"yyy":e=He(0,3,0,!1,!0);break;case"yyyy":e=He(0,4,0,!1,!0);break;case"Y":e=Jd(1);break;case"YY":e=Jd(2,!0);break;case"YYY":e=Jd(3);break;case"YYYY":e=Jd(4);break;case"M":case"L":e=He(1,1,1);break;case"MM":case"LL":e=He(1,2,1);break;case"MMM":e=Ie(2,ye.Abbreviated);break;case"MMMM":e=Ie(2,ye.Wide);break;case"MMMMM":e=Ie(2,ye.Narrow);break;case"LLL":e=Ie(2,ye.Abbreviated,pt.Standalone);break;case"LLLL":e=Ie(2,ye.Wide,pt.Standalone);break;case"LLLLL":e=Ie(2,ye.Narrow,pt.Standalone);break;case"w":e=Sy(1);break;case"ww":e=Sy(2);break;case"W":e=Sy(1,!0);break;case"d":e=He(2,1);break;case"dd":e=He(2,2);break;case"c":case"cc":e=He(7,1);break;case"ccc":e=Ie(1,ye.Abbreviated,pt.Standalone);break;case"cccc":e=Ie(1,ye.Wide,pt.Standalone);break;case"ccccc":e=Ie(1,ye.Narrow,pt.Standalone);break;case"cccccc":e=Ie(1,ye.Short,pt.Standalone);break;case"E":case"EE":case"EEE":e=Ie(1,ye.Abbreviated);break;case"EEEE":e=Ie(1,ye.Wide);break;case"EEEEE":e=Ie(1,ye.Narrow);break;case"EEEEEE":e=Ie(1,ye.Short);break;case"a":case"aa":case"aaa":e=Ie(0,ye.Abbreviated);break;case"aaaa":e=Ie(0,ye.Wide);break;case"aaaaa":e=Ie(0,ye.Narrow);break;case"b":case"bb":case"bbb":e=Ie(0,ye.Abbreviated,pt.Standalone,!0);break;case"bbbb":e=Ie(0,ye.Wide,pt.Standalone,!0);break;case"bbbbb":e=Ie(0,ye.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ie(0,ye.Abbreviated,pt.Format,!0);break;case"BBBB":e=Ie(0,ye.Wide,pt.Format,!0);break;case"BBBBB":e=Ie(0,ye.Narrow,pt.Format,!0);break;case"h":e=He(3,1,-12);break;case"hh":e=He(3,2,-12);break;case"H":e=He(3,1);break;case"HH":e=He(3,2);break;case"m":e=He(4,1);break;case"mm":e=He(4,2);break;case"s":e=He(5,1);break;case"ss":e=He(5,2);break;case"S":e=He(6,1);break;case"SS":e=He(6,2);break;case"SSS":e=He(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Xd(0);break;case"ZZZZZ":e=Xd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xd(2);break;default:return null}return Ay[t]=e,e}function LS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function yV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function _V(t,e,n){let i=t.getTimezoneOffset(),o=LS(e,i);return yV(t,-1*(o-i))}function vV(t){if(CS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return th(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(uV))return bV(r)}let e=new Date(t);if(!CS(e))throw new Q(2311,!1);return e}function bV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function CS(t){return t instanceof Date&&!isNaN(t.valueOf())}function EV(t,e){return new Q(2100,!1)}var IV="mediumDate",VS=new V(""),BS=new V(""),wV=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??IV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return OS(n,s,o||this.locale,a)}catch(s){throw EV(t,s.message)}}static \u0275fac=function(r){return new(r||t)(rr(_c,16),rr(VS,24),rr(BS,24))};static \u0275pipe=hy({name:"date",type:t,pure:!0})}return t})();var DV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({})}return t})();function TV(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ry=class{};var SV="browser";function US(t){return t===SV}var Nee=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new xy(C(me),window)})}return t})(),xy=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(De(z({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=AV(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Bi(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(De(z({},n),{left:i-s[0],top:o-s[1]}))}};function AV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $S=t=>t.src,RV=new V("",{providedIn:"root",factory:()=>$S});var jS=/^((\s*\d+w\s*(,|$)){1,})$/;var xV=[1,2],NV=640;var kV=1920,MV=1080;var kee=(()=>{class t{imageLoader=C(RV);config=PV(C(Sd));renderer=C(nr);imgElement=C(xe).nativeElement;injector=C(oe);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){er("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let n=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&jS.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(n){if(n.ngSrc&&!n.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let n={src:this.ngSrc};this._renderedSrc=this.callImageLoader(n)}return this._renderedSrc}getRewrittenSrcset(){let n=jS.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=n?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:n}=this.config,r=n;return this.sizes?.trim()==="100vw"&&(r=n.filter(o=>o>=NV)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(n=!1){n&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return xV.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let n=!1;return this.sizes||(n=this.width>kV||this.height>MV),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==$S&&!n}generatePlaceholder(n){let{placeholderResolution:r}=this.config;return n===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof n=="string"?`url(${n})`:null}shouldBlurPlaceholder(n){return!n||!n.hasOwnProperty("blur")?!0:!!n.blur}removePlaceholderOnLoad(n){let r=()=>{let s=this.injector.get(Es);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(n,"load",r),o=this.renderer.listen(n,"error",r);OV(n,r)}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&yc("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",FV],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",bc],height:[2,"height","height",bc],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",Bt],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",Bt],fill:[2,"fill","fill",Bt],placeholder:[2,"placeholder","placeholder",LV],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[ro]})}return t})();function PV(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},Cd,t,e)}function OV(t,e){t.complete&&t.naturalWidth&&e()}function FV(t){return typeof t=="string"?t:io(t)}function LV(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:Bt(t)}function Cc(t){return t.buttons===0||t.detail===0}function Sc(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Ny;function HS(){if(Ny==null){let t=typeof document<"u"?document.head:null;Ny=!!(t&&(t.createShadowRoot||t.attachShadow))}return Ny}function ky(t){if(HS()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Pt(t){return t.composedPath?t.composedPath()[0]:t.target}var My;try{My=typeof Intl<"u"&&Intl.v8BreakIterator}catch{My=!1}var Be=(()=>{class t{_platformId=C(oc);isBrowser=this._platformId?US(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||My)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ac;function zS(){if(Ac==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ac=!0}))}finally{Ac=Ac||!1}return Ac}function ws(t){return zS()?t:!!t.capture}function kn(t){return t instanceof xe?t.nativeElement:t}var qS=new V("cdk-input-modality-detector-options"),WS={ignoreKeys:[18,17,224,91,16]},GS=650,Py={passive:!0,capture:!0},KS=(()=>{class t{_platform=C(Be);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ai(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pt(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<GS||(this._modality.next(Cc(n)?"keyboard":"mouse"),this._mostRecentTarget=Pt(n))};_onTouchstart=n=>{if(Sc(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pt(n)};constructor(){let n=C(W),r=C(me),i=C(qS,{optional:!0});if(this._options=z(z({},WS),i),this.modalityDetected=this._modality.pipe(Pa(1)),this.modalityChanged=this.modalityDetected.pipe(Ma()),this._platform.isBrowser){let o=C(ft).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,Py),o.listen(r,"mousedown",this._onMousedown,Py),o.listen(r,"touchstart",this._onTouchstart,Py)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rc=(function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t})(Rc||{}),YS=new V("cdk-focus-monitor-default-options"),nh=ws({passive:!0,capture:!0}),Oy=(()=>{class t{_ngZone=C(W);_platform=C(Be);_inputModalityDetector=C(KS);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=C(me);_stopInputModalityDetector=new se;constructor(){let n=C(YS,{optional:!0});this._detectionMode=n?.detectionMode||Rc.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=Pt(n);for(let i=r;i;i=i.parentElement)n.type==="focus"?this._onFocus(n,i):this._onBlur(n,i)};monitor(n,r=!1){let i=kn(n);if(!this._platform.isBrowser||i.nodeType!==1)return Ni();let o=ky(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new se,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let r=kn(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){let o=kn(n),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Rc.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Rc.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?GS:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(n,r){let i=this._elementInfo.get(r),o=Pt(n);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(n,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,nh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,nh)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((i,o)=>{(o===n||i.checkChildren&&o.contains(n))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rh=new WeakMap,Gr=(()=>{class t{_appRef;_injector=C(oe);_environmentInjector=C(Ue);load(n){let r=this._appRef=this._appRef||this._injector.get(Nn),i=rh.get(r);i||(i={loaders:new Set,refs:[]},rh.set(r,i),r.onDestroy(()=>{rh.get(r)?.refs.forEach(o=>o.destroy()),rh.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(qd(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ds(t){return Array.isArray(t)?t:[t]}var QS=new Set,co,ih=(()=>{class t{_platform=C(Be);_nonce=C(Wg,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BV}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&VV(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VV(t,e){if(!QS.has(t))try{co||(co=document.createElement("style"),e&&co.setAttribute("nonce",e),co.setAttribute("type","text/css"),document.head.appendChild(co)),co.sheet&&(co.sheet.insertRule(`@media ${t} {body{ }}`,0),QS.add(t))}catch(n){console.error(n)}}function BV(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var xc=(()=>{class t{_mediaMatcher=C(ih);_zone=C(W);_queries=new Map;_destroySubject=new se;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return ZS(Ds(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=ZS(Ds(n)).map(s=>this._registerQuery(s).observable),o=Bp(i);return o=Qo(o.pipe(ka(1)),o.pipe(Pa(1),xa(0))),o.pipe(ht(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:l})=>{a.matches=a.matches||u,a.breakpoints[l]=u}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new q(s=>{let a=u=>this._zone.run(()=>s.next(u));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Oa(r),ht(({matches:s})=>({query:n,matches:s})),Nr(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZS(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var e0=new V("liveAnnouncerElement",{providedIn:"root",factory:t0});function t0(){return null}var n0=new V("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),jV=0,Ly=(()=>{class t{_ngZone=C(W);_defaultOptions=C(n0,{optional:!0});_liveElement;_document=C(me);_previousTimeout;_currentPromise;_currentResolve;constructor(){let n=C(e0,{optional:!0});this._liveElement=n||this._createLiveElement()}announce(n,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(n),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${jV++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Kr=(function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t})(Kr||{}),XS="cdk-high-contrast-black-on-white",JS="cdk-high-contrast-white-on-black",Fy="cdk-high-contrast-active",Vy=(()=>{class t{_platform=C(Be);_hasCheckedHighContrastMode;_document=C(me);_breakpointSubscription;constructor(){this._breakpointSubscription=C(xc).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Kr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Kr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Kr.BLACK_ON_WHITE}return Kr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Fy,XS,JS),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Kr.BLACK_ON_WHITE?n.add(Fy,XS):r===Kr.WHITE_ON_BLACK&&n.add(Fy,JS)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var By={},Nc=(()=>{class t{_appId=C(qg);getId(n){return this._appId!=="ng"&&(n+=this._appId),By.hasOwnProperty(n)||(By[n]=0),`${n}${By[n]++}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var UV=200,oh=class{_letterKeyStream=new se;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new se;selectedItem=this._selectedItem;constructor(e,n){let r=typeof n?.debounceInterval=="number"?n.debounceInterval:UV;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let n=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe($p(n=>this._pressedLetters.push(n)),xa(e),xt(()=>this._pressedLetters.length>0),ht(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function r0(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var sh=class{_items;_activeItemIndex=Sn(-1);_activeItem=Sn(null);_wrap=!1;_typeaheadSubscription=Ee.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,n){this._items=e,e instanceof to?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):Ka(e)&&(this._effectRef=Hd(()=>this._itemsChanged(e()),{injector:n}))}tabOut=new se;change=new se;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new oh(n,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem();this.updateActiveItem(e),this._activeItem()!==n&&this.change.next(this._activeItemIndex())}onKeydown(e){let n=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||r0(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),r=typeof e=="number"?e:n.indexOf(e),i=n[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let r=1;r<=n.length;r++){let i=(this._activeItemIndex()+e*r+n.length)%n.length,o=n[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,n){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=n,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return Ka(this._items)?this._items():this._items instanceof to?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let n=this._activeItem();if(n){let r=e.indexOf(n);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var jy=class extends sh{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var uo;function i0(){if(uo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return uo=!1,uo;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)uo=!0;else{let t=Element.prototype.scrollTo;t?uo=!/\{\s*\[native code\]\s*\}/.test(t.toString()):uo=!1}}return uo}function Uy(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var o0={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var $V=new V("MATERIAL_ANIMATIONS");var s0=null;function HV(){return C($V,{optional:!0})?.animationsDisabled||C(sc,{optional:!0})==="NoopAnimations"?"di-disabled":(s0??=C(ih).matchMedia("(prefers-reduced-motion)").matches,s0?"reduced-motion":"enabled")}function cr(){return HV()!=="enabled"}function je(t){return t==null?"":typeof t=="string"?t:`${t}px`}var Gt=(function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t})(Gt||{}),$y=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Gt.HIDDEN;constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},a0=ws({passive:!0,capture:!0}),Hy=class{_events=new Map;addHandler(e,n,r,i){let o=this._events.get(n);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,a0)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let o=i.get(n);o&&(o.delete(r),o.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,a0)))}_delegateEventHandler=e=>{let n=Pt(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(e))})}},kc={enterDuration:225,exitDuration:150},qV=800,c0=ws({passive:!0,capture:!0}),u0=["mousedown","touchstart"],l0=["mouseup","mouseleave","touchend","touchcancel"],WV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),Mc=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Hy;constructor(e,n,r,i,o){this._target=e,this._ngZone=n,this._platform=i,i.isBrowser&&(this._containerElement=kn(r)),o&&o.get(Gr).load(WV)}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=z(z({},kc),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let s=r.radius||GV(e,n,i),a=e-i.left,u=n-i.top,l=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${u-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,r.color!=null&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),m=p.transitionProperty,y=p.transitionDuration,I=m==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,R=new $y(this,h,r,I);h.style.transform="scale3d(1, 1, 1)",R.state=Gt.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let N=null;return!I&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let P=()=>{N&&(N.fallbackTimer=null),clearTimeout(J),this._finishRippleTransition(R)},j=()=>this._destroyRipple(R),J=setTimeout(j,l+100);h.addEventListener("transitionend",P),h.addEventListener("transitioncancel",j),N={onTransitionEnd:P,onTransitionCancel:j,fallbackTimer:J}}),this._activeRipples.set(R,N),(I||!l)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===Gt.FADING_OUT||e.state===Gt.HIDDEN)return;let n=e.element,r=z(z({},kc),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Gt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=kn(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,u0.forEach(r=>{t._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{l0.forEach(n=>{this._triggerElement.addEventListener(n,this,c0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Gt.FADING_IN?this._startFadeOutTransition(e):e.state===Gt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Gt.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Gt.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=Cc(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+qV;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Sc(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Gt.VISIBLE||e.config.terminateOnPointerUp&&e.state===Gt.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(u0.forEach(n=>t._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(l0.forEach(n=>e.removeEventListener(n,this,c0)),this._pointerUpEventsRegistered=!1))}};function GV(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var zy=new V("mat-ripple-global-options"),qne=(()=>{class t{_elementRef=C(xe);_animationsDisabled=cr();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let n=C(W),r=C(Be),i=C(zy,{optional:!0}),o=C(oe);this._globalOptions=i||{},this._rippleRenderer=new Mc(this,n,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:z(z(z({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,z(z({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,z(z({},this.rippleConfig),n))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&un("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var KV={capture:!0},YV=["focus","mousedown","mouseenter","touchstart"],qy="mat-ripple-loader-uninitialized",Wy="mat-ripple-loader-class-name",d0="mat-ripple-loader-centered",ah="mat-ripple-loader-disabled",h0=(()=>{class t{_document=C(me);_animationsDisabled=cr();_globalRippleOptions=C(zy,{optional:!0});_platform=C(Be);_ngZone=C(W);_injector=C(oe);_eventCleanups;_hosts=new Map;constructor(){let n=C(ft).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>YV.map(r=>n.listen(this._document,r,this._onInteraction,KV)))}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(n,r){n.setAttribute(qy,this._globalRippleOptions?.namespace??""),(r.className||!n.hasAttribute(Wy))&&n.setAttribute(Wy,r.className||""),r.centered&&n.setAttribute(d0,""),r.disabled&&n.setAttribute(ah,"")}setDisabled(n,r){let i=this._hosts.get(n);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(n))):r?n.setAttribute(ah,""):n.removeAttribute(ah)}_onInteraction=n=>{let r=Pt(n);if(r instanceof HTMLElement){let i=r.closest(`[${qy}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(Wy)),n.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??kc.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??kc.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||n.hasAttribute(ah),rippleConfig:{centered:n.hasAttribute(d0),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},u=new Mc(a,this._ngZone,r,this._platform,this._injector),l=!a.rippleDisabled;l&&u.setupTriggerEvents(n),this._hosts.set(n,{target:a,renderer:u,hasSetUpEvents:l}),n.removeAttribute(qy)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var f0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var QV=["mat-icon-button",""],ZV=["*"],XV=new V("MAT_BUTTON_CONFIG");function p0(t){return t==null?void 0:bc(t)}var Gy=(()=>{class t{_elementRef=C(xe);_ngZone=C(W);_animationsDisabled=cr();_config=C(XV,{optional:!0});_focusMonitor=C(Oy);_cleanupClick;_renderer=C(nr);_rippleLoader=C(h0);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(n){this.tabIndex=n}constructor(){C(Gr).load(f0);let n=this._elementRef.nativeElement;this._isAnchor=n.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(so("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),by(i.color?"mat-"+i.color:""),un("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Bt],disabled:[2,"disabled","disabled",Bt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Bt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Bt],tabIndex:[2,"tabIndex","tabIndex",p0],_tabindex:[2,"tabindex","_tabindex",p0]}})}return t})(),JV=(()=>{class t extends Gy{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[cn],attrs:QV,ngContentSelectors:ZV,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(vs(),or(0,"span",0),Wr(1),or(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var e2=new V("cdk-dir-doc",{providedIn:"root",factory:t2});function t2(){return C(me)}var n2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function m0(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?n2.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ky=(()=>{class t{get value(){return this.valueSignal()}valueSignal=Sn("ltr");change=new Tt;constructor(){let n=C(e2,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(m0(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({})}return t})();var ur=(()=>{class t{constructor(){C(Vy)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({imports:[Yr,Yr]})}return t})();var g0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({imports:[ur,ur]})}return t})();var r2=["matButton",""],i2=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],o2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var y0=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),_0=(()=>{class t extends Gy{get appearance(){return this._appearance}set appearance(n){this.setAppearance(n||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let n=s2(this._elementRef.nativeElement);n&&this.setAppearance(n)}setAppearance(n){if(n===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?y0.get(this._appearance):null,o=y0.get(n);i&&r.remove(...i),r.add(...o),this._appearance=n}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[cn],attrs:r2,ngContentSelectors:o2,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(vs(i2),or(0,"span",0),Wr(1),ys(2,"span",1),Wr(3,1),_s(),Wr(4,2),or(5,"span",2)(6,"span",3)),r&2&&un("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function s2(t){return t.hasAttribute("mat-raised-button")?"elevated":t.hasAttribute("mat-stroked-button")?"outlined":t.hasAttribute("mat-flat-button")?"filled":t.hasAttribute("mat-button")?"text":null}var v0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({imports:[ur,g0,ur]})}return t})();var Pc=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ts=class extends Pc{component;viewContainerRef;injector;projectableNodes;constructor(e,n,r,i){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.projectableNodes=i}},Cs=class extends Pc{templateRef;viewContainerRef;context;injector;constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Yy=class extends Pc{element;constructor(e){super(),this.element=e instanceof xe?e.nativeElement:e}},Ss=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ts)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Cs)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Yy)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},ch=class extends Ss{outletElement;_appRef;_defaultInjector;constructor(e,n,r){super(),this.outletElement=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(e){let n;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(xn,null,{optional:!0})||void 0;n=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||oe.NULL,o=i.get(Ue,r.injector);n=qd(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(n.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(r,n),this.outletElement.appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Qy=(()=>{class t extends Ss{_moduleRef=C(xn,{optional:!0});_document=C(me);_viewContainerRef=C(ir);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new Tt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,i=r.createComponent(n.component,{index:r.length,injector:n.injector||r.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=n=>{let r=n.element;r.parentNode;let i=this._document.createComment("dom-portal");n.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[cn]})}return t})();var uh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({})}return t})();var c2=20,Zy=(()=>{class t{_ngZone=C(W);_platform=C(Be);_renderer=C(ft).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new se;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=c2){return this._platform.isBrowser?new q(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(Il(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ni()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(xt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=kn(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var u2=20,Oc=(()=>{class t{_platform=C(Be);_listeners;_viewportSize;_change=new se;_document=C(me);constructor(){let n=C(W),r=C(ft).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),s=-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(n=u2){return n>0?this._change.pipe(Il(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var b0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({})}return t})(),Xy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({imports:[Yr,b0,Yr,b0]})}return t})();var E0=i0();function A0(t){return new lh(t.get(Oc),t.get(me))}var lh=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,n){this._viewportRuler=e,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=je(-this._previousScrollPosition.left),e.style.top=je(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),E0&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),E0&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.documentElement,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};function R0(t,e){return new dh(t.get(Zy),t.get(W),t.get(Oc),e)}var dh=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(xt(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Fc=class{enable(){}disable(){}attach(){}};function Jy(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return r||i||o||s})}function I0(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return r||i||o||s})}function yh(t,e){return new hh(t.get(Zy),t.get(Oc),t.get(W),e)}var hh=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Jy(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},x0=(()=>{class t{_injector=C(oe);constructor(){}noop=()=>new Fc;close=n=>R0(this._injector,n);block=()=>A0(this._injector);reposition=n=>yh(this._injector,n);static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),As=class{positionStrategy;scrollStrategy=new Fc;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var fh=class{connectionPair;scrollableViewProperties;constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var N0=(()=>{class t{_attachedOverlays=[];_document=C(me);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k0=(()=>{class t extends N0{_ngZone=C(W);_renderer=C(ft).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=ic(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),M0=(()=>{class t extends N0{_platform=C(Be);_ngZone=C(W);_renderer=C(ft).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=Pt(n)};_clickListener=n=>{let r=Pt(n),i=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(w0(a.overlayElement,r)||w0(a.overlayElement,i))break;let u=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(n)):u.next(n)}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=ic(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function w0(t,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===t)return!0;r=n&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var P0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return t})(),O0=(()=>{class t{_platform=C(Be);_containerElement;_document=C(me);_styleLoader=C(Gr);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Uy()){let i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(n),Uy()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(P0)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e_=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,n,r,i){this._renderer=n,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},ph=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new se;_attachments=new se;_detachments=new se;_positionStrategy;_scrollStrategy;_locationChanges=Ee.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new se;_outsidePointerEvents=new se;_afterNextRenderRef;constructor(e,n,r,i,o,s,a,u,l,h=!1,p,m){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._injector=p,this._renderer=m,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=tr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=z(z({},this._config),e),this._updateElementSize()}setDirection(e){this._config=De(z({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=je(this._config.width),e.height=je(this._config.height),e.minWidth=je(this._config.minWidth),e.minHeight=je(this._config.minHeight),e.maxWidth=je(this._config.maxWidth),e.maxHeight=je(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new e_(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,n,r){let i=Ds(n||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=tr(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(n){if(e)throw n;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},D0="cdk-overlay-connected-position-bounding-box",l2=/([A-Za-z%]+)$/;function F0(t,e){return new mh(e,t.get(Oc),t.get(me),t.get(Be),t.get(O0))}var mh=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new se;_resizeSubscription=Ee.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(D0),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let u=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(u,n,a),h=this._getOverlayFit(l,n,r,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,u);return}if(this._canFitWithFlexibleDimensions(h,l,r)){o.push({position:a,origin:u,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(u,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:u,position:a,overlayRect:n})}if(o.length){let a=null,u=-1;for(let l of o){let h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>u&&(u=h,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(D0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,n,r,i){let o=C0(n),{x:s,y:a}=e,u=this._getOffset(i,"x"),l=this._getOffset(i,"y");u&&(s+=u),l&&(a+=l);let h=0-s,p=s+o.width-r.width,m=0-a,y=a+o.height-r.height,I=this._subtractOverflows(o.width,h,p),R=this._subtractOverflows(o.height,m,y),N=I*R;return{visibleArea:N,isCompletelyWithinViewport:o.width*o.height===N,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,s=T0(this._overlayRef.getConfig().minHeight),a=T0(this._overlayRef.getConfig().minWidth),u=e.fitsInViewportVertically||s!=null&&s<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return u&&l}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=C0(n),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0),h=0,p=0;return i.width<=o.width?h=l||-s:h=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=u||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!d2(this._lastScrollVisibility,r)){let i=new fh(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let y=Math.min(r.bottom-e.y+r.top,e.y),I=this._lastBoundingBoxSize.height;o=y*2,s=e.y-y,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-I/2)}let u=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,h,p,m;if(l)m=r.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(u)p=e.x,h=r.right-e.x;else{let y=Math.min(r.right-e.x+r.left,e.x),I=this._lastBoundingBoxSize.width;h=y*2,p=e.x-y,h>I&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-I/2)}return{top:s,left:p,bottom:a,right:m,width:h,height:o}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=je(r.height),i.top=je(r.top),i.bottom=je(r.bottom),i.width=je(r.width),i.left=je(r.left),i.right=je(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=je(o)),s&&(i.maxWidth=je(s))}this._lastBoundingBoxSize=r,lo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){lo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let h=this._viewportRuler.getViewportScrollPosition();lo(r,this._getExactOverlayY(n,e,h)),lo(r,this._getExactOverlayX(n,e,h))}else r.position="static";let a="",u=this._getOffset(n,"x"),l=this._getOffset(n,"y");u&&(a+=`translateX(${u}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=je(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=je(s.maxWidth):o&&(r.maxWidth="")),lo(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=je(o.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=je(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:I0(e,r),isOriginOutsideView:Jy(e,r),isOverlayClipped:I0(n,r),isOverlayOutsideView:Jy(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ds(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof xe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function lo(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function T0(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(l2);return!n||n==="px"?parseFloat(e):null}return t||null}function C0(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function d2(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var S0="cdk-global-overlay-wrapper";function _h(t){return new gh}var gh=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(S0),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,u=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,p=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",y="",I="",R="";u?R="flex-start":h==="center"?(R="center",m?I=p:y=p):m?h==="left"||h==="end"?(R="flex-end",y=p):(h==="right"||h==="start")&&(R="flex-start",I=p):h==="left"||h==="start"?(R="flex-start",y=p):(h==="right"||h==="end")&&(R="flex-end",I=p),e.position=this._cssPosition,e.marginLeft=u?"0":y,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":I,n.justifyContent=R,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(S0),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},L0=(()=>{class t{_injector=C(oe);constructor(){}global(){return _h()}flexibleConnectedTo(n){return F0(this._injector,n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vh(t,e){t.get(Gr).load(P0);let n=t.get(O0),r=t.get(me),i=t.get(Nc),o=t.get(Nn),s=t.get(Ky),a=r.createElement("div"),u=r.createElement("div");u.id=i.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),a.appendChild(u),n.getContainerElement().appendChild(a);let l=new ch(u,o,t),h=new As(e),p=t.get(nr,null,{optional:!0})||t.get(ft).createRenderer(null,null);return h.direction=h.direction||s.value,new ph(l,a,u,h,t.get(W),t.get(k0),r,t.get(Yd),t.get(M0),e?.disableAnimations??t.get(sc,null,{optional:!0})==="NoopAnimations",t.get(Ue),p)}var V0=(()=>{class t{scrollStrategies=C(x0);_positionBuilder=C(L0);_injector=C(oe);constructor(){}create(n){return vh(this._injector,n)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h2=new V("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=C(oe);return()=>yh(t)}});function f2(t){let e=C(oe);return()=>yh(e)}var p2={provide:h2,useFactory:f2},t_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({providers:[V0,p2],imports:[Yr,uh,Xy,Xy]})}return t})();function m2(t,e){if(t&1){let n=vy();ao(0,"div",1)(1,"button",2),fc("click",function(){Ll(n);let i=jd();return Vl(i.action())}),Ud(2),qr()()}if(t&2){let n=jd();oo(2),bs(" ",n.data.action," ")}}var g2=["label"];function y2(t,e){}var _2=Math.pow(2,31)-1,Lc=class{_overlayRef;instance;containerInstance;_afterDismissed=new se;_afterOpened=new se;_onAction=new se;_durationTimeoutId;_dismissedByAction=!1;constructor(e,n){this._overlayRef=n,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,_2))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},B0=new V("MatSnackBarData"),Rs=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},v2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),b2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),E2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ze({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),j0=(()=>{class t{snackBarRef=C(Lc);data=C(B0);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(ao(0,"div",0),Ud(1),qr(),gy(2,m2,3,1,"div",1)),r&2&&(oo(),bs(" ",i.data.message,`
`),oo(),_y(i.hasAction?2:-1))},dependencies:[_0,v2,b2,E2],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return t})(),n_="_mat-snack-bar-enter",r_="_mat-snack-bar-exit",I2=(()=>{class t extends Ss{_ngZone=C(W);_elementRef=C(xe);_changeDetectorRef=C(Es);_platform=C(Be);_animationsDisabled=cr();snackBarConfig=C(Rs);_document=C(me);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=C(oe);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new se;_onExit=new se;_onEnter=new se;_animationState="void";_live;_label;_role;_liveElementId=C(Nc).getId("mat-snack-bar-container-live-");constructor(){super();let n=this.snackBarConfig;n.politeness==="assertive"&&!n.announcementMessage?this._live="assertive":n.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}attachDomPortal=n=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(n);return this._afterPortalAttached(),r};onAnimationEnd(n){n===r_?this._completeExit():n===n_&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?tr(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(n_)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(n_)},200)))}exit(){return this._destroyed?Ni(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?tr(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(r_)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(r_),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>n.classList.add(s)):n.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?n.setAttribute("aria-owns",i):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let n=this._elementRef.nativeElement,r=n.querySelector("[aria-hidden]"),i=n.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&(pc(Qy,7),pc(g2,7)),r&2){let o;mc(o=gc())&&(i._portalOutlet=o.first),mc(o=gc())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&fc("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&un("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[cn],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(ao(0,"div",1)(1,"div",2,0)(3,"div",3),Ld(4,y2,0,0,"ng-template",4),qr(),Bd(5,"div"),qr()()),r&2&&(oo(5),so("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Qy],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return t})();function w2(){return new Rs}var D2=new V("mat-snack-bar-default-options",{providedIn:"root",factory:w2}),T2=(()=>{class t{_live=C(Ly);_injector=C(oe);_breakpointObserver=C(xc);_parentSnackBar=C(t,{optional:!0,skipSelf:!0});_defaultConfig=C(D2);_animationsDisabled=cr();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=j0;snackBarContainerComponent=I2;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(){}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",i){let o=z(z({},this._defaultConfig),i);return o.data={message:n,action:r},o.announcementMessage===n&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=oe.create({parent:i||this._injector,providers:[{provide:Rs,useValue:r}]}),s=new Ts(this.snackBarContainerComponent,r.viewContainerRef,o),a=n.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(n,r){let i=z(z(z({},new Rs),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Lc(s,o);if(n instanceof an){let u=new Cs(n,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(u)}else{let u=this._createInjector(i,a),l=new Ts(n,void 0,u),h=s.attachComponentPortal(l);a.instance=h.instance}return this._breakpointObserver.observe(o0.HandsetPortrait).pipe(Nr(o.detachments())).subscribe(u=>{o.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter()}_createOverlay(n){let r=new As;r.direction=n.direction;let i=_h(this._injector),o=n.direction==="rtl",s=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!o||n.horizontalPosition==="end"&&o,a=!s&&n.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),n.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,r.disableAnimations=this._animationsDisabled,vh(this._injector,r)}_createInjector(n,r){let i=n&&n.viewContainerRef&&n.viewContainerRef.injector;return oe.create({parent:i||this._injector,providers:[{provide:Lc,useValue:r},{provide:B0,useValue:n.data}]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var noe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Le({type:t});static \u0275inj=Me({providers:[T2],imports:[t_,uh,v0,ur,j0,ur]})}return t})();var U0=()=>{};var z0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new o_;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},S2=function(t){let e=z0(t);return bh.encodeByteArray(e,!0)},Bc=function(t){return S2(t).replace(/\./g,"")},Eh=function(t){try{return bh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var A2=()=>a_().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Eh(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return U0()||A2()||R2()||x2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c_=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},q0=t=>{let e=c_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u_=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config},l_=t=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${t}`]};var ho=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function wh(t){return E(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function W0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(s)),""].join(".")}var Vc={};function N2(){let t={prod:[],emulator:[]};for(let e of Object.keys(Vc))Vc[e]?t.emulator.push(e):t.prod.push(e);return t}function k2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var $0=!1;function Dh(t,e){if(typeof window>"u"||typeof document>"u"||!Qr(window.location.host)||Vc[t]===e||Vc[t]||$0)return;Vc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=N2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{$0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=k2(r),y=n("text"),I=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),P=n("preprendIcon"),j=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let J=m.element;a(J),h(N,R);let _e=l();u(j,P),J.append(j,I,N,_e),document.body.appendChild(J)}o?(I.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function M2(){var t;let e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z0(){let t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X0(){return!M2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jc(){try{return typeof indexedDB=="object"}catch{return!1}}function J0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var P2="FirebaseError",jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}},hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?O2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new jt(i,a,r)}};function O2(t,e){return t.replace(F2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var F2=/\{\$([^}]+)}/g;function eA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(H0(o)&&H0(s)){if(!Mn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function H0(t){return t!==null&&typeof t=="object"}function Uc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tA(t,e){let n=new s_(t,e);return n.subscribe.bind(n)}var s_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=i_),i.error===void 0&&(i.error=i_),i.complete===void 0&&(i.complete=i_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function L2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function i_(){}var aoe=14400*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fo="[DEFAULT]";var d_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ho;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function V2(t){return t===fo?void 0:t}function B2(t){return t.instantiationMode==="EAGER"}var Th=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new d_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var j2=[],ce=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ce||{}),U2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},$2=ce.INFO,H2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},z2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pn=class{constructor(e){this.name=e,this._logLevel=$2,this._logHandler=z2,this._userLogHandler=null,j2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var q2=(t,e)=>e.some(n=>t instanceof n),nA,rA;function W2(){return nA||(nA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G2(){return rA||(rA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iA=new WeakMap,f_=new WeakMap,oA=new WeakMap,h_=new WeakMap,m_=new WeakMap;function K2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(On(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iA.set(n,t)}).catch(()=>{}),m_.set(e,t),e}function Y2(t){if(f_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});f_.set(t,e)}var p_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return On(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sA(t){p_=t(p_)}function Q2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ch(this),e,...n);return oA.set(r,e.sort?e.sort():[e]),On(r)}:G2().includes(t)?function(...e){return t.apply(Ch(this),e),On(iA.get(this))}:function(...e){return On(t.apply(Ch(this),e))}}function Z2(t){return typeof t=="function"?Q2(t):(t instanceof IDBTransaction&&Y2(t),q2(t,W2())?new Proxy(t,p_):t)}function On(t){if(t instanceof IDBRequest)return K2(t);if(h_.has(t))return h_.get(t);let e=Z2(t);return e!==t&&(h_.set(t,e),m_.set(e,t)),e}var Ch=t=>m_.get(t);function cA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=On(s);return r&&s.addEventListener("upgradeneeded",u=>{r(On(s.result),u.oldVersion,u.newVersion,On(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var X2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],g_=new Map;function aA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(g_.get(e))return g_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=J2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X2.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return g_.set(e,o),o}sA(t=>De(z({},t),{get:(e,n,r)=>aA(e,n)||t.get(e,n,r),has:(e,n)=>!!aA(e,n)||t.has(e,n)}));var __=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function eB(t){let e=t.getComponent();return e?.type==="VERSION"}var v_="@firebase/app",uA="0.13.2";var lr=new Pn("@firebase/app"),tB="@firebase/app-compat",nB="@firebase/analytics-compat",rB="@firebase/analytics",iB="@firebase/app-check-compat",oB="@firebase/app-check",sB="@firebase/auth",aB="@firebase/auth-compat",cB="@firebase/database",uB="@firebase/data-connect",lB="@firebase/database-compat",dB="@firebase/functions",hB="@firebase/functions-compat",fB="@firebase/installations",pB="@firebase/installations-compat",mB="@firebase/messaging",gB="@firebase/messaging-compat",yB="@firebase/performance",_B="@firebase/performance-compat",vB="@firebase/remote-config",bB="@firebase/remote-config-compat",EB="@firebase/storage",IB="@firebase/storage-compat",wB="@firebase/firestore",DB="@firebase/ai",TB="@firebase/firestore-compat",CB="firebase",SB="11.10.0";var b_="[DEFAULT]",AB={[v_]:"fire-core",[tB]:"fire-core-compat",[rB]:"fire-analytics",[nB]:"fire-analytics-compat",[oB]:"fire-app-check",[iB]:"fire-app-check-compat",[sB]:"fire-auth",[aB]:"fire-auth-compat",[cB]:"fire-rtdb",[uB]:"fire-data-connect",[lB]:"fire-rtdb-compat",[dB]:"fire-fn",[hB]:"fire-fn-compat",[fB]:"fire-iid",[pB]:"fire-iid-compat",[mB]:"fire-fcm",[gB]:"fire-fcm-compat",[yB]:"fire-perf",[_B]:"fire-perf-compat",[vB]:"fire-rc",[bB]:"fire-rc-compat",[EB]:"fire-gcs",[IB]:"fire-gcs-compat",[wB]:"fire-fst",[TB]:"fire-fst-compat",[DB]:"fire-vertex","fire-js":"fire-js",[CB]:"fire-js-all"};var $c=new Map,RB=new Map,E_=new Map;function lA(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fn(t){let e=t.name;if(E_.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;E_.set(e,t);for(let n of $c.values())lA(n,t);for(let n of RB.values())lA(n,t);return!0}function xs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t==null?!1:t.settings!==void 0}var xB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new hn("app","Firebase",xB);var I_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}};var Xr=SB;function T_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:b_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=u_()),!n)throw Zr.create("no-options");let o=$c.get(i);if(o){if(Mn(n,o.options)&&Mn(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}let s=new Th(i);for(let u of E_.values())s.addComponent(u);let a=new I_(n,r,s);return $c.set(i,a),a}function po(t=b_){let e=$c.get(t);if(!e&&t===b_&&u_())return T_();if(!e)throw Zr.create("no-app",{appName:t});return e}function Sh(){return Array.from($c.values())}function Pe(t,e,n){var r;let i=(r=AB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}fn(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var NB="firebase-heartbeat-database",kB=1,Hc="firebase-heartbeat-store",y_=null;function pA(){return y_||(y_=cA(NB,kB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),y_}function MB(t){return E(this,null,function*(){try{let n=(yield pA()).transaction(Hc),r=yield n.objectStore(Hc).get(mA(t));return yield n.done,r}catch(e){if(e instanceof jt)lr.warn(e.message);else{let n=Zr.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}})}function dA(t,e){return E(this,null,function*(){try{let r=(yield pA()).transaction(Hc,"readwrite");yield r.objectStore(Hc).put(e,mA(t)),yield r.done}catch(n){if(n instanceof jt)lr.warn(n.message);else{let r=Zr.create("idb-set",{originalErrorMessage:n?.message});lr.warn(r.message)}}})}function mA(t){return`${t.name}!${t.options.appId}`}var PB=1024,OB=30,w_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new D_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>OB){let s=LB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){lr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=hA(),{heartbeatsToSend:r,unsentEntries:i}=FB(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return lr.warn(n),""}})}};function hA(){return new Date().toISOString().substring(0,10)}function FB(t,e=PB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var D_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return jc()?J0().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function fA(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function LB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function VB(t){fn(new St("platform-logger",e=>new __(e),"PRIVATE")),fn(new St("heartbeat",e=>new w_(e),"PRIVATE")),Pe(v_,uA,t),Pe(v_,uA,"esm2017"),Pe("fire-js","")}VB("");var BB="firebase",jB="11.10.0";Pe(BB,jB,"app");function gA(t){t===void 0&&(t=C(oe));let e=t.get(Zi);return n=>new q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Jr=new Oi("ANGULARFIRE2_VERSION");function zc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ks=(t,e)=>{let n=e?[e]:Sh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ns=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Ns||{}),yA=Dy()&&typeof Zone<"u"?Ns.WARN:Ns.SILENT;var Ah=class{zone;delegate;constructor(e,n=Fp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},ei=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=C(W);this.outsideAngular=n.runOutsideAngular(()=>new Ah(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ah(typeof Zone>"u"?void 0:Zone.current,Ar))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_A=!1;function UB(t,e){!_A&&(yA>Ns.SILENT||Dy())&&(_A=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),yA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function $B(t){let e=C(W,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function mo(t){let e=C(W,{optional:!0});return e?e.run(()=>t()):t()}var HB=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Or(n,()=>mo(()=>t.apply(void 0,r)))),At=(t,e,n)=>(n||=e?Ns.WARN:Ns.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=C(ei),s=C(Zi),a=C(Ue)}catch{return UB(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=mo(()=>s.add())),i[l]=HB(i[l],r,a));let u=$B(()=>t.apply(this,i));return e?u instanceof q?u.pipe(xr(o.outsideAngular),Rr(o.insideAngular),gA(a)):u instanceof Promise?mo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Or(a,()=>mo(()=>h(m))),m=>Or(a,()=>mo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:mo(()=>u):u instanceof q?u.pipe(xr(o.outsideAngular),Rr(o.insideAngular)):mo(()=>u)});var dr=class{constructor(e){return e}},go=class{constructor(){return Sh()}};function zB(t){return t&&t.length===1?t[0]:new dr(po())}var C_=new V("angularfire2._apps"),qB={provide:dr,useFactory:zB,deps:[[new Nt,C_]]},WB={provide:go,deps:[[new Nt,C_]]};function GB(t){return(e,n)=>{let r=n.get(oc);Pe("angularfire",Jr.full,"core"),Pe("angularfire",Jr.full,"app"),Pe("angular",em.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new dr(i)}}function nse(t,...e){return Yn([qB,WB,{provide:C_,useFactory:GB(t),multi:!0,deps:[W,oe,ei,...e]}])}var rse=At(T_,!0);var KB=new Map,YB={activated:!1,tokenObservers:[]},QB={initialized:!1,enabled:!1};function pn(t){return KB.get(t)||Object.assign({},YB)}function IA(){return QB}var ZB="https://content-firebaseappcheck.googleapis.com/v1";var XB="exchangeDebugToken",vA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},hse=1440*60*1e3;var R_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new ho,this.pending.promise.catch(n=>{}),yield JB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ho,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function JB(t){return new Promise(e=>{setTimeout(e,t)})}var ej={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ti=new hn("appCheck","AppCheck",ej);function wA(t){if(!pn(t).activated)throw ti.create("use-before-activation",{appName:t.name})}function DA(r,i){return E(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw ti.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ti.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ti.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function TA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZB}/projects/${n}/apps/${r}:${XB}?key=${i}`,body:{debug_token:e}}}var tj="firebase-app-check-database",nj=1,x_="firebase-app-check-store";var Rh=null;function rj(){return Rh||(Rh=new Promise((t,e)=>{try{let n=indexedDB.open(tj,nj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(x_,{keyPath:"compositeKey"})}}}catch(n){e(ti.create("storage-open",{originalErrorMessage:n?.message}))}}),Rh)}function ij(t,e){return oj(sj(t),e)}function oj(t,e){return E(this,null,function*(){let r=(yield rj()).transaction(x_,"readwrite"),o=r.objectStore(x_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ti.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function sj(t){return`${t.options.appId}-${t.name}`}var qc=new Pn("@firebase/app-check");function S_(t,e){return jc()?ij(t,e).catch(n=>{qc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CA(){return IA().enabled}function SA(){return E(this,null,function*(){let t=IA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var aj={error:"UNKNOWN_ERROR"};function cj(t){return bh.encodeString(JSON.stringify(t),!1)}function N_(t,e=!1,n=!1){return E(this,null,function*(){let r=t.app;wA(r);let i=pn(r),o=i.token,s;if(o&&!Wc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Wc(l)?o=l:yield S_(r,void 0))}if(!e&&o&&Wc(o))return{token:o.token};let a=!1;if(CA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=DA(TA(r,yield SA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield S_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?qc.warn(l.message):n&&qc.error(l),A_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield pn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?qc.warn(l.message):n&&qc.error(l),s=l}let u;return o?s?Wc(o)?u={token:o.token,internalError:s}:u=A_(s):(u={token:o.token},i.token=o,yield S_(r,o)):u=A_(s),a&&hj(r,u),u})}function uj(t){return E(this,null,function*(){let e=t.app;wA(e);let{provider:n}=pn(e);if(CA()){let r=yield SA(),{token:i}=yield DA(TA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function lj(t,e,n,r){let{app:i}=t,o=pn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Wc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),bA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>bA(t))}function AA(t,e){let n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function bA(t){let{app:e}=t,n=pn(e),r=n.tokenRefresher;r||(r=dj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function dj(t){let{app:e}=t;return new R_(()=>E(null,null,function*(){let n=pn(e),r;if(n.token?r=yield N_(t,!0):r=yield N_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vA.RETRIAL_MIN_WAIT,vA.RETRIAL_MAX_WAIT)}function hj(t,e){let n=pn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Wc(t){return t.expireTimeMillis-Date.now()>0}function A_(t){return{token:cj(aj),error:t}}var k_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=pn(this.app);for(let n of e)AA(this.app,n.next);return Promise.resolve()}};function fj(t,e){return new k_(t,e)}function pj(t){return{getToken:e=>N_(t,e),getLimitedUseToken:()=>uj(t),addTokenListener:e=>lj(t,"INTERNAL",e),removeTokenListener:e=>AA(t.app,e)}}var mj="@firebase/app-check",gj="0.10.1";var yj="app-check",EA="app-check-internal";function _j(){fn(new St(yj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return fj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(EA).initialize()})),fn(new St(EA,t=>{let e=t.getProvider("app-check").getImmediate();return pj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(mj,gj)}_j();var vj="app-check";var Ms=class{constructor(){return ks(vj)}};var bj=["localhost","0.0.0.0","127.0.0.1"],Tse=typeof window<"u"&&bj.includes(window.location.hostname);function HA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zA=HA,qA=new hn("auth","Firebase",HA());var Oh=new Pn("@firebase/auth");function Ej(t,...e){Oh.logLevel<=ce.WARN&&Oh.warn(`Auth (${Xr}): ${t}`,...e)}function Nh(t,...e){Oh.logLevel<=ce.ERROR&&Oh.error(`Auth (${Xr}): ${t}`,...e)}function ii(t,...e){throw X_(t,...e)}function _o(t,...e){return X_(t,...e)}function WA(t,e,n){let r=Object.assign(Object.assign({},zA()),{[e]:n});return new hn("auth","Firebase",r).create(e,{appName:t.name})}function yo(t){return WA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qA.create(t,...e)}function Y(t,e,...n){if(!t)throw X_(e,...n)}function hr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Nh(e),new Error(e)}function oi(t,e){t||hr(e)}function F_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ij(){return RA()==="http:"||RA()==="https:"}function RA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ij()||Y0()||"connection"in navigator)?navigator.onLine:!0}function Dj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var vo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=G0()||Q0()}get(){return wj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function J_(t,e){oi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Cj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sj=new vo(3e4,6e4);function ev(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ps(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){return GA(t,i,()=>E(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Uc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return K0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(y.credentials="include"),Fh.fetch()(yield KA(t,t.config.apiHost,n,p),y)}))})}function GA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Tj),e);try{let i=new L_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw xh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw xh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw xh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WA(t,h,l);ii(t,h)}}catch(i){if(i instanceof jt)throw i;ii(t,"network-request-failed",{message:String(i)})}})}function Aj(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield Ps(t,e,n,r,i);return"mfaPendingCredential"in l&&ii(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function KA(t,e,n,r){return E(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?J_(t.config,i):`${t.config.apiScheme}://${i}`;return Cj.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var L_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_o(this.auth,"network-request-failed")),Sj.get())})}};function xh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_o(t,e,r);return i.customData._tokenResponse=n,i}function Rj(t,e){return E(this,null,function*(){return Ps(t,"POST","/v1/accounts:delete",e)})}function Lh(t,e){return E(this,null,function*(){return Ps(t,"POST","/v1/accounts:lookup",e)})}function Gc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tv(t,e=!1){return E(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=nv(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gc(M_(i.auth_time)),issuedAtTime:Gc(M_(i.iat)),expirationTime:Gc(M_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function M_(t){return Number(t)*1e3}function nv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Eh(n);return i?JSON.parse(i):(Nh("Failed to decode base64 JWT payload"),null)}catch(i){return Nh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xA(t){let e=nv(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Yc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jt&&xj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function xj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var V_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Yc(t,Lh(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YA(o.providerUserInfo):[],a=Nj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function rv(t){return E(this,null,function*(){let e=Xe(t);yield Vh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Nj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YA(t){return t.map(e=>{var{providerId:n}=e,r=Vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kj(t,e){return E(this,null,function*(){let n=yield GA(t,{},()=>E(null,null,function*(){let r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield KA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(u.credentials="include"),Fh.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Mj(t,e){return E(this,null,function*(){return Ps(t,"POST","/v2/accounts:revokeToken",ev(t,e))})}var Kc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=xA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield kj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hr("not implemented")}};function ni(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ri=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Yc(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return tv(this,e)}reload(){return rv(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(yo(this.auth));let e=yield this.getIdToken();return yield Yc(this,Rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:J,emailVerified:_e,isAnonymous:yt,providerData:pe,stsTokenManager:D}=n;Y(J&&D,e,"internal-error");let _=Kc.fromJSON(this.name,D);Y(typeof J=="string",e,"internal-error"),ni(p,e.name),ni(m,e.name),Y(typeof _e=="boolean",e,"internal-error"),Y(typeof yt=="boolean",e,"internal-error"),ni(y,e.name),ni(I,e.name),ni(R,e.name),ni(N,e.name),ni(P,e.name),ni(j,e.name);let b=new t({uid:J,auth:e,email:m,emailVerified:_e,displayName:p,isAnonymous:yt,photoURL:I,phoneNumber:y,tenantId:R,stsTokenManager:_,createdAt:P,lastLoginAt:j});return pe&&Array.isArray(pe)&&(b.providerData=pe.map(w=>Object.assign({},w))),N&&(b._redirectEventId=N),b}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Kc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?YA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Kc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var NA=new Map;function fr(t){oi(t instanceof Function,"Expected a class definition");let e=NA.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NA.set(t,e),e)}var Pj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),B_=Pj;function kh(t,e,n){return`firebase:${t}:${e}:${n}`}var Bh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,o),this.fullPersistenceKey=kh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Lh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(fr(B_),e,r);let i=(yield Promise.all(n.map(l=>E(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||fr(B_),s=kh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Lh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ri._fromGetAccountInfoResponse(e,m,h)}else p=ri._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function kA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tR(e))return"Blackberry";if(nR(e))return"Webos";if(ZA(e))return"Safari";if((e.includes("chrome/")||XA(e))&&!e.includes("edge/"))return"Chrome";if(eR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QA(t=et()){return/firefox\//i.test(t)}function ZA(t=et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XA(t=et()){return/crios\//i.test(t)}function JA(t=et()){return/iemobile/i.test(t)}function eR(t=et()){return/android/i.test(t)}function tR(t=et()){return/blackberry/i.test(t)}function nR(t=et()){return/webos/i.test(t)}function iv(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oj(t=et()){var e;return iv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fj(){return Z0()&&document.documentMode===10}function rR(t=et()){return iv(t)||eR(t)||nR(t)||tR(t)||/windows phone/i.test(t)||JA(t)}function iR(t,e=[]){let n;switch(t){case"Browser":n=kA(et());break;case"Worker":n=`${kA(et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xr}/${r}`}var j_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Lj(n){return E(this,arguments,function*(t,e={}){return Ps(t,"GET","/v2/passwordPolicy",ev(t,e))})}var Vj=6,U_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Vj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jh(this),this.idTokenSubscription=new jh(this),this.beforeStateQueue=new j_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Bh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield Lh(this,{idToken:e}),r=yield ri._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Dj()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Kt(this.app))return Promise.reject(yo(this));let n=e?Xe(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Kt(this.app)?Promise.reject(yo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(yo(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(fr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield Lj(this),n=new U_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Mj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&fr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield Bh.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Ej(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ov(t){return Xe(t)}var jh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sv={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bj(t){sv=t}function jj(t){return sv.loadJS(t)}function Uj(){return sv.gapiScript}function oR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function av(t,e){let n=xs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Mn(o,e??{}))return i;ii(i,"already-initialized")}return n.initialize({options:e})}function $j(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cv(t,e,n){let r=ov(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=sR(e),{host:s,port:a}=Hj(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Mn(l,r.config.emulator)&&Mn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qr(s)?(wh(`${o}//${s}${u}`),Dh("Auth",!0)):i||zj()}function sR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hj(t){let e=sR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:MA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:MA(s)}}}function MA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Uh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}};function P_(t,e){return E(this,null,function*(){return Aj(t,"POST","/v1/accounts:signInWithIdp",ev(t,e))})}var $h=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var H_=class extends $h{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Zc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield ri._fromIdTokenResponse(e,r,i),s=PA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function PA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var z_=class t extends jt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function aR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?z_._fromErrorAndOperation(t,o,e,r):o})}function qj(t,e,n=!1){return E(this,null,function*(){let r=yield Yc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Zc._forOperation(t,"link",r)})}function Wj(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Kt(r.app))return Promise.reject(yo(r));let i="reauthenticate";try{let o=yield Yc(t,aR(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=nv(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),Zc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),o}})}function Gj(t,e,n=!1){return E(this,null,function*(){if(Kt(t.app))return Promise.reject(yo(t));let r="signIn",i=yield aR(t,r,e),o=yield Zc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function uv(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function lv(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}var Hh="__sak";var zh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Kj=1e3,Yj=10,Qj=(()=>{class t extends zh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Fj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Yj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield Sr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield Sr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield Sr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),cR=Qj;var Zj=(()=>{class t extends zh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dv=Zj;function Xj(t){return Promise.all(t.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Jj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield Xj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function uR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var q_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=uR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Fn(){return window}function eU(t){Fn().location.href=t}function lR(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}function tU(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rU(){return lR()?self:null}var dR="firebaseLocalStorageDb",iU=1,qh="firebaseLocalStorage",hR="fbase_key",bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Gh(t,e){return t.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function oU(){let t=indexedDB.deleteDatabase(dR);return new bo(t).toPromise()}function W_(){let t=indexedDB.open(dR,iU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(qh,{keyPath:hR})}catch(i){n(i)}}),t.addEventListener("success",()=>E(null,null,function*(){let r=t.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),yield oU(),e(yield W_()))}))})}function OA(t,e,n){return E(this,null,function*(){let r=Gh(t,!0).put({[hR]:e,value:n});return new bo(r).toPromise()})}function sU(t,e){return E(this,null,function*(){let n=Gh(t,!1).get(e),r=yield new bo(n).toPromise();return r===void 0?null:r.value})}function FA(t,e){let n=Gh(t,!0).delete(e);return new bo(n).toPromise()}var aU=800,cU=3,uU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield W_(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>cU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return lR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Jj._getInstance(rU()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield tU(),!this.activeServiceWorker)return;this.sender=new q_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield W_();return yield OA(n,Hh,"1"),yield FA(n,Hh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>OA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>sU(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>FA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Gh(o,!1).getAll();return new bo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fR=uU;var Ose=oR("rcb"),Fse=new vo(3e4,6e4);function lU(t,e){return e?fr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xc=class extends Uh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return P_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return P_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return P_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function dU(t){return Gj(t.auth,new Xc(t),t.bypassAuthState)}function hU(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),Wj(n,new Xc(t),t.bypassAuthState)}function fU(t){return E(this,null,function*(){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),qj(n,new Xc(t),t.bypassAuthState)})}var G_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dU;case"linkViaPopup":case"linkViaRedirect":return fU;case"reauthViaPopup":case"reauthViaRedirect":return hU;default:ii(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Lse=new vo(2e3,1e4);var pU="pendingRedirect",Mh=new Map,K_=class t extends G_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Mh.get(this.auth._key());if(!e){try{let r=(yield mU(this.resolver,this.auth))?yield Sr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Sr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Sr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function mU(t,e){return E(this,null,function*(){let n=_U(e),r=yU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function gU(t,e){Mh.set(t._key(),e)}function yU(t){return fr(t._redirectPersistence)}function _U(t){return kh(pU,t.config.apiKey,t.name)}function vU(t,e,n=!1){return E(this,null,function*(){if(Kt(t.app))return Promise.reject(yo(t));let r=ov(t),i=lU(r,e),s=yield new K_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var bU=600*1e3,Y_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_o(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bU&&this.cachedEventUids.clear(),this.cachedEventUids.has(LA(e))}saveEventToCache(e){this.cachedEventUids.add(LA(e)),this.lastProcessedEventTime=Date.now()}};function LA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pR(t);default:return!1}}function IU(n){return E(this,arguments,function*(t,e={}){return Ps(t,"GET","/v1/projects",e)})}var wU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;function TU(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield IU(t);for(let n of e)try{if(CU(n))return}catch{}ii(t,"unauthorized-domain")})}function CU(t){let e=F_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!DU.test(n))return!1;if(wU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var SU=new vo(3e4,6e4);function VA(){let t=Fn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AU(t){return new Promise((e,n)=>{var r,i,o;function s(){VA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VA(),n(_o(t,"network-request-failed"))},timeout:SU.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fn().gapi)===null||o===void 0)&&o.load)s();else{let a=oR("iframefcb");return Fn()[a]=()=>{gapi.load?s():n(_o(t,"network-request-failed"))},jj(`${Uj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ph=null,e})}var Ph=null;function RU(t){return Ph=Ph||AU(t),Ph}var xU=new vo(5e3,15e3),NU="__/auth/iframe",kU="emulator/auth/iframe",MU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OU(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?J_(e,kU):`https://${t.config.authDomain}/${NU}`,r={apiKey:e.apiKey,appName:t.name,v:Xr},i=PU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Uc(r).slice(1)}`}function FU(t){return E(this,null,function*(){let e=yield RU(t),n=Fn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:OU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MU,dontclear:!0},r=>new Promise((i,o)=>E(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=_o(t,"network-request-failed"),a=Fn().setTimeout(()=>{o(s)},xU.get());function u(){Fn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var LU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VU=500,BU=600,jU="_blank",UU="http://localhost",Wh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $U(t,e,n,r=VU,i=BU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},LU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=et().toLowerCase();n&&(a=XA(l)?jU:n),QA(l)&&(e=e||UU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,I])=>`${m}${y}=${I},`,"");if(Oj(l)&&a!=="_self")return HU(e||"",a),new Wh(null);let p=window.open(e||"",a,h);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new Wh(p)}function HU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zU="__/auth/handler",qU="emulator/auth/handler",WU=encodeURIComponent("fac");function BA(t,e,n,r,i,o){return E(this,null,function*(){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xr,eventId:i};if(e instanceof $h){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",eA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof H_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${WU}=${encodeURIComponent(u)}`:"";return`${GU(t)}?${Uc(a).slice(1)}${l}`})}function GU({config:t}){return t.emulator?J_(t,qU):`https://${t.authDomain}/${zU}`}var O_="webStorageSupport",Q_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=vU,this._overrideRedirectResult=gU}_openPopup(e,n,r,i){return E(this,null,function*(){var o;oi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield BA(e,n,r,F_(),i);return $U(e,s,uR())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield BA(e,n,r,F_(),i);return eU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(oi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield FU(e),r=new Y_(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O_,{type:O_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[O_];s!==void 0&&n(!!s),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rR()||ZA()||iv()}},mR=Q_;var jA="@firebase/auth",UA="1.10.8";var Z_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YU(t){fn(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(t)},l=new $_(r,i,o,u);return $j(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fn(new St("auth-internal",e=>{let n=ov(e.getProvider("auth").getImmediate());return(r=>new Z_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(jA,UA,KU(t)),Pe(jA,UA,"esm2017")}var QU=300,ZU=l_("authIdTokenMaxAge")||QU,$A=null,XU=t=>e=>E(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZU)return;let i=n?.token;$A!==i&&($A=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hv(t=po()){let e=xs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=av(t,{popupRedirectResolver:mR,persistence:[fR,cR,dv]}),r=l_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=XU(o.toString());lv(n,s,()=>s(n.currentUser)),uv(n,a=>s(a))}}let i=c_("auth");return i&&cv(n,`http://${i}`),n}function JU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Bj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=_o("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",JU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YU("Browser");var gR="auth",Jc=class{constructor(e){return e}},eu=class{constructor(){return ks(gR)}};var fv=new V("angularfire2.auth-instances");function W$(t,e){let n=zc(gR,t,e);return n&&new Jc(n)}function G$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jc(r)}}var K$={provide:eu,deps:[[new Nt,fv]]},Y$={provide:Jc,useFactory:W$,deps:[[new Nt,fv],dr]};function Cae(t,...e){return Pe("angularfire",Jr.full,"auth"),Yn([Y$,K$,{provide:fv,useFactory:G$(t),multi:!0,deps:[W,oe,ei,go,[new Nt,Ms],...e]}])}var Sae=At(hv,!0);var yR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_R={};var pr,pv;(function(){var t;function e(D,_){function b(){}b.prototype=_.prototype,D.D=_.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(w,T,A){for(var v=Array(arguments.length-2),$n=2;$n<arguments.length;$n++)v[$n-2]=arguments[$n];return _.prototype[T].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,b){b||(b=0);var w=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)w[T]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(T=0;16>T;++T)w[T]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=D.g[0],b=D.g[1],T=D.g[2];var A=D.g[3],v=_+(A^b&(T^A))+w[0]+3614090360&4294967295;_=b+(v<<7&4294967295|v>>>25),v=A+(T^_&(b^T))+w[1]+3905402710&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(b^A&(_^b))+w[2]+606105819&4294967295,T=A+(v<<17&4294967295|v>>>15),v=b+(_^T&(A^_))+w[3]+3250441966&4294967295,b=T+(v<<22&4294967295|v>>>10),v=_+(A^b&(T^A))+w[4]+4118548399&4294967295,_=b+(v<<7&4294967295|v>>>25),v=A+(T^_&(b^T))+w[5]+1200080426&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(b^A&(_^b))+w[6]+2821735955&4294967295,T=A+(v<<17&4294967295|v>>>15),v=b+(_^T&(A^_))+w[7]+4249261313&4294967295,b=T+(v<<22&4294967295|v>>>10),v=_+(A^b&(T^A))+w[8]+1770035416&4294967295,_=b+(v<<7&4294967295|v>>>25),v=A+(T^_&(b^T))+w[9]+2336552879&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(b^A&(_^b))+w[10]+4294925233&4294967295,T=A+(v<<17&4294967295|v>>>15),v=b+(_^T&(A^_))+w[11]+2304563134&4294967295,b=T+(v<<22&4294967295|v>>>10),v=_+(A^b&(T^A))+w[12]+1804603682&4294967295,_=b+(v<<7&4294967295|v>>>25),v=A+(T^_&(b^T))+w[13]+4254626195&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(b^A&(_^b))+w[14]+2792965006&4294967295,T=A+(v<<17&4294967295|v>>>15),v=b+(_^T&(A^_))+w[15]+1236535329&4294967295,b=T+(v<<22&4294967295|v>>>10),v=_+(T^A&(b^T))+w[1]+4129170786&4294967295,_=b+(v<<5&4294967295|v>>>27),v=A+(b^T&(_^b))+w[6]+3225465664&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^b&(A^_))+w[11]+643717713&4294967295,T=A+(v<<14&4294967295|v>>>18),v=b+(A^_&(T^A))+w[0]+3921069994&4294967295,b=T+(v<<20&4294967295|v>>>12),v=_+(T^A&(b^T))+w[5]+3593408605&4294967295,_=b+(v<<5&4294967295|v>>>27),v=A+(b^T&(_^b))+w[10]+38016083&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^b&(A^_))+w[15]+3634488961&4294967295,T=A+(v<<14&4294967295|v>>>18),v=b+(A^_&(T^A))+w[4]+3889429448&4294967295,b=T+(v<<20&4294967295|v>>>12),v=_+(T^A&(b^T))+w[9]+568446438&4294967295,_=b+(v<<5&4294967295|v>>>27),v=A+(b^T&(_^b))+w[14]+3275163606&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^b&(A^_))+w[3]+4107603335&4294967295,T=A+(v<<14&4294967295|v>>>18),v=b+(A^_&(T^A))+w[8]+1163531501&4294967295,b=T+(v<<20&4294967295|v>>>12),v=_+(T^A&(b^T))+w[13]+2850285829&4294967295,_=b+(v<<5&4294967295|v>>>27),v=A+(b^T&(_^b))+w[2]+4243563512&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^b&(A^_))+w[7]+1735328473&4294967295,T=A+(v<<14&4294967295|v>>>18),v=b+(A^_&(T^A))+w[12]+2368359562&4294967295,b=T+(v<<20&4294967295|v>>>12),v=_+(b^T^A)+w[5]+4294588738&4294967295,_=b+(v<<4&4294967295|v>>>28),v=A+(_^b^T)+w[8]+2272392833&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^b)+w[11]+1839030562&4294967295,T=A+(v<<16&4294967295|v>>>16),v=b+(T^A^_)+w[14]+4259657740&4294967295,b=T+(v<<23&4294967295|v>>>9),v=_+(b^T^A)+w[1]+2763975236&4294967295,_=b+(v<<4&4294967295|v>>>28),v=A+(_^b^T)+w[4]+1272893353&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^b)+w[7]+4139469664&4294967295,T=A+(v<<16&4294967295|v>>>16),v=b+(T^A^_)+w[10]+3200236656&4294967295,b=T+(v<<23&4294967295|v>>>9),v=_+(b^T^A)+w[13]+681279174&4294967295,_=b+(v<<4&4294967295|v>>>28),v=A+(_^b^T)+w[0]+3936430074&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^b)+w[3]+3572445317&4294967295,T=A+(v<<16&4294967295|v>>>16),v=b+(T^A^_)+w[6]+76029189&4294967295,b=T+(v<<23&4294967295|v>>>9),v=_+(b^T^A)+w[9]+3654602809&4294967295,_=b+(v<<4&4294967295|v>>>28),v=A+(_^b^T)+w[12]+3873151461&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^b)+w[15]+530742520&4294967295,T=A+(v<<16&4294967295|v>>>16),v=b+(T^A^_)+w[2]+3299628645&4294967295,b=T+(v<<23&4294967295|v>>>9),v=_+(T^(b|~A))+w[0]+4096336452&4294967295,_=b+(v<<6&4294967295|v>>>26),v=A+(b^(_|~T))+w[7]+1126891415&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~b))+w[14]+2878612391&4294967295,T=A+(v<<15&4294967295|v>>>17),v=b+(A^(T|~_))+w[5]+4237533241&4294967295,b=T+(v<<21&4294967295|v>>>11),v=_+(T^(b|~A))+w[12]+1700485571&4294967295,_=b+(v<<6&4294967295|v>>>26),v=A+(b^(_|~T))+w[3]+2399980690&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~b))+w[10]+4293915773&4294967295,T=A+(v<<15&4294967295|v>>>17),v=b+(A^(T|~_))+w[1]+2240044497&4294967295,b=T+(v<<21&4294967295|v>>>11),v=_+(T^(b|~A))+w[8]+1873313359&4294967295,_=b+(v<<6&4294967295|v>>>26),v=A+(b^(_|~T))+w[15]+4264355552&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~b))+w[6]+2734768916&4294967295,T=A+(v<<15&4294967295|v>>>17),v=b+(A^(T|~_))+w[13]+1309151649&4294967295,b=T+(v<<21&4294967295|v>>>11),v=_+(T^(b|~A))+w[4]+4149444226&4294967295,_=b+(v<<6&4294967295|v>>>26),v=A+(b^(_|~T))+w[11]+3174756917&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~b))+w[2]+718787259&4294967295,T=A+(v<<15&4294967295|v>>>17),v=b+(A^(T|~_))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var b=_-this.blockSize,w=this.B,T=this.h,A=0;A<_;){if(T==0)for(;A<=b;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<_;)if(w[T++]=D.charCodeAt(A++),T==this.blockSize){i(this,w),T=0;break}}else for(;A<_;)if(w[T++]=D[A++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var b=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=b&255,b/=256;for(this.u(D),D=Array(16),_=b=0;4>_;++_)for(var w=0;32>w;w+=8)D[b++]=this.g[_]>>>w&255;return D};function o(D,_){var b=a;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=_(D)}function s(D,_){this.h=_;for(var b=[],w=!0,T=D.length-1;0<=T;T--){var A=D[T]|0;w&&A==_||(b[T]=A,w=!1)}this.g=b}var a={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var _=[],b=1,w=0;D>=b;w++)_[w]=D/b|0,b*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return N(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(_,8)),w=p,T=0;T<D.length;T+=8){var A=Math.min(8,D.length-T),v=parseInt(D.substring(T,T+A),_);8>A?(A=l(Math.pow(_,A)),w=w.j(A).add(l(v))):(w=w.j(b),w=w.add(l(v)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var D=0,_=1,b=0;b<this.g.length;b++){var w=this.i(b);D+=(0<=w?w:4294967296+w)*_,_*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+N(this).toString(D);for(var _=l(Math.pow(D,6)),b=this,w="";;){var T=_e(b,_).g;b=P(b,T.j(_));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=T,I(b))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=P(this,D),R(D)?-1:I(D)?0:1};function N(D){for(var _=D.g.length,b=[],w=0;w<_;w++)b[w]=~D.g[w];return new s(b,~D.h).add(m)}t.abs=function(){return R(this)?N(this):this},t.add=function(D){for(var _=Math.max(this.g.length,D.g.length),b=[],w=0,T=0;T<=_;T++){var A=w+(this.i(T)&65535)+(D.i(T)&65535),v=(A>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=v>>>16,A&=65535,v&=65535,b[T]=v<<16|A}return new s(b,b[b.length-1]&-2147483648?-1:0)};function P(D,_){return D.add(N(_))}t.j=function(D){if(I(this)||I(D))return p;if(R(this))return R(D)?N(this).j(N(D)):N(N(this).j(D));if(R(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,b=[],w=0;w<2*_;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var A=this.i(w)>>>16,v=this.i(w)&65535,$n=D.i(T)>>>16,ca=D.i(T)&65535;b[2*w+2*T]+=v*ca,j(b,2*w+2*T),b[2*w+2*T+1]+=A*ca,j(b,2*w+2*T+1),b[2*w+2*T+1]+=v*$n,j(b,2*w+2*T+1),b[2*w+2*T+2]+=A*$n,j(b,2*w+2*T+2)}for(w=0;w<_;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=_;w<2*_;w++)b[w]=0;return new s(b,0)};function j(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function J(D,_){this.g=D,this.h=_}function _e(D,_){if(I(_))throw Error("division by zero");if(I(D))return new J(p,p);if(R(D))return _=_e(N(D),_),new J(N(_.g),N(_.h));if(R(_))return _=_e(D,N(_)),new J(N(_.g),_.h);if(30<D.g.length){if(R(D)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var b=m,w=_;0>=w.l(D);)b=yt(b),w=yt(w);var T=pe(b,1),A=pe(w,1);for(w=pe(w,2),b=pe(b,2);!I(w);){var v=A.add(w);0>=v.l(D)&&(T=T.add(b),A=v),w=pe(w,1),b=pe(b,1)}return _=P(D,T.j(_)),new J(T,_)}for(T=p;0<=D.l(_);){for(b=Math.max(1,Math.floor(D.m()/_.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=l(b),v=A.j(_);R(v)||0<v.l(D);)b-=w,A=l(b),v=A.j(_);I(A)&&(A=m),T=T.add(A),D=P(D,v)}return new J(T,D)}t.A=function(D){return _e(this,D).h},t.and=function(D){for(var _=Math.max(this.g.length,D.g.length),b=[],w=0;w<_;w++)b[w]=this.i(w)&D.i(w);return new s(b,this.h&D.h)},t.or=function(D){for(var _=Math.max(this.g.length,D.g.length),b=[],w=0;w<_;w++)b[w]=this.i(w)|D.i(w);return new s(b,this.h|D.h)},t.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),b=[],w=0;w<_;w++)b[w]=this.i(w)^D.i(w);return new s(b,this.h^D.h)};function yt(D){for(var _=D.g.length+1,b=[],w=0;w<_;w++)b[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(b,D.h)}function pe(D,_){var b=_>>5;_%=32;for(var w=D.g.length-b,T=[],A=0;A<w;A++)T[A]=0<_?D.i(A+b)>>>_|D.i(A+b+1)<<32-_:D.i(A+b);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pv=_R.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,pr=_R.Integer=s}).apply(typeof yR<"u"?yR:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={};var mv,Q$,Os,gv,tu,Yh,yv,_v,vv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var S=c[g];if(!(S in f))break e;f=f[S]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,S={next:function(){if(!g&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function I(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,S,x){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return d.prototype[S].apply(g,O)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let S=c.length||0,x=g.length||0;c.length=S+x;for(let O=0;O<x;O++)c[S+O]=g[O]}else c.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function j(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var yt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(f in g)c[f]=g[f];for(let x=0;x<b.length;x++)f=b[x],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function v(){var c=qf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class $n{constructor(){this.h=this.g=null}add(d,f){let g=ca.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ca=new P(()=>new QN,c=>c.reset());class QN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ua,la=!1,qf=new $n,BE=()=>{let c=a.Promise.resolve(void 0);ua=()=>{c.then(ZN)}};var ZN=()=>{for(var c;c=v();){try{c.h.call(c.g)}catch(f){A(f)}var d=ca;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}la=!1};function wr(){this.s=this.s,this.C=this.C}wr.prototype.s=!1,wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var XN=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function da(c,d){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(yt){e:{try{_e(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:JN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&da.aa.h.call(this)}}I(da,st);var JN={2:"touch",3:"pen",4:"mouse"};da.prototype.h=function(){da.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ha="closure_listenable_"+(1e6*Math.random()|0),ek=0;function tk(c,d,f,g,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=S,this.key=++ek,this.da=this.fa=!1}function Du(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tu(c){this.src=c,this.g={},this.h=0}Tu.prototype.add=function(c,d,f,g,S){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var O=Gf(c,d,g,S);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new tk(d,this.src,x,!!g,S),d.fa=f,c.push(d)),d};function Wf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],S=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=S)&&Array.prototype.splice.call(g,S,1),x&&(Du(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Gf(c,d,f,g){for(var S=0;S<c.length;++S){var x=c[S];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return S}return-1}var Kf="closure_lm_"+(1e6*Math.random()|0),Yf={};function jE(c,d,f,g,S){if(g&&g.once)return $E(c,d,f,g,S);if(Array.isArray(d)){for(var x=0;x<d.length;x++)jE(c,d[x],f,g,S);return null}return f=Jf(f),c&&c[ha]?c.K(d,f,l(g)?!!g.capture:!!g,S):UE(c,d,f,!1,g,S)}function UE(c,d,f,g,S,x){if(!d)throw Error("Invalid event type");var O=l(S)?!!S.capture:!!S,ve=Zf(c);if(ve||(c[Kf]=ve=new Tu(c)),f=ve.add(d,f,g,O,x),f.proxy)return f;if(g=nk(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)XN||(S=O),S===void 0&&(S=!1),c.addEventListener(d.toString(),g,S);else if(c.attachEvent)c.attachEvent(zE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function nk(){function c(f){return d.call(c.src,c.listener,f)}let d=rk;return c}function $E(c,d,f,g,S){if(Array.isArray(d)){for(var x=0;x<d.length;x++)$E(c,d[x],f,g,S);return null}return f=Jf(f),c&&c[ha]?c.L(d,f,l(g)?!!g.capture:!!g,S):UE(c,d,f,!0,g,S)}function HE(c,d,f,g,S){if(Array.isArray(d))for(var x=0;x<d.length;x++)HE(c,d[x],f,g,S);else g=l(g)?!!g.capture:!!g,f=Jf(f),c&&c[ha]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=Gf(x,f,g,S),-1<f&&(Du(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Gf(d,f,g,S)),(f=-1<c?d[c]:null)&&Qf(f))}function Qf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ha])Wf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(zE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zf(d))?(Wf(f,c),f.h==0&&(f.src=null,d[Kf]=null)):Du(c)}}}function zE(c){return c in Yf?Yf[c]:Yf[c]="on"+c}function rk(c,d){if(c.da)c=!0;else{d=new da(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Qf(c),c=f.call(g,d)}return c}function Zf(c){return c=c[Kf],c instanceof Tu?c:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jf(c){return typeof c=="function"?c:(c[Xf]||(c[Xf]=function(d){return c.handleEvent(d)}),c[Xf])}function at(){wr.call(this),this.i=new Tu(this),this.M=this,this.F=null}I(at,wr),at.prototype[ha]=!0,at.prototype.removeEventListener=function(c,d,f,g){HE(this,c,d,f,g)};function _t(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new st(d,c);else if(d instanceof st)d.target=d.target||c;else{var S=d;d=new st(g,c),w(d,S)}if(S=!0,f)for(var x=f.length-1;0<=x;x--){var O=d.g=f[x];S=Cu(O,g,!0,d)&&S}if(O=d.g=c,S=Cu(O,g,!0,d)&&S,S=Cu(O,g,!1,d)&&S,f)for(x=0;x<f.length;x++)O=d.g=f[x],S=Cu(O,g,!1,d)&&S}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Du(f[g]);delete c.g[d],c.h--}}this.F=null},at.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},at.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Cu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,x=0;x<d.length;++x){var O=d[x];if(O&&!O.da&&O.capture==f){var ve=O.listener,rt=O.ha||O.src;O.fa&&Wf(c.i,O),S=ve.call(rt,g)!==!1&&S}}return S&&!g.defaultPrevented}function qE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function WE(c){c.g=qE(()=>{c.g=null,c.i&&(c.i=!1,WE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ik extends wr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:WE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(c){wr.call(this),this.h=c,this.g={}}I(fa,wr);var GE=[];function KE(c){pe(c.g,function(d,f){this.g.hasOwnProperty(f)&&Qf(d)},c),c.g={}}fa.prototype.N=function(){fa.aa.N.call(this),KE(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=a.JSON.stringify,ok=a.JSON.parse,sk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function tp(){}tp.prototype.h=null;function YE(c){return c.h||(c.h=c.i())}function QE(){}var pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function np(){st.call(this,"d")}I(np,st);function rp(){st.call(this,"c")}I(rp,st);var yi={},ZE=null;function Su(){return ZE=ZE||new at}yi.La="serverreachability";function XE(c){st.call(this,yi.La,c)}I(XE,st);function ma(c){let d=Su();_t(d,new XE(d))}yi.STAT_EVENT="statevent";function JE(c,d){st.call(this,yi.STAT_EVENT,c),this.stat=d}I(JE,st);function vt(c){let d=Su();_t(d,new JE(d,c))}yi.Ma="timingevent";function eI(c,d){st.call(this,yi.Ma,c),this.size=d}I(eI,st);function ga(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ya(){this.g=!0}ya.prototype.xa=function(){this.g=!1};function ak(c,d,f,g,S,x){c.info(function(){if(c.g)if(x)for(var O="",ve=x.split("&"),rt=0;rt<ve.length;rt++){var de=ve[rt].split("=");if(1<de.length){var ct=de[0];de=de[1];var ut=ct.split("_");O=2<=ut.length&&ut[1]=="type"?O+(ct+"="+de+"&"):O+(ct+"=redacted&")}}else O=null;else O=x;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+f+`
`+O})}function ck(c,d,f,g,S,x,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+f+`
`+x+" "+O})}function Mo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+lk(c,f)+(g?" "+g:"")})}function uk(c,d){c.info(function(){return"TIMEOUT: "+d})}ya.prototype.info=function(){};function lk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var x=S[0];if(x!="noop"&&x!="stop"&&x!="close")for(var O=1;O<S.length;O++)S[O]=""}}}}return ep(f)}catch{return d}}var Au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ip;function Ru(){}I(Ru,tp),Ru.prototype.g=function(){return new XMLHttpRequest},Ru.prototype.i=function(){return{}},ip=new Ru;function Dr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nI}function nI(){this.i=null,this.g="",this.h=!1}var rI={},op={};function sp(c,d,f){c.L=1,c.v=Mu(Hn(d)),c.m=f,c.P=!0,iI(c,null)}function iI(c,d){c.F=Date.now(),xu(c),c.A=Hn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),_I(f.i,"t",g),c.C=0,f=c.j.J,c.h=new nI,c.g=FI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ik(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(GE[0]=S.toString()),S=GE);for(var x=0;x<S.length;x++){var O=jE(f,S[x],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),ak(c.i,c.u,c.A,c.l,c.R,c.m)}Dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&zn(c)==3?d.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{let ut=zn(this.g);var d=this.g.Ba();let Fo=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||TI(this.g)))){this.J||ut!=4||d==7||(d==8||0>=Fo?ma(3):ma(2)),ap(this);var f=this.g.Z();this.X=f;t:if(oI(this)){var g=TI(this.g);c="";var S=g.length,x=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),_a(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(x&&d==S-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,ck(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,rt=this.g;if((ve=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ve)){var de=ve;break t}}de=null}if(f=de)Mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cp(this,f);else{this.o=!1,this.s=3,vt(12),_i(this),_a(this);break e}}if(this.P){f=!0;let Zt;for(;!this.J&&this.C<O.length;)if(Zt=dk(this,O),Zt==op){ut==4&&(this.s=4,vt(14),f=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==rI){this.s=4,vt(15),Mo(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Mo(this.i,this.l,Zt,null),cp(this,Zt);if(oI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||O.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)Mo(this.i,this.l,O,"[Invalid Chunked Response]"),_i(this),_a(this);else if(0<O.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),pp(ct),ct.M=!0,vt(11))}}else Mo(this.i,this.l,O,null),cp(this,O);ut==4&&_i(this),this.o&&!this.J&&(ut==4?kI(this.j,this):(this.o=!1,xu(this)))}else Ak(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),_i(this),_a(this)}}}catch{}finally{}};function oI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dk(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?op:(f=Number(d.substring(f,g)),isNaN(f)?rI:(g+=1,g+f>d.length?op:(d=d.slice(g,g+f),c.C=g+f,d)))}Dr.prototype.cancel=function(){this.J=!0,_i(this)};function xu(c){c.S=Date.now()+c.I,sI(c,c.I)}function sI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ga(m(c.ba,c),d)}function ap(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(uk(this.i,this.A),this.L!=2&&(ma(),vt(17)),_i(this),this.s=2,_a(this)):sI(this,this.S-c)};function _a(c){c.j.G==0||c.J||kI(c.j,c)}function _i(c){ap(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,KE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function cp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||up(f.h,c))){if(!c.K&&up(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Vu(f),Fu(f);else break e;fp(f),vt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=ga(m(f.Za,f),6e3));if(1>=uI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else bi(f,11)}else if((c.K||f.g==c)&&Vu(f),!j(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let de=S[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];let ct=de[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));let ut=de[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));let Fo=de[5];Fo!=null&&typeof Fo=="number"&&0<Fo&&(g=1.5*Fo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Zt=c.g;if(Zt){let ju=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ju){var x=g.h;x.g||ju.indexOf("spdy")==-1&&ju.indexOf("quic")==-1&&ju.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(lp(x,x.h),x.h=null))}if(g.D){let mp=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;mp&&(g.ya=mp,we(g.I,g.D,mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=OI(g,g.J?g.ia:null,g.W),O.K){lI(g.h,O);var ve=O,rt=g.L;rt&&(ve.I=rt),ve.B&&(ap(ve),xu(ve)),g.g=O}else xI(g);0<f.i.length&&Lu(f)}else de[0]!="stop"&&de[0]!="close"||bi(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?bi(f,7):hp(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}ma(4)}catch{}}var hk=class{constructor(c,d){this.g=c,this.map=d}};function aI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uI(c){return c.h?1:c.g?c.g.size:0}function up(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function lp(c,d){c.g?c.g.add(d):c.h=d}function lI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}aI.prototype.cancel=function(){if(this.i=dI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function dI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function fk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function pk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function hI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=pk(c),g=fk(c),S=g.length,x=0;x<S;x++)d.call(void 0,g[x],f&&f[x],c)}var fI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),S=null;if(0<=g){var x=c[f].substring(0,g);S=c[f].substring(g+1)}else x=c[f];d(x,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,Nu(this,c.j),this.o=c.o,this.g=c.g,ku(this,c.s),this.l=c.l;var d=c.i,f=new Ea;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),pI(this,f),this.m=c.m}else c&&(d=String(c).match(fI))?(this.h=!1,Nu(this,d[1]||"",!0),this.o=va(d[2]||""),this.g=va(d[3]||"",!0),ku(this,d[4]),this.l=va(d[5]||"",!0),pI(this,d[6]||"",!0),this.m=va(d[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}vi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ba(d,mI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ba(d,mI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ba(f,f.charAt(0)=="/"?_k:yk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ba(f,bk)),c.join("")};function Hn(c){return new vi(c)}function Nu(c,d,f){c.j=f?va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ku(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function pI(c,d,f){d instanceof Ea?(c.i=d,Ek(c.i,c.h)):(f||(d=ba(d,vk)),c.i=new Ea(d,c.h))}function we(c,d,f){c.i.set(d,f)}function Mu(c){return we(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ba(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,gk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mI=/[#\/\?@]/g,yk=/[#\?:]/g,_k=/[#\?]/g,vk=/[#\?@]/g,bk=/#/g;function Ea(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Tr(c){c.g||(c.g=new Map,c.h=0,c.i&&mk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ea.prototype,t.add=function(c,d){Tr(this),this.i=null,c=Po(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function gI(c,d){Tr(c),d=Po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function yI(c,d){return Tr(c),d=Po(c,d),c.g.has(d)}t.forEach=function(c,d){Tr(this),this.g.forEach(function(f,g){f.forEach(function(S){c.call(d,S,g,this)},this)},this)},t.na=function(){Tr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let S=c[g];for(let x=0;x<S.length;x++)f.push(d[g])}return f},t.V=function(c){Tr(this);let d=[];if(typeof c=="string")yI(this,c)&&(d=d.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Tr(this),this.i=null,c=Po(this,c),yI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function _I(c,d,f){gI(c,d),0<f.length&&(c.i=null,c.g.set(Po(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var S=x;O[g]!==""&&(S+="="+encodeURIComponent(String(O[g]))),c.push(S)}}return this.i=c.join("&")};function Po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Ek(c,d){d&&!c.j&&(Tr(c),c.i=null,c.g.forEach(function(f,g){var S=g.toLowerCase();g!=S&&(gI(this,g),_I(this,S,f))},c)),c.j=d}function Ik(c,d){let f=new ya;if(a.Image){let g=new Image;g.onload=y(Cr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Cr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Cr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Cr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function wk(c,d){let f=new ya,g=new AbortController,S=setTimeout(()=>{g.abort(),Cr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(x=>{clearTimeout(S),x.ok?Cr(f,"TestPingServer: ok",!0,d):Cr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Cr(f,"TestPingServer: error",!1,d)})}function Cr(c,d,f,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(f)}catch{}}function Dk(){this.g=new sk}function Tk(c,d,f){let g=f||"";try{hI(c,function(S,x){let O=S;l(S)&&(O=ep(S)),d.push(g+x+"="+encodeURIComponent(O))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function Ia(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Ia,tp),Ia.prototype.g=function(){return new Pu(this.l,this.j)},Ia.prototype.i=(function(c){return function(){return c}})({});function Pu(c,d){at.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Pu,at),t=Pu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Da(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?wa(this):Da(this),this.readyState==3&&vI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,wa(this))},t.Qa=function(c){this.g&&(this.response=c,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Da(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bI(c){let d="";return pe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function dp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=bI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):we(c,d,f))}function ke(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ke,at);var Ck=/^https?$/i,Sk=["POST","PUT"];t=ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ip.g(),this.v=this.o?YE(this.o):YE(ip),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){EI(this,x);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)f.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Sk,d,void 0))||g||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,O]of f)this.g.setRequestHeader(x,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DI(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){EI(this,x)}};function EI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,II(c),Ou(c)}function II(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),Ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wI(this):this.bb())},t.bb=function(){wI(this)};function wI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)qE(c.Ea,0,c);else if(_t(c,"readystatechange"),zn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var S=String(c.D).match(fI)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!Ck.test(S?S.toLowerCase():"")}f=g}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var x=2<zn(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",II(c)}}finally{Ou(c)}}}}function Ou(c,d){if(c.g){DI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=g}catch{}}}function DI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),ok(d)}};function TI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ak(c){let d={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(j(c[g]))continue;var f=T(c[g]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[S]||[];d[S]=x,x.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function CI(c){this.Aa=0,this.i=[],this.j=new ya,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new aI(c&&c.concurrentRequestLimit),this.Da=new Dk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){vt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=OI(this,null,this.W),Lu(this)};function hp(c){if(SI(c),c.G==3){var d=c.U++,f=Hn(c.I);if(we(f,"SID",c.K),we(f,"RID",d),we(f,"TYPE","terminate"),Ca(c,f),d=new Dr(c,c.j,d),d.L=2,d.v=Mu(Hn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=FI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xu(d)}PI(c)}function Fu(c){c.g&&(pp(c),c.g.cancel(),c.g=null)}function SI(c){Fu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Vu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Lu(c){if(!cI(c.h)&&!c.s){c.s=!0;var d=c.Ga;ua||BE(),la||(ua(),la=!0),qf.add(d,c),c.B=0}}function Rk(c,d){return uI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ga(m(c.Ga,c,d),MI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new Dr(this,this.j,c),x=this.o;if(this.S&&(x?(x=_(x),w(x,this.S)):x=this.S),this.m!==null||this.O||(S.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=RI(this,S,d),f=Hn(this.I),we(f,"RID",c),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),Ca(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(bI(x)))+"&"+d:this.m&&dp(f,this.m,x)),lp(this.h,S),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),S.T=!0,sp(S,f,null)):sp(S,f,d),this.G=2}}else this.G==3&&(c?AI(this,c):this.i.length==0||cI(this.h)||AI(this))};function AI(c,d){var f;d?f=d.l:f=c.U++;let g=Hn(c.I);we(g,"SID",c.K),we(g,"RID",f),we(g,"AID",c.T),Ca(c,g),c.m&&c.o&&dp(g,c.m,c.o),f=new Dr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=RI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lp(c.h,f),sp(f,g,d)}function Ca(c,d){c.H&&pe(c.H,function(f,g){we(d,g,f)}),c.l&&hI({},function(f,g){we(d,g,f)})}function RI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var S=c.i;let x=-1;for(;;){let O=["count="+f];x==-1?0<f?(x=S[0].g,O.push("ofs="+x)):x=0:O.push("ofs="+x);let ve=!0;for(let rt=0;rt<f;rt++){let de=S[rt].g,ct=S[rt].map;if(de-=x,0>de)x=Math.max(0,S[rt].g-100),ve=!1;else try{Tk(ct,O,"req"+de+"_")}catch{g&&g(ct)}}if(ve){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function xI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ua||BE(),la||(ua(),la=!0),qf.add(d,c),c.v=0}}function fp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ga(m(c.Fa,c),MI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,NI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ga(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Fu(this),NI(this))};function pp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function NI(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Hn(c.qa);we(d,"RID","rpc"),we(d,"SID",c.K),we(d,"AID",c.T),we(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&we(d,"TO",c.ja),we(d,"TYPE","xmlhttp"),Ca(c,d),c.m&&c.o&&dp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Mu(Hn(d)),f.m=null,f.P=!0,iI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Fu(this),fp(this),vt(19))};function Vu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function kI(c,d){var f=null;if(c.g==d){Vu(c),pp(c),c.g=null;var g=2}else if(up(c.h,d))f=d.D,lI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;g=Su(),_t(g,new eI(g,f)),Lu(c)}else xI(c);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&Rk(c,d)||g==2&&fp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function MI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function bi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let S=!g;g=new vi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nu(g,"https"),Mu(g),S?Ik(g.toString(),f):wk(g.toString(),f)}else vt(2);c.G=0,c.l&&c.l.sa(d),PI(c),SI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function PI(c){if(c.G=0,c.ka=[],c.l){let d=dI(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function OI(c,d,f){var g=f instanceof vi?Hn(f):new vi(f);if(g.g!="")d&&(g.g=d+"."+g.g),ku(g,g.s);else{var S=a.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var x=new vi(null);g&&Nu(x,g),d&&(x.g=d),S&&ku(x,S),f&&(x.l=f),g=x}return f=c.D,d=c.ya,f&&d&&we(g,f,d),we(g,"VER",c.la),Ca(c,g),g}function FI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new Ia({eb:f})):new ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LI(){}t=LI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bu(){}Bu.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){at.call(this),this.g=new CI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!j(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!j(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oo(this)}I(Ot,at),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){hp(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ep(c),c=f);d.i.push(new hk(d.Ya++,c)),d.G==3&&Lu(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,Ot.aa.N.call(this)};function VI(c){np.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}I(VI,np);function BI(){rp.call(this),this.status=1}I(BI,rp);function Oo(c){this.g=c}I(Oo,LI),Oo.prototype.ua=function(){_t(this.g,"a")},Oo.prototype.ta=function(c){_t(this.g,new VI(c))},Oo.prototype.sa=function(c){_t(this.g,new BI)},Oo.prototype.ra=function(){_t(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,vv=mr.createWebChannelTransport=function(){return new Bu},_v=mr.getStatEventTarget=function(){return Su()},yv=mr.Event=yi,Yh=mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,tu=mr.ErrorCode=Au,tI.COMPLETE="complete",gv=mr.EventType=tI,QE.EventType=pa,pa.OPEN="a",pa.CLOSE="b",pa.ERROR="c",pa.MESSAGE="d",at.prototype.listen=at.prototype.K,Os=mr.WebChannel=QE,Q$=mr.FetchXmlHttpFactory=Ia,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,mv=mr.XhrIo=ke}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});var vR="@firebase/firestore",bR="4.8.0";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var ia="11.10.0";var To=new Pn("@firebase/firestore");function Fs(){return To.logLevel}function L(t,...e){if(To.logLevel<=ce.DEBUG){let n=e.map(uE);To.debug(`Firestore (${ia}): ${t}`,...n)}}function _r(t,...e){if(To.logLevel<=ce.ERROR){let n=e.map(uE);To.error(`Firestore (${ia}): ${t}`,...n)}}function di(t,...e){if(To.logLevel<=ce.WARN){let n=e.map(uE);To.warn(`Firestore (${ia}): ${t}`,...n)}}function uE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function H(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fx(t,r,n)}function fx(t,e,n){let r=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _r(r),new Error(r)}function fe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fx(e,i,r)}function X(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var nf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},Tv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Cv=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string",31837,{l:r}),new nf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new tt(e)}},Sv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Av=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Sv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Z$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function px(){return new TextEncoder}var au=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Z$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function xv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=px(),s=X$(o.encode(ER(t,n)),o.encode(ER(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function ER(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function X$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var IR="__name__",of=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&H(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):xv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}},Se=class t extends of{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},J$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class t extends of{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return J$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IR}static keyField(){return new t([IR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};function mx(t,e,n){if(!n)throw new F(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eH(t,e,n,r){if(e===!0&&r===!0)throw new F(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wR(t){if(!U.isDocumentKey(t))throw new F(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DR(t){if(U.isDocumentKey(t))throw new F(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H(12329,{type:typeof t})}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ff(t);throw new F(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ge(t,e){let n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!gx(t))throw new F(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new F(k.INVALID_ARGUMENT,n);return!0}var TR=-62135596800,CR=1e6,Ke=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TR)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CR}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-TR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Ge("string",Ke._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};var ne=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ke(0,0))}static max(){return new t(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cu=-1,Nv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Nv.UNKNOWN_ID=-1;function tH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Co(i,U.empty(),e)}function nH(t){return new Co(t.readTime,t.key,cu)}var Co=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),U.empty(),cu)}static max(){return new t(ne.max(),U.empty(),cu)}};function rH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var iH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function oa(t){return E(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==iH)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function oH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sa(t){return t.name==="IndexedDbTransactionError"}var lE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),dE=-1;function Lf(t){return t==null}function uu(t){return t===0&&1/t==-1/0}function sH(t){return typeof t=="number"&&Number.isInteger(t)&&!uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var yx="";function aH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SR(e)),e=cH(t.get(n),e);return SR(e)}function cH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case yx:n+="";break;default:n+=o}}return n}function SR(t){return t+yx+""}var uH="remoteDocuments",_x="owner";var vx="mutationQueues";var bx="mutations";var Ex="documentMutations",lH="remoteDocumentsV14";var Ix="remoteDocumentGlobal";var wx="targets";var Dx="targetDocuments";var Tx="targetGlobal",Cx="collectionParents";var Sx="clientMetadata";var Ax="bundles";var Rx="namedQueries";var dH="indexConfiguration";var hH="indexState";var fH="indexEntries";var xx="documentOverlays";var pH="globals";var mH=[vx,bx,Ex,uH,wx,_x,Tx,Dx,Sx,Ix,Cx,Ax,Rx],$ae=[...mH,xx],gH=[vx,bx,Ex,lH,wx,_x,Tx,Dx,Sx,Ix,Cx,Ax,Rx,xx],yH=gH,_H=[...yH,dH,hH,fH];var Hae=[..._H,pH];function AR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var nt=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sf(this.data.getIterator())}getIteratorFrom(e){return new sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},sf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qt=class t{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new t([])}unionWith(e){let n=new nt($t.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new af("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var vH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(t){if(fe(!!t,39018),typeof t=="string"){let e=0,n=vH.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function br(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}var kx="server_timestamp",Mx="__type__",Px="__previous_value__",Ox="__local_write_time__";function hE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mx])===null||n===void 0?void 0:n.stringValue)===kx}function Vf(t){let e=t.mapValue.fields[Px];return hE(e)?Vf(e):e}function lu(t){let e=vr(t.mapValue.fields[Ox].timestampValue);return new Ke(e.seconds,e.nanos)}var Mv=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},cf="(default)",uf=class t{constructor(e,n){this.projectId=e,this.database=n||cf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===cf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fE="__type__",Fx="__max__",Qh={mapValue:{fields:{__type__:{stringValue:Fx}}}},pE="__vector__",qs="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hE(t)?4:Vx(t)?9007199254740991:Lx(t)?10:11:H(28295,{value:t})}function jn(t,e){if(t===e)return!0;let n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lu(t).isEqual(lu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vr(i.timestampValue),a=vr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return br(i.bytesValue).isEqual(br(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),a=Ce(o.doubleValue);return s===a?uu(s)===uu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AR(s)!==AR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!jn(s[u],a[u])))return!1;return!0})(t,e);default:return H(52216,{left:t})}}function du(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function Ws(t,e){if(t===e)return 0;let n=hi(t),r=hi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return RR(t.timestampValue,e.timestampValue);case 4:return RR(lu(t),lu(e));case 5:return xv(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=br(o),u=br(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ae(Ce(o.latitude),Ce(s.latitude));return a!==0?a:ae(Ce(o.longitude),Ce(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xR(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[qs])===null||a===void 0?void 0:a.arrayValue,I=(u=m[qs])===null||u===void 0?void 0:u.arrayValue,R=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:xR(y,I)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Qh.mapValue&&s===Qh.mapValue)return 0;if(o===Qh.mapValue)return 1;if(s===Qh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=xv(u[p],h[p]);if(m!==0)return m;let y=Ws(a[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)})(t.mapValue,e.mapValue);default:throw H(23264,{le:n})}}function RR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=vr(t),r=vr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function xR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ws(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function Gs(t){return Pv(t)}function Pv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=vr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return U.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Pv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Pv(n.fields[s])}`;return i+"}"})(t.mapValue):H(61005,{value:t})}function Jh(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Vf(t);return e?16+Jh(e):16;case 5:return 2*t.stringValue.length;case 6:return br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Jh(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return gi(r.fields,(o,s)=>{i+=o.length+Jh(s)}),i})(t.mapValue);default:throw H(13486,{value:t})}}function NR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ov(t){return!!t&&"integerValue"in t}function mE(t){return!!t&&"arrayValue"in t}function kR(t){return!!t&&"nullValue"in t}function MR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function Lx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fE])===null||n===void 0?void 0:n.stringValue)===pE}function ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fx}var qae={mapValue:{fields:{[fE]:{stringValue:pE},[qs]:{arrayValue:{}}}}};var Ut=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ru(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ru(this.value))}};function Bx(t){let e=[];return gi(t.fields,(n,r)=>{let i=new $t([n]);if(ef(r)){let o=Bx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Qt(e)}var mn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ks=class{constructor(e,n){this.position=e,this.inclusive=n}};function PR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),n.key):r=Ws(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Ys=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function bH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var lf=class{},We=class t extends lf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lv(e,n,r):n==="array-contains"?new jv(e,r):n==="in"?new Uv(e,r):n==="not-in"?new $v(e,r):n==="array-contains-any"?new Hv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vv(e,r):new Bv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ws(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class t extends lf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return jx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function jx(t){return t.op==="and"}function Ux(t){return EH(t)&&jx(t)}function EH(t){for(let e of t.filters)if(e instanceof gn)return!1;return!0}function Fv(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(Ux(t))return t.filters.map(e=>Fv(e)).join(",");{let e=t.filters.map(n=>Fv(n)).join(",");return`${t.op}(${e})`}}function $x(t,e){return t instanceof We?(function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)})(t,e):t instanceof gn?(function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&$x(s,i.filters[a]),!0):!1})(t,e):void H(19439)}function Hx(t){return t instanceof We?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`})(t):t instanceof gn?(function(n){return n.op.toString()+" {"+n.getFilters().map(Hx).join(" ,")+"}"})(t):"Filter"}var Lv=class extends We{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},Vv=class extends We{constructor(e,n){super(e,"in",n),this.keys=zx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bv=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=zx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function zx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var jv=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mE(n)&&du(n.arrayValue,this.value)}},Uv=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}},$v=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}},Hv=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>du(this.value.arrayValue,r))}};var zv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function FR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zv(t,e,n,r,i,o,s)}function gE(t){let e=X(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.Pe=n}return e.Pe}function yE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$x(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OR(t.startAt,e.startAt)&&OR(t.endAt,e.endAt)}function qv(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var So=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function IH(t,e,n,r,i,o,s,a){return new So(t,e,n,r,i,o,s,a)}function _E(t){return new So(t)}function LR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qx(t){return t.collectionGroup!==null}function iu(t){let e=X(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nt($t.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ys(o,r))}),n.has($t.keyField().canonicalString())||e.Te.push(new Ys($t.keyField(),r))}return e.Te}function Vn(t){let e=X(t);return e.Ie||(e.Ie=wH(e,iu(t))),e.Ie}function wH(t,e){if(t.limitType==="F")return FR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ys(i.field,o)});let n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;return FR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wv(t,e){let n=t.filters.concat([e]);return new So(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gv(t,e,n){return new So(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return yE(Vn(t),Vn(e))&&t.limitType===e.limitType}function Wx(t){return`${gE(Vn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hx(i)).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`})(Vn(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of iu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=PR(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,iu(r),i)||r.endAt&&!(function(s,a,u){let l=PR(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,iu(r),i))})(t,e)}function DH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gx(t){return(e,n)=>{let r=!1;for(let i of iu(t)){let o=TH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function TH(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ws(u,l):H(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:t.dir})}}var Er=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}};var CH=new Oe(U.comparator);function Ir(){return CH}var Kx=new Oe(U.comparator);function nu(...t){let e=Kx;for(let n of t)e=e.insert(n.key,n);return e}function Yx(t){let e=Kx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return ou()}function Qx(){return ou()}function ou(){return new Er(t=>t.toString(),(t,e)=>t.isEqual(e))}var SH=new Oe(U.comparator),AH=new nt(U.comparator);function ue(...t){let e=AH;for(let n of t)e=e.add(n);return e}var RH=new nt(ae);function xH(){return RH}function vE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function Zx(t){return{integerValue:""+t}}function NH(t,e){return sH(e)?Zx(e):vE(t,e)}var Qs=class{constructor(){this._=void 0}};function kH(t,e,n){return t instanceof Zs?(function(i,o){let s={fields:{[Mx]:{stringValue:kx},[Ox]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hE(o)&&(o=Vf(o)),o&&(s.fields[Px]=o),{mapValue:s}})(n,e):t instanceof Ao?Jx(t,e):t instanceof Ro?eN(t,e):(function(i,o){let s=Xx(i,o),a=VR(s)+VR(i.Ee);return Ov(s)&&Ov(i.Ee)?Zx(a):vE(i.serializer,a)})(t,e)}function MH(t,e,n){return t instanceof Ao?Jx(t,e):t instanceof Ro?eN(t,e):n}function Xx(t,e){return t instanceof Xs?(function(r){return Ov(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Zs=class extends Qs{},Ao=class extends Qs{constructor(e){super(),this.elements=e}};function Jx(t,e){let n=tN(e);for(let r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ro=class extends Qs{constructor(e){super(),this.elements=e}};function eN(t,e){let n=tN(e);for(let r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}var Xs=class extends Qs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function VR(t){return Ce(t.integerValue||t.doubleValue)}function tN(t){return mE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ao&&i instanceof Ao||r instanceof Ro&&i instanceof Ro?zs(r.elements,i.elements,jn):r instanceof Xs&&i instanceof Xs?jn(r.Ee,i.Ee):r instanceof Zs&&i instanceof Zs})(t.transform,e.transform)}var Kv=class{constructor(e,n){this.version=e,this.transformResults=n}},yr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Js=class{};function nN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hu(t.key,yr.none()):new xo(t.key,t.data,yr.none());{let n=t.data,r=Ut.empty(),i=new nt($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Un(t.key,r,new Qt(i.toArray()),yr.none())}}function OH(t,e,n){t instanceof xo?(function(i,o,s){let a=i.value.clone(),u=jR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Un?(function(i,o,s){if(!tf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=jR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(rN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function su(t,e,n,r){return t instanceof xo?(function(o,s,a,u){if(!tf(o.precondition,s))return a;let l=o.value.clone(),h=UR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Un?(function(o,s,a,u){if(!tf(o.precondition,s))return a;let l=UR(o.fieldTransforms,u,s),h=s.data;return h.setAll(rN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return tf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function FH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Xx(r.transform,i||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function BR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(o,s)=>PH(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var xo=class extends Js{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Un=class extends Js{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function rN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jR(t,e,n){let r=new Map;fe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,MH(s,a,n[i]))}return r}function UR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,kH(o,s,e))}return r}var hu=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yv=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&OH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Qx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=nN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>BR(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>BR(n,r))}},Zv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return SH})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Xv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Jv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,le;function LH(t){switch(t){case k.OK:return H(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return H(15467,{code:t})}}function iN(t){if(t===void 0)return _r("GRPC error has no .code"),k.UNKNOWN;switch(t){case ze.OK:return k.OK;case ze.CANCELLED:return k.CANCELLED;case ze.UNKNOWN:return k.UNKNOWN;case ze.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ze.INTERNAL:return k.INTERNAL;case ze.UNAVAILABLE:return k.UNAVAILABLE;case ze.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ze.NOT_FOUND:return k.NOT_FOUND;case ze.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ze.ABORTED:return k.ABORTED;case ze.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ze.DATA_LOSS:return k.DATA_LOSS;default:return H(39323,{code:t})}}(le=ze||(ze={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var $R=null;var VH=new pr([4294967295,4294967295],0);function HR(t){let e=px().encode(t),n=new pv;return n.update(e),new Uint8Array(n.digest())}function zR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pr([n,r],0),new pr([i,o],0)]}var eb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Io(`Invalid padding: ${n}`);if(r<0)throw new Io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Io(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=pr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(pr.fromNumber(r)));return i.compare(VH)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=HR(e),[r,i]=zR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=HR(e),[r,i]=zR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Io=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var df=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Oe(ae),Ir(),ue())}},fu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Us=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},hf=class{constructor(e,n){this.targetId=e,this.De=n}},ff=class{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},pf=class{constructor(){this.ve=0,this.Ce=qR(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:o})}}),new fu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=qR()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},tb=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ir(),this.je=Zh(),this.Je=Zh(),this.He=new Oe(ae)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(qv(o))if(r===0){let s=new U(o.path);this.Xe(n,s,mn.newNoDocument(s,ne.min()))}else fe(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}$R?.ct((function(h,p,m,y,I){var R,N,P,j,J,_e;let yt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},pe=p.unchangedNames;return pe&&(yt.bloomFilter={applied:I===0,hashCount:(R=pe?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(j=(P=(N=pe?.bits)===null||N===void 0?void 0:N.bitmap)===null||P===void 0?void 0:P.length)!==null&&j!==void 0?j:0,padding:(_e=(J=pe?.bits)===null||J===void 0?void 0:J.padding)!==null&&_e!==void 0?_e:0,mightContain:D=>{var _;return(_=y?.mightContain(D))!==null&&_!==void 0&&_}}),yt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=br(r).toUint8Array()}catch(u){if(u instanceof af)return di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new eb(s,i,o)}catch(u){return di(u instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&qv(a.target)){let u=new U(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,mn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new df(e,n,this.He,this.ze,r);return this.ze=Ir(),this.je=Zh(),this.Je=Zh(),this.He=new Oe(ae),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new pf,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new nt(ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new nt(ae),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new pf),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Zh(){return new Oe(U.comparator)}function qR(){return new Oe(U.comparator)}var BH={asc:"ASCENDING",desc:"DESCENDING"},jH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UH={and:"AND",or:"OR"},nb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function rb(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $H(t,e){return mf(t,e.toTimestamp())}function Bn(t){return fe(!!t,49232),ne.fromTimestamp((function(n){let r=vr(n);return new Ke(r.seconds,r.nanos)})(t))}function bE(t,e){return ib(t,e).canonicalString()}function ib(t,e){let n=(function(i){return new Se(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sN(t){let e=Se.fromString(t);return fe(dN(e),10190,{key:e.toString()}),e}function ob(t,e){return bE(t.databaseId,e.path)}function bv(t,e){let n=sN(e);if(n.get(1)!==t.databaseId.projectId)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(cN(n))}function aN(t,e){return bE(t.databaseId,e)}function HH(t){let e=sN(t);return e.length===4?Se.emptyPath():cN(e)}function sb(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cN(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WR(t,e,n){return{name:ob(t,e),fields:n.value.mapValue.fields}}function zH(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(fe(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?k.UNKNOWN:iN(l.code);return new F(h,l.message||"")})(s);n=new ff(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bv(t,r.document.name),o=Bn(r.document.updateTime),s=r.document.createTime?Bn(r.document.createTime):ne.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=mn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bv(t,r.document),o=r.readTime?Bn(r.readTime):ne.min(),s=mn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bv(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Jv(i,o),a=r.targetId;n=new hf(a,s)}}return n}function qH(t,e){let n;if(e instanceof xo)n={update:WR(t,e.key,e.value)};else if(e instanceof hu)n={delete:ob(t,e.key)};else if(e instanceof Un)n={update:WR(t,e.key,e.data),updateMask:ez(e.fieldMask)};else{if(!(e instanceof Yv))return H(16599,{Rt:e.type});n={verify:ob(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw H(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:$H(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H(27497)})(t,e.precondition)),n}function WH(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Bn(i.updateTime):Bn(o);return s.isEqual(ne.min())&&(s=Bn(o)),new Kv(s,i.transformResults||[])})(n,e))):[]}function GH(t,e){return{documents:[aN(t,e.path)]}}function KH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aN(t,i);let o=(function(l){if(l.length!==0)return lN(gn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Vs(m.field),direction:ZH(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=rb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function YH(t){let e=HH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=uN(p);return m instanceof gn&&Ux(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(I){return new Ys(Bs(I.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Lf(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ks(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ks(y,m)})(n.endAt)),IH(e,i,s,o,a,"F",u,l)}function QH(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bs(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bs(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bs(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bs(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}})(t):t.fieldFilter!==void 0?(function(n){return We.create(Bs(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gn.create(n.compositeFilter.filters.map(r=>uN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}})(n.compositeFilter.op))})(t):H(30097,{filter:t})}function ZH(t){return BH[t]}function XH(t){return jH[t]}function JH(t){return UH[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Bs(t){return $t.fromServerFormat(t.fieldPath)}function lN(t){return t instanceof We?(function(n){if(n.op==="=="){if(MR(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(kR(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MR(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(kR(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:XH(n.op),value:n.value}}})(t):t instanceof gn?(function(n){let r=n.getFilters().map(i=>lN(i));return r.length===1?r[0]:{compositeFilter:{op:JH(n.op),filters:r}}})(t):H(54877,{filter:t})}function ez(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pu=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ab=class{constructor(e){this.gt=e}};function tz(t){let e=YH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gv(e,e.limit,"L"):e}var gf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),uu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=vr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(br(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?Vx(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):Lx(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):H(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=qs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ce(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),U.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};gf.Ut=new gf;var cb=class{constructor(){this.Dn=new ub}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Co.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},ub=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Se.comparator)).toArray()}};var Wae=new Uint8Array(0);var GR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hN=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(hN,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var mu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var KR="LruGarbageCollector",nz=1048576;function YR([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var lb=class{constructor(e){this.Tr=e,this.buffer=new nt(YR),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();YR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},db=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(KR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){sa(n)?L(KR,"Ignoring IndexedDB error during garbage collection: ",n):yield oa(n)}yield this.Rr(3e5)}))}},hb=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(lE.ue);let r=new lb(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(GR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GR):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Fs()<=ce.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function rz(t,e){return new hb(t,e)}var fb=class{constructor(){this.changes=new Er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var mb=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&su(r.mutation,i,Qt.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ir(),s=ou(),a=(function(){return ou()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Un)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),su(h.mutation,l,h.mutation.getFieldMask(),Ke.now())):s.set(l.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new pb(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ou(),i=new Oe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Qt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Qx();h.forEach(m=>{if(!o.has(m)){let y=nN(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Eo()),a=cu,u=o;return s.next(l=>M.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:Yx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=nu();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{let l=(function(p,m){return new So(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,mn.newInvalidDocument(h)))});let a=nu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&su(h.mutation,l,Qt.empty(),Ke.now()),jf(n,l)&&(a=a.insert(u,l))}),a})}};var gb=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}})(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:tz(i.bundledQuery),readTime:Bn(i.readTime)}})(n)),M.resolve()}};var yb=class{constructor(){this.overlays=new Oe(U.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Eo();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Eo(),o=n.length+1,s=new U(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Eo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Eo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return M.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var _b=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var gu=class{constructor(){this.qr=new nt(qe.Qr),this.$r=new nt(qe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new qe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new qe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new U(new Se([])),r=new qe(n,e),i=new qe(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new U(new Se([])),r=new qe(n,e),i=new qe(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new qe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},qe=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return U.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||U.comparator(e.key,n.key)}};var vb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new nt(qe.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Qv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?dE:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ae);return n.forEach(i=>{let o=new qe(i,0),s=new qe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let s=new qe(new U(o),0),a=new nt(ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),M.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new qe(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var bb=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(U.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ir(),s=n.path,a=new U(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||rH(nH(h),r)<=0||(i.has(h.key)||jf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){H(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Eb(this)}getSize(e){return M.resolve(this.size)}},Eb=class extends fb{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Ib=class{constructor(e){this.persistence=e,this.ii=new Er(n=>gE(n),yE),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.si=0,this.oi=new gu,this.targetCount=0,this._i=mu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new mu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var yf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new lE(0),this.ci=!1,this.ci=!0,this.li=new _b,this.referenceDelegate=e(this),this.hi=new Ib(this),this.indexManager=new cb,this.remoteDocumentCache=(function(i){return new bb(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new ab(n),this.Ti=new gb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new vb(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new wb(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},wb=class extends kv{constructor(e){super(),this.currentSequenceNumber=e}},Db=class t{constructor(e){this.persistence=e,this.Ai=new gu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=U.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},_f=class t{constructor(e,n){this.persistence=e,this.gi=new Er(r=>aH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rz(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jh(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Tb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Cb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sb=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return X0()?8:oH(et())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Cb;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Fs()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Fs()<=ce.DEBUG&&L("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Fs()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):M.resolve())}ps(e,n){if(LR(n))return M.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gv(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,Gv(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return LR(n)||i.isEqual(ne.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(Fs()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.vs(e,s,n,tH(i,cu)).next(a=>a))})}bs(e,n){let r=new nt(Gx(e));return n.forEach((i,o)=>{jf(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Fs()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.gs.getDocumentsMatchingQuery(e,n,Co.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var EE="LocalStore",iz=3e8,Ab=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Oe(ae),this.Ms=new Er(o=>gE(o),yE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function oz(t,e,n,r){return new Ab(t,e,n,r)}function fN(t,e){return E(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function sz(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=M.resolve();return m.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(R=>{let N=l.docVersions.get(I);fe(N!==null,48541),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pN(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function az(t,e){let n=X(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(R,N,P){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=iz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=Ir(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(cz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ne.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function cz(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ir();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L(EE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function uz(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lz(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new pu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Rb(t,e,n){return E(this,null,function*(){let r=X(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!sa(s))throw s;L(EE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function QR(t,e,n){let r=X(t),i=ne.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),m=p.Ms.get(h);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:ue())).next(a=>(dz(r,DH(e),a),{documents:a,qs:o})))}function dz(t,e,n){let r=t.xs.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var vf=class{constructor(){this.activeTargetIds=xH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xb=class{constructor(){this.Fo=new vf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Nb=class{xo(e){}shutdown(){}};var ZR="ConnectivityMonitor",bf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(ZR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(ZR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xh=null;function kb(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}var Ev="RestConnection",hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mb=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===cf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=kb(),a=this.Go(e,n.toUriEncodedString());L(Ev,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Qr(l);return this.jo(e,a,u,r,h).then(p=>(L(Ev,`Received RPC '${e}' ${s}: `,p),p),p=>{throw di(Ev,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ia})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=hz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Pb=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var mt="WebChannelConnection",Ob=class extends Mb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=kb();return new Promise((a,u)=>{let l=new mv;l.setWithCredentials(!0),l.listenOnce(gv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tu.NO_ERROR:let p=l.getResponseJson();L(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tu.TIMEOUT:L(mt,`RPC '${e}' ${s} timed out`),u(new F(k.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:let m=l.getStatus();if(L(mt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let R=(function(P){let j=P.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(j)>=0?j:k.UNKNOWN})(I.status);u(new F(R,I.message))}else u(new F(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(k.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(mt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=kb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vv(),a=_v(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,I=new Pb({Ho:N=>{y?L(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(L(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(mt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),R=(N,P,j)=>{N.listen(P,J=>{try{j(J)}catch(_e){setTimeout(()=>{throw _e},0)}})};return R(p,Os.EventType.OPEN,()=>{y||(L(mt,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),R(p,Os.EventType.CLOSE,()=>{y||(y=!0,L(mt,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),R(p,Os.EventType.ERROR,N=>{y||(y=!0,di(mt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),I.__(new F(k.UNAVAILABLE,"The operation could not be completed")))}),R(p,Os.EventType.MESSAGE,N=>{var P;if(!y){let j=N.data[0];fe(!!j,16349);let J=j,_e=J?.error||((P=J[0])===null||P===void 0?void 0:P.error);if(_e){L(mt,`RPC '${e}' stream ${i} received error:`,_e);let yt=_e.status,pe=(function(b){let w=ze[b];if(w!==void 0)return iN(w)})(yt),D=_e.message;pe===void 0&&(pe=k.INTERNAL,D="Unknown error status: "+yt+" with message "+_e.message),y=!0,I.__(new F(pe,D)),p.close()}else L(mt,`RPC '${e}' stream ${i} received:`,j),I.a_(j)}}),R(a,yv.STAT_EVENT,N=>{N.stat===Yh.PROXY?L(mt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Yh.NOPROXY&&L(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Iv(){return typeof document<"u"?document:null}function Uf(t){return new nb(t,!0)}var Ef=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var XR="PersistentStream",If=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ef(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return E(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return E(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return E(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new F(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>E(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(XR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(L(XR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Fb=class extends If{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=zH(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Bn(s.readTime):ne.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=sb(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=qv(u)?{documents:GH(o,u)}:{query:KH(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=oN(o,s.resumeToken);let l=rb(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=mf(o,s.snapshotVersion.toTimestamp());let l=rb(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=QH(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=sb(this.serializer),n.removeTarget=e,this.k_(n)}},Lb=class extends If{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=WH(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=sb(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>qH(this.serializer,r))};this.k_(n)}};var Vb=class{},Bb=class extends Vb{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ib(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(k.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,ib(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},jb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_r(n),this._a=!1):L("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var No="RemoteStore",Ub=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>E(this,null,function*(){ko(this)&&(L(No,"Restarting streams for network reachability change."),yield(function(u){return E(this,null,function*(){let l=X(u);l.Ia.add(4),yield bu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield $f(l)})})(this))}))}),this.Aa=new jb(r,i)}};function $f(t){return E(this,null,function*(){if(ko(t))for(let e of t.da)yield e(!0)})}function bu(t){return E(this,null,function*(){for(let e of t.da)yield e(!1)})}function mN(t,e){let n=X(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),TE(n)?DE(n):aa(n).x_()&&wE(n,e))}function IE(t,e){let n=X(t),r=aa(n);n.Ta.delete(e),r.x_()&&gN(n,e),n.Ta.size===0&&(r.x_()?r.B_():ko(n)&&n.Aa.set("Unknown"))}function wE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).H_(e)}function gN(t,e){t.Ra.$e(e),aa(t).Y_(e)}function DE(t){t.Ra=new tb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.Aa.aa()}function TE(t){return ko(t)&&!aa(t).M_()&&t.Ta.size>0}function ko(t){return X(t).Ia.size===0}function yN(t){t.Ra=void 0}function fz(t){return E(this,null,function*(){t.Aa.set("Online")})}function pz(t){return E(this,null,function*(){t.Ta.forEach((e,n)=>{wE(t,e)})})}function mz(t,e){return E(this,null,function*(){yN(t),TE(t)?(t.Aa.la(e),DE(t)):t.Aa.set("Unknown")})}function gz(t,e,n){return E(this,null,function*(){if(t.Aa.set("Online"),e instanceof ff&&e.state===2&&e.cause)try{yield(function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(t,e)}catch(r){L(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wf(t,r)}else if(e instanceof Us?t.Ra.Ye(e):e instanceof hf?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ne.min()))try{let r=yield pN(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),gN(o,u);let p=new pu(h.target,u,l,h.sequenceNumber);wE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n))}catch(r){L(No,"Failed to raise snapshot:",r),yield wf(t,r)}})}function wf(t,e,n){return E(this,null,function*(){if(!sa(e))throw e;t.Ia.add(1),yield bu(t),t.Aa.set("Offline"),n||(n=()=>pN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){L(No,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield $f(t)}))})}function _N(t,e){return e().catch(n=>wf(t,n,e))}function Hf(t){return E(this,null,function*(){let e=X(t),n=fi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:dE;for(;yz(e);)try{let i=yield uz(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,_z(e,i)}catch(i){yield wf(e,i)}vN(e)&&bN(e)})}function yz(t){return ko(t)&&t.Pa.length<10}function _z(t,e){t.Pa.push(e);let n=fi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function vN(t){return ko(t)&&!fi(t).M_()&&t.Pa.length>0}function bN(t){fi(t).start()}function vz(t){return E(this,null,function*(){fi(t).na()})}function bz(t){return E(this,null,function*(){let e=fi(t);for(let n of t.Pa)e.X_(n.mutations)})}function Ez(t,e,n){return E(this,null,function*(){let r=t.Pa.shift(),i=Zv.from(r,e,n);yield _N(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Hf(t)})}function Iz(t,e){return E(this,null,function*(){e&&fi(t).Z_&&(yield(function(r,i){return E(this,null,function*(){if((function(s){return LH(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();fi(r).N_(),yield _N(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hf(r)}})})(t,e)),vN(t)&&bN(t)})}function JR(t,e){return E(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),L(No,"RemoteStore received new credentials");let r=ko(n);n.Ia.add(3),yield bu(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield $f(n)})}function wz(t,e){return E(this,null,function*(){let n=X(t);e?(n.Ia.delete(2),yield $f(n)):e||(n.Ia.add(2),yield bu(n),n.Aa.set("Unknown"))})}function aa(t){return t.Va||(t.Va=(function(n,r,i){let o=X(n);return o.ia(),new Fb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:fz.bind(null,t),e_:pz.bind(null,t),n_:mz.bind(null,t),J_:gz.bind(null,t)}),t.da.push(e=>E(null,null,function*(){e?(t.Va.N_(),TE(t)?DE(t):t.Aa.set("Unknown")):(yield t.Va.stop(),yN(t))}))),t.Va}function fi(t){return t.ma||(t.ma=(function(n,r,i){let o=X(n);return o.ia(),new Lb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:vz.bind(null,t),n_:Iz.bind(null,t),ea:bz.bind(null,t),ta:Ez.bind(null,t)}),t.da.push(e=>E(null,null,function*(){e?(t.ma.N_(),yield Hf(t)):(yield t.ma.stop(),t.Pa.length>0&&(L(No,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var $b=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CE(t,e){if(_r("AsyncQueue",`${e}: ${t}`),sa(t))return new F(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Df=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=nu(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Tf=class{constructor(){this.fa=new Oe(U.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ea=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Df.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Hb=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},zb=class{constructor(){this.queries=ex(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=ex(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new F(k.ABORTED,"Firestore shutting down"))}};function ex(){return new Er(t=>Wx(t),Bf)}function Dz(t,e){return E(this,null,function*(){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Hb,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=CE(s,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&SE(n)})}function Tz(t,e){return E(this,null,function*(){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Cz(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&SE(n)}function Sz(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function SE(t){t.Da.forEach(e=>{e.next()})}var qb,tx;(tx=qb||(qb={})).Fa="default",tx.Cache="cache";var Wb=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==qb.Cache}};var Cf=class{constructor(e){this.key=e}},Sf=class{constructor(e){this.key=e}},Gb=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=Gx(e),this.eu=new Df(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Tf,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=jf(this.query,p)?p:null,I=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?I!==R&&(r.track({type:3,doc:y}),N=!0):this.iu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,I){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:N})}};return R(y)-R(I)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ea(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Tf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Sf(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Cf(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ea.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},AE="SyncEngine",Kb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Yb=class{constructor(e){this.key=e,this.lu=!1}},Qb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Er(a=>Wx(a),Bf),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(U.comparator),this.Eu=new Map,this.Au=new gu,this.Ru={},this.Vu=new Map,this.mu=mu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Az(t,e,n=!0){return E(this,null,function*(){let r=CN(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield EN(r,e,n,!0),i})}function Rz(t,e){return E(this,null,function*(){let n=CN(t);yield EN(n,e,!0,!1)})}function EN(t,e,n,r){return E(this,null,function*(){let i=yield lz(t.localStore,Vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield xz(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&mN(t.remoteStore,i),a})}function xz(t,e,n,r,i){return E(this,null,function*(){t.gu=(p,m,y)=>(function(R,N,P,j){return E(this,null,function*(){let J=N.view.nu(P);J.Ds&&(J=yield QR(R.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,J)));let _e=j&&j.targetChanges.get(N.targetId),yt=j&&j.targetMismatches.get(N.targetId)!=null,pe=N.view.applyChanges(J,R.isPrimaryClient,_e,yt);return rx(R,N.targetId,pe._u),pe.snapshot})})(t,p,m,y);let o=yield QR(t.localStore,e,!0),s=new Gb(e,o.qs),a=s.nu(o.documents),u=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);rx(t,n,l._u);let h=new Kb(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function Nz(t,e,n){return E(this,null,function*(){let r=X(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Bf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&IE(r.remoteStore,i.targetId),Zb(r,i.targetId)}).catch(oa))):(Zb(r,i.targetId),yield Rb(r.localStore,i.targetId,!0))})}function kz(t,e){return E(this,null,function*(){let n=X(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),IE(n.remoteStore,r.targetId))})}function Mz(t,e,n){return E(this,null,function*(){let r=jz(t);try{let i=yield(function(s,a){let u=X(s),l=Ke.now(),h=a.reduce((y,I)=>y.add(I.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Ir(),R=ue();return u.Os.getEntries(y,h).next(N=>{I=N,I.forEach((P,j)=>{j.isValidDocument()||(R=R.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(N=>{p=N;let P=[];for(let j of a){let J=FH(j,p.get(j.key).overlayedDocument);J!=null&&P.push(new Un(j.key,J,Bx(J.value.mapValue),yr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,P,a)}).next(N=>{m=N;let P=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,N.batchId,P)})}).then(()=>({batchId:m.batchId,changes:Yx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Oe(ae)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),yield Eu(r,i.changes),yield Hf(r.remoteStore)}catch(i){let o=CE(i,"Failed to persist write");n.reject(o)}})}function IN(t,e){return E(this,null,function*(){let n=X(t);try{let r=yield az(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?fe(s.lu,14607):i.removedDocuments.size>0&&(fe(s.lu,42227),s.lu=!1))}),yield Eu(n,r,e)}catch(r){yield oa(r)}})}function nx(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&SE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pz(t,e,n){return E(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(U.comparator);s=s.insert(o,mn.newNoDocument(o,ne.min()));let a=ue().add(o),u=new df(ne.min(),new Map,new Oe(ae),s,a);yield IN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),RE(r)}else yield Rb(r.localStore,e,!1).then(()=>Zb(r,e,n)).catch(oa)})}function Oz(t,e){return E(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield sz(n.localStore,e);DN(n,r,null),wN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Eu(n,i)}catch(i){yield oa(i)}})}function Fz(t,e,n){return E(this,null,function*(){let r=X(t);try{let i=yield(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(fe(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);DN(r,e,n),wN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Eu(r,i)}catch(i){yield oa(i)}})}function wN(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function DN(t,e,n){let r=X(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Zb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||TN(t,r)})}function TN(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(IE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),RE(t))}function rx(t,e,n){for(let r of n)r instanceof Cf?(t.Au.addReference(r.key,e),Lz(t,r)):r instanceof Sf?(L(AE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||TN(t,r.key)):H(19791,{yu:r})}function Lz(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(L(AE,"New document in limbo: "+n),t.Iu.add(r),RE(t))}function RE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new U(Se.fromString(e)),r=t.mu.next();t.Eu.set(r,new Yb(n)),t.du=t.du.insert(n,r),mN(t.remoteStore,new pu(Vn(_E(n.path)),r,"TargetPurposeLimboResolution",lE.ue))}}function Eu(t,e,n){return E(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Tb.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return E(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!sa(p))throw p;L(EE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),I=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(I);h.Fs=h.Fs.insert(m,R)}}})})(r.localStore,o))})}function Vz(t,e){return E(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){L(AE,"User change. New user:",e.toKey());let r=yield fN(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new F(k.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Eu(n,r.Bs)}})}function Bz(t,e){let n=X(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function CN(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pz.bind(null,e),e.hu.J_=Cz.bind(null,e.eventManager),e.hu.pu=Sz.bind(null,e.eventManager),e}function jz(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fz.bind(null,e),e}var SN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Uf(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return oz(this.persistence,new Sb,n.initialUser,this.serializer)}Du(n){return new yf(Db.Vi,this.serializer)}bu(n){return new xb}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Xb=class extends SN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){fe(this.persistence.referenceDelegate instanceof _f,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new db(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new yf(r=>_f.Vi(r,n),this.serializer)}};var Uz=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vz.bind(null,this.syncEngine),yield wz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new zb})()}createDatastore(n){let r=Uf(n.databaseInfo.databaseId),i=(function(s){return new Ob(s)})(n.databaseInfo);return(function(s,a,u,l){return new Bb(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new Ub(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>nx(this.syncEngine,r,0),(function(){return bf.C()?new bf:new Nb})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new Qb(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield(function(o){return E(this,null,function*(){let s=X(o);L(No,"RemoteStore shutting down."),s.Ia.add(5),yield bu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Jb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var pi="FirestoreClient",eE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=au.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){L(pi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(pi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=CE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wv(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L(pi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(null,null,function*(){r.isEqual(i)||(yield fN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{di("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{di("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function ix(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield $z(t);L(pi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JR(e.remoteStore,i)),t._onlineComponents=e})}function $z(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(pi,"Using user provided OfflineComponentProvider");try{yield wv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),yield wv(t,new SN)}}else L(pi,"Using default OfflineComponentProvider"),yield wv(t,new Xb(void 0));return t._offlineComponents})}function AN(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(pi,"Using user provided OnlineComponentProvider"),yield ix(t,t._uninitializedComponentsProvider._online)):(L(pi,"Using default OnlineComponentProvider"),yield ix(t,new Uz))),t._onlineComponents})}function Hz(t){return AN(t).then(e=>e.syncEngine)}function ox(t){return E(this,null,function*(){let e=yield AN(t),n=e.eventManager;return n.onListen=Az.bind(null,e.syncEngine),n.onUnlisten=Nz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Rz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kz.bind(null,e.syncEngine),n})}function RN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var sx=new Map;var xN="firestore.googleapis.com",ax=!0,Af=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xN,this.ssl=ax}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ax;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nz)throw new F(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ta=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Dv;switch(r.type){case"firstParty":return new Av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=sx.get(n);r&&(L("ComponentProvider","Removing Datastore"),sx.delete(n),r.terminate())})(this),Promise.resolve()}};function NN(t,e,n,r={}){var i;t=si(t,ta);let o=Qr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(wh(`https://${u}`),Dh("Firestore",!0)),s.host!==xN&&s.host!==u&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Mn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=tt.MOCK_USER;else{h=W0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tt(m)}t._authCredentials=new Tv(new nf(h,p))}}var na=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vu(n,t._jsonSchema))return new t(e,r||null,new U(Se.fromString(n.referencePath)))}};ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:Ge("string",ot._jsonSchemaVersion),referencePath:Ge("string")};var ai=class t extends na{constructor(e,n,r){super(e,n,_E(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function kN(t,e,...n){if(t=Xe(t),mx("collection","path",e),t instanceof ta){let r=Se.fromString(e,...n);return DR(r),new ai(t,null,r)}{if(!(t instanceof ot||t instanceof ai))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return DR(r),new ai(t.firestore,null,r)}}function xE(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=au.newId()),mx("doc","path",e),t instanceof ta){let r=Se.fromString(e,...n);return wR(r),new ot(t,null,new U(r))}{if(!(t instanceof ot||t instanceof ai))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return wR(r),new ot(t.firestore,t instanceof ai?t.converter:null,new U(r))}}var cx="AsyncQueue",Rf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ef(this,"async_queue_retry"),this.oc=()=>{let r=Iv();r&&L(cx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return E(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!sa(e))throw e;L(cx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,_r("INTERNAL UNHANDLED ERROR: ",ux(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=$b.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&H(47125,{hc:ux(this.tc)})}verifyOperationInProgress(){}Pc(){return E(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function ux(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function lx(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var mi=class extends ta{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rf(e),this._firestoreClient=void 0,yield e}})}};function MN(t,e){let n=typeof t=="object"?t:po(),r=typeof t=="string"?t:e||cf,i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=q0("firestore");o&&NN(i,...o)}return i}function PN(t){if(t._terminated)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zz(t),t._firestoreClient}function zz(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new Mv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var ci=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gt.fromBase64String(e))}catch(n){throw new F(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Ge("string",ci._jsonSchemaVersion),bytes:Ge("string")};var ra=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yu=class{constructor(e){this._methodName=e}};var ui=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(vu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ge("string",ui._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};var li=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new F(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ge("string",li._jsonSchemaVersion),vectorValues:Ge("object")};var qz=/^__.*__$/,tE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Un(e,this.data,this.fieldMask,n,this.fieldTransforms):new xo(e,this.data,n,this.fieldTransforms)}},xf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Un(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ON(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:t})}}var nE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return kf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ON(this.Ec)&&qz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},rE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uf(e)}Dc(e,n,r,i=!1){return new nE({Ec:e,methodName:n,bc:r,path:$t.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function NE(t){let e=t._freezeSettings(),n=Uf(t._databaseId);return new rE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wz(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);kE("Data must be an object, but it was:",s,r);let a=FN(r,s),u,l;if(o.merge)u=new Qt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=iE(e,p,n);if(!s.contains(m))throw new F(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VN(h,m)||h.push(m)}u=new Qt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new tE(new Ut(a),u,l)}var Nf=class t extends yu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Gz(t,e,n,r){let i=t.Dc(1,e,n);kE("Data must be an object, but it was:",i,r);let o=[],s=Ut.empty();gi(r,(u,l)=>{let h=ME(e,u,n);l=Xe(l);let p=i.gc(h);if(l instanceof Nf)o.push(h);else{let m=Iu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Qt(o);return new xf(s,a,i.fieldTransforms)}function Kz(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[iE(e,r,n)],u=[i];if(o.length%2!=0)throw new F(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(iE(e,o[m])),u.push(o[m+1]);let l=[],h=Ut.empty();for(let m=a.length-1;m>=0;--m)if(!VN(l,a[m])){let y=a[m],I=u[m];I=Xe(I);let R=s.gc(y);if(I instanceof Nf)l.push(y);else{let N=Iu(I,R);N!=null&&(l.push(y),h.set(y,N))}}let p=new Qt(l);return new xf(h,p,s.fieldTransforms)}function Yz(t,e,n,r=!1){return Iu(n,t.Dc(r?4:3,e))}function Iu(t,e){if(LN(t=Xe(t)))return kE("Unsupported field value:",e,t),FN(t,e);if(t instanceof yu)return(function(r,i){if(!ON(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Iu(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ke.fromDate(r);return{timestampValue:mf(i.serializer,o)}}if(r instanceof Ke){let o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mf(i.serializer,o)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:oN(i.serializer,r._byteString)};if(r instanceof ot){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof li)return(function(s,a){return{mapValue:{fields:{[fE]:{stringValue:pE},[qs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return vE(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Ff(r)}`)})(t,e)}function FN(t,e){let n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(t,(r,i)=>{let o=Iu(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function LN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof ui||t instanceof ci||t instanceof ot||t instanceof yu||t instanceof li)}function kE(t,e,n){if(!LN(n)||!gx(n)){let r=Ff(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function iE(t,e,n){if((e=Xe(e))instanceof ra)return e._internalPath;if(typeof e=="string")return ME(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Qz=new RegExp("[~\\*/\\[\\]]");function ME(t,e,n){if(e.search(Qz)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ra(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(k.INVALID_ARGUMENT,a+t+u)}function VN(t,e){return t.some(n=>n.isEqual(e))}var Mf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(PE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},oE=class extends Mf{data(){return super.data()}};function PE(t,e){return typeof e=="string"?ME(t,e):e instanceof ra?e._internalPath:e._delegate._internalPath}function Zz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _u=class{},sE=class extends _u{};function BN(t,e,...n){let r=[];e instanceof _u&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof aE).length,a=o.filter(u=>u instanceof Pf).length;if(s>1||s>0&&a>0)throw new F(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var Pf=class t extends sE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return UN(e._query,n),new na(e.firestore,e.converter,Wv(e._query,n))}_parse(e){let n=NE(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hx(p,h);let I=[];for(let R of p)I.push(dx(u,o,R));m={arrayValue:{values:I}}}else m=dx(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hx(p,h),m=Yz(a,s,p,h==="in"||h==="not-in");return We.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function jN(t,e,n){let r=e,i=PE("where",t);return Pf._create(i,r,n)}var aE=class t extends _u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)UN(s,u),s=Wv(s,u)})(e._query,n),new na(e.firestore,e.converter,Wv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function dx(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qx(e)&&n.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Se.fromString(n));if(!U.isDocumentKey(r))throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NR(t,new U(r))}if(n instanceof ot)return NR(t,n._key);throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function hx(t,e){if(!Array.isArray(t)||t.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UN(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new F(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cE=class{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return gi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[qs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new li(o)}convertGeoPoint(e){return new ui(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){let n=vr(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Se.fromString(e);fe(dN(r),9688,{name:e});let i=new uf(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(n)||_r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Xz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var wo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Do=class t extends Mf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new $s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(PE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Ge("string",Do._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var $s=class extends Do{data(e={}){return super.data(e)}},Hs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $s(this._firestore,this._userDataWriter,r.key,r,new wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Jz(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=au.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Jz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:t})}}Hs._jsonSchemaVersion="firestore/querySnapshot/1.0",Hs._jsonSchema={type:Ge("string",Hs._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var Of=class extends cE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}};function $N(t,e,n,...r){t=si(t,ot);let i=si(t.firestore,mi),o=NE(i),s;return s=typeof(e=Xe(e))=="string"||e instanceof ra?Kz(o,"updateDoc",t._key,e,n,r):Gz(o,"updateDoc",t._key,e),FE(i,[s.toMutation(t._key,yr.exists(!0))])}function HN(t){return FE(si(t.firestore,mi),[new hu(t._key,yr.none())])}function zN(t,e){let n=si(t.firestore,mi),r=xE(t),i=Xz(t.converter,e);return FE(n,[Wz(NE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function OE(t,...e){var n,r,i;t=Xe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lx(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lx(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ot)l=si(t.firestore,mi),h=_E(t._key.path),u={next:p=>{e[s]&&e[s](e4(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=si(t,na);l=si(p.firestore,mi),h=p._query;let m=new Of(l);u={next:y=>{e[s]&&e[s](new Hs(l,m,p,y))},error:e[s+1],complete:e[s+2]},Zz(t._query)}return(function(m,y,I,R){let N=new Jb(R),P=new Wb(y,N,I);return m.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return Dz(yield ox(m),P)})),()=>{N.Ou(),m.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return Tz(yield ox(m),P)}))}})(PN(l),h,a,u)}function FE(t,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return Mz(yield Hz(r),i,o)})),o.promise})(PN(t),e)}function e4(t,e,n){let r=n.docs.get(e._key),i=new Of(t);return new Do(t,i,e._key,r,new wo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ia=i})(Xr),fn(new St("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mi(new Cv(r.getProvider("auth-internal")),new Rv(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pe(vR,bR,e),Pe(vR,bR,"esm2017")})();var zf=function(){return zf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zf.apply(this,arguments)};var r4={includeMetadataChanges:!1};function qN(t,e){return e===void 0&&(e=r4),new q(function(n){var r=OE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function WN(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:zf(zf({},r),(n={},n[e.idField]=t.id,n))}function GN(t){return qN(t,{includeMetadataChanges:!0}).pipe(ht(function(e){return e.docs}))}function KN(t,e){return e===void 0&&(e={}),GN(t).pipe(ht(function(n){return n.map(function(r){return WN(r,e)})}))}var wu=class{constructor(e){return e}},YN="firestore",LE=class{constructor(){return ks(YN)}};var VE=new V("angularfire2.firestore-instances");function i4(t,e){let n=zc(YN,t,e);return n&&new wu(n)}function o4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new wu(r)}}var s4={provide:LE,deps:[[new Nt,VE]]},a4={provide:wu,useFactory:i4,deps:[[new Nt,VE],dr]};function uue(t,...e){return Pe("angularfire",Jr.full,"fst"),Yn([a4,s4,{provide:VE,useFactory:o4(t),multi:!0,deps:[W,oe,ei,go,[new Nt,eu],[new Nt,Ms],...e]}])}var lue=At(KN,!0);var due=At(zN,!0,2);var hue=At(kN,!0,2);var fue=At(HN,!0,2);var pue=At(xE,!0,2);var mue=At(MN,!0);var gue=At(BN,!0,2);var yue=At($N,!0,2);var _ue=At(jN,!0,2);export{z as a,De as b,c4 as c,E as d,Ee as e,nw as f,q as g,kp as h,Mp as i,se as j,Ai as k,Ri as l,Jt as m,Ni as n,eM as o,yw as p,ki as q,ht as r,Bp as s,Mi as t,Ra as u,Qo as v,uM as w,lM as x,dM as y,hM as z,xt as A,Dw as B,fM as C,Na as D,ka as E,Ma as F,gM as G,yM as H,jp as I,_M as J,Cw as K,vM as L,Oa as M,Sw as N,Nr as O,$p as P,Q,Bi as R,ja as S,B as T,Me as U,IM as V,V as W,Ye as X,C as Y,Yn as Z,zw as _,gm as $,Ue as aa,Or as ba,Ll as ca,Vl as da,yD as ea,oe as fa,me as ga,Zn as ha,Kn as ia,Cn as ja,Sn as ka,$r as la,ro as ma,ic as na,Hg as oa,xe as pa,to as qa,DP as ra,qg as sa,IT as ta,oc as ua,sc as va,Wg as wa,AP as xa,ls as ya,io as za,Gg as Aa,PP as Ba,OP as Ca,FP as Da,LP as Ea,VP as Fa,Kg as Ga,eO as Ha,xd as Ia,rO as Ja,iO as Ka,oo as La,Ja as Ma,dd as Na,cc as Oa,er as Pa,Tt as Qa,W as Ra,tr as Sa,an as Ta,ft as Ua,nr as Va,rr as Wa,N1 as Xa,ir as Ya,jC as Za,UC as _a,Ct as $a,Le as ab,Ze as bb,cn as cb,qC as db,xF as eb,Vd as fb,NF as gb,GC as hb,Nn as ib,so as jb,gy as kb,_y as lb,PF as mb,OF as nb,FF as ob,QC as pb,ao as qb,qr as rb,Bd as sb,ys as tb,_s as ub,or as vb,vy as wb,XC as xb,fc as yb,eS as zb,jd as Ab,vs as Bb,Wr as Cb,GF as Db,pc as Eb,mc as Fb,gc as Gb,KF as Hb,un as Ib,by as Jb,Ud as Kb,cS as Lb,bs as Mb,uS as Nb,$d as Ob,DL as Pb,CL as Qb,AL as Rb,Iy as Sb,kL as Tb,Hd as Ub,yS as Vb,cJ as Wb,Dy as Xb,Es as Yb,uJ as Zb,Bt as _b,lJ as $b,Wd as ac,nV as bc,Ty as cc,rV as dc,Is as ec,TS as fc,Yd as gc,cV as hc,wV as ic,DV as jc,TV as kc,Ry as lc,SV as mc,Nee as nc,kee as oc,nse as pc,rse as qc,Cae as rc,Sae as sc,Ke as tc,wu as uc,uue as vc,lue as wc,due as xc,hue as yc,fue as zc,pue as Ac,mue as Bc,gue as Cc,yue as Dc,_ue as Ec,Cc as Fc,Sc as Gc,Be as Hc,Oy as Ic,Gr as Jc,Nc as Kc,r0 as Lc,jy as Mc,cr as Nc,qne as Oc,f0 as Pc,JV as Qc,Ky as Rc,ur as Sc,g0 as Tc,_0 as Uc,v0 as Vc,Cs as Wc,b0 as Xc,yh as Yc,As as Zc,F0 as _c,vh as $c,t_ as ad,T2 as bd,noe as cd};
